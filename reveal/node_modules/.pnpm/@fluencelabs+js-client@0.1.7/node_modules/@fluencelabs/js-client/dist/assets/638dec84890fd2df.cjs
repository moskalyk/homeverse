(function(bt,nn){typeof exports=="object"&&typeof module<"u"?nn(require("crypto"),require("buffer"),require("worker_threads")):typeof define=="function"&&define.amd?define(["crypto","buffer","worker_threads"],nn):(bt=typeof globalThis<"u"?globalThis:bt||self,nn(bt.require$$0$1,bt.require$$0,bt.WorkerScope))})(this,function(bt,nn,Au){"use strict";function wu(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const Tu=wu(Au);var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rn;typeof window<"u"?rn=window:typeof te<"u"?rn=te:typeof it<"u"?rn=it:rn={};var vu=rn;const it=vu;function ar(t,e){return ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},ar(t,e)}function _r(t,e){function n(){this.constructor=t}ar(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Tn(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function vn(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;t=n.call(t);var r,i=[];try{for(;(e===void 0||0<e--)&&!(r=t.next()).done;)i.push(r.value)}catch(s){var o={error:s}}finally{try{r&&!r.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}return i}function Rn(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(vn(arguments[e]));return t}var Ru=typeof globalThis<"u"?globalThis:typeof global<"u"?global:{},B=typeof BigInt<"u"?BigInt:Ru.BigInt||Number,On=DataView;On.prototype.setBigUint64||(On.prototype.setBigUint64=function(t,e,n){if(e<Math.pow(2,32)){e=Number(e);var r=0}else{r=e.toString(2),e="";for(var i=0;i<64-r.length;i++)e+="0";e+=r,r=parseInt(e.substring(0,32),2),e=parseInt(e.substring(32),2)}this.setUint32(t+(n?0:4),e,n),this.setUint32(t+(n?4:0),r,n)},On.prototype.getBigUint64=function(t,e){var n=this.getUint32(t+(e?0:4),e);t=this.getUint32(t+(e?4:0),e),n=n.toString(2),t=t.toString(2),e="";for(var r=0;r<32-n.length;r++)e+="0";return B("0b"+t+(e+n))});var on=typeof global<"u"?global:typeof it<"u"?it:typeof window<"u"?window:{},Ft=[],Nt=[],Ou=typeof Uint8Array<"u"?Uint8Array:Array,pr=!1;function Bi(){pr=!0;for(var t=0;64>t;++t)Ft[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],Nt["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;Nt[45]=62,Nt[95]=63}function Nu(t,e,n){for(var r=[],i=e;i<n;i+=3)e=(t[i]<<16)+(t[i+1]<<8)+t[i+2],r.push(Ft[e>>18&63]+Ft[e>>12&63]+Ft[e>>6&63]+Ft[e&63]);return r.join("")}function Ui(t){pr||Bi();for(var e=t.length,n=e%3,r="",i=[],o=0,s=e-n;o<s;o+=16383)i.push(Nu(t,o,o+16383>s?s:o+16383));return n===1?(t=t[e-1],r+=Ft[t>>2],r+=Ft[t<<4&63],r+="=="):n===2&&(t=(t[e-2]<<8)+t[e-1],r+=Ft[t>>10],r+=Ft[t>>4&63],r+=Ft[t<<2&63],r+="="),i.push(r),i.join("")}function Nn(t,e,n,r,i){var o=8*i-r-1,s=(1<<o)-1,l=s>>1,d=-7;i=n?i-1:0;var c=n?-1:1,g=t[e+i];for(i+=c,n=g&(1<<-d)-1,g>>=-d,d+=o;0<d;n=256*n+t[e+i],i+=c,d-=8);for(o=n&(1<<-d)-1,n>>=-d,d+=r;0<d;o=256*o+t[e+i],i+=c,d-=8);if(n===0)n=1-l;else{if(n===s)return o?NaN:1/0*(g?-1:1);o+=Math.pow(2,r),n-=l}return(g?-1:1)*o*Math.pow(2,n-r)}function Ln(t,e,n,r,i,o){var s,l=8*o-i-1,d=(1<<l)-1,c=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;o=r?0:o-1;var y=r?1:-1,a=0>e||e===0&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(e=isNaN(e)?1:0,r=d):(r=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-r))&&(r--,s*=2),e=1<=r+c?e+g/s:e+g*Math.pow(2,1-c),2<=e*s&&(r++,s/=2),r+c>=d?(e=0,r=d):1<=r+c?(e=(e*s-1)*Math.pow(2,i),r+=c):(e=e*Math.pow(2,c-1)*Math.pow(2,i),r=0));8<=i;t[n+o]=e&255,o+=y,e/=256,i-=8);for(r=r<<i|e,l+=i;0<l;t[n+o]=r&255,o+=y,r/=256,l-=8);t[n+o-y]|=128*a}var Lu={}.toString,ki=Array.isArray||function(t){return Lu.call(t)=="[object Array]"};W.TYPED_ARRAY_SUPPORT=on.TYPED_ARRAY_SUPPORT!==void 0?on.TYPED_ARRAY_SUPPORT:!0;var Cu=W.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Vt(t,e){if((W.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return W.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=W.prototype):(t===null&&(t=new W(e)),t.length=e),t}function W(t,e,n){if(!(W.TYPED_ARRAY_SUPPORT||this instanceof W))return new W(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw Error("If encoding is specified then the first argument must be a string");return gr(this,t)}return Gi(this,t,e,n)}W.poolSize=8192,W._augment=function(t){return t.__proto__=W.prototype,t};function Gi(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer){if(e.byteLength,0>n||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=n===void 0&&r===void 0?new Uint8Array(e):r===void 0?new Uint8Array(e,n):new Uint8Array(e,n,r),W.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=W.prototype):t=dr(t,e),t}if(typeof e=="string"){if(r=t,t=n,(typeof t!="string"||t==="")&&(t="utf8"),!W.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return n=Yi(e,t)|0,r=Vt(r,n),e=r.write(e,t),e!==n&&(r=r.slice(0,e)),r}return Wu(t,e)}W.from=function(t,e,n){return Gi(null,t,e,n)},W.TYPED_ARRAY_SUPPORT&&(W.prototype.__proto__=Uint8Array.prototype,W.__proto__=Uint8Array);function Hi(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}W.alloc=function(t,e,n){return Hi(t),t=0>=t?Vt(null,t):e!==void 0?typeof n=="string"?Vt(null,t).fill(e,n):Vt(null,t).fill(e):Vt(null,t),t};function gr(t,e){if(Hi(e),t=Vt(t,0>e?0:yr(e)|0),!W.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}W.allocUnsafe=function(t){return gr(null,t)},W.allocUnsafeSlow=function(t){return gr(null,t)};function dr(t,e){var n=0>e.length?0:yr(e.length)|0;t=Vt(t,n);for(var r=0;r<n;r+=1)t[r]=e[r]&255;return t}function Wu(t,e){if(Mt(e)){var n=yr(e.length)|0;return t=Vt(t,n),t.length===0||e.copy(t,0,0,n),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return(n=typeof e.length!="number")||(n=e.length,n=n!==n),n?Vt(t,0):dr(t,e);if(e.type==="Buffer"&&ki(e.data))return dr(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function yr(t){if(t>=(W.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(W.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return t|0}W.isBuffer=Xi;function Mt(t){return!(t==null||!t._isBuffer)}W.compare=function(t,e){if(!Mt(t)||!Mt(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},W.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},W.concat=function(t,e){if(!ki(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return W.alloc(0);var n;if(e===void 0)for(n=e=0;n<t.length;++n)e+=t[n].length;e=W.allocUnsafe(e);var r=0;for(n=0;n<t.length;++n){var i=t[n];if(!Mt(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,r),r+=i.length}return e};function Yi(t,e){if(Mt(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Dn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return qi(t).length;default:if(r)return Dn(t).length;e=(""+e).toLowerCase(),r=!0}}W.byteLength=Yi;function Pu(t,e,n){var r=!1;if((e===void 0||0>e)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),0>=n)||(n>>>=0,e>>>=0,n<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=n,n=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n),r="",n=t;n<e;++n)t=r,r=this[n],r=16>r?"0"+r.toString(16):r.toString(16),r=t+r;return r;case"utf8":case"utf-8":return Ki(this,e,n);case"ascii":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(this[e]&127);return t;case"latin1":case"binary":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return e=e===0&&n===this.length?Ui(this):Ui(this.slice(e,n)),e;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,n),n="",t=0;t<e.length;t+=2)n+=String.fromCharCode(e[t]+256*e[t+1]);return n;default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}W.prototype._isBuffer=!0;function ge(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}W.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)ge(this,e,e+1);return this},W.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)ge(this,e,e+3),ge(this,e+1,e+2);return this},W.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)ge(this,e,e+7),ge(this,e+1,e+6),ge(this,e+2,e+5),ge(this,e+3,e+4);return this},W.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?Ki(this,0,t):Pu.apply(this,arguments)},W.prototype.equals=function(t){if(!Mt(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:W.compare(this,t)===0},W.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},W.prototype.compare=function(t,e,n,r,i){if(!Mt(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),0>e||n>t.length||0>r||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;var o=i-r,s=n-e,l=Math.min(o,s);for(r=this.slice(r,i),t=t.slice(e,n),e=0;e<l;++e)if(r[e]!==t[e]){o=r[e],s=t[e];break}return o<s?-1:s<o?1:0};function ji(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),0>n&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(0>n)if(i)n=0;else return-1;if(typeof e=="string"&&(e=W.from(e,r)),Mt(e))return e.length===0?-1:Vi(t,e,n,r,i);if(typeof e=="number")return e&=255,W.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):Vi(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Vi(t,e,n,r,i){function o(c,g){return s===1?c[g]:c.readUInt16BE(g*s)}var s=1,l=t.length,d=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(2>t.length||2>e.length)return-1;s=2,l/=2,d/=2,n/=2}if(i)for(r=-1;n<l;n++)if(o(t,n)===o(e,r===-1?0:n-r)){if(r===-1&&(r=n),n-r+1===d)return r*s}else r!==-1&&(n-=n-r),r=-1;else for(n+d>l&&(n=l-d);0<=n;n--){for(l=!0,r=0;r<d;r++)if(o(t,n+r)!==o(e,r)){l=!1;break}if(l)return n}return-1}W.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},W.prototype.indexOf=function(t,e,n){return ji(this,t,e,n,!0)},W.prototype.lastIndexOf=function(t,e,n){return ji(this,t,e,n,!1)},W.prototype.write=function(t,e,n,r){if(e===void 0)r="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")r=e,n=this.length,e=0;else if(isFinite(e))e|=0,isFinite(n)?(n|=0,r===void 0&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-e;if((n===void 0||n>i)&&(n=i),0<t.length&&(0>n||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(r||(r="utf8"),i=!1;;)switch(r){case"hex":t:{if(e=Number(e)||0,r=this.length-e,n?(n=Number(n),n>r&&(n=r)):n=r,r=t.length,r%2!==0)throw new TypeError("Invalid hex string");for(n>r/2&&(n=r/2),r=0;r<n;++r){if(i=parseInt(t.substr(2*r,2),16),isNaN(i)){t=r;break t}this[e+r]=i}t=r}return t;case"utf8":case"utf-8":return sn(Dn(t,this.length-e),this,e,n);case"ascii":return sn(zi(t),this,e,n);case"latin1":case"binary":return sn(zi(t),this,e,n);case"base64":return sn(qi(t),this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=t,i=this.length-e;for(var o=[],s=0;s<r.length&&!(0>(i-=2));++s){var l=r.charCodeAt(s);t=l>>8,l%=256,o.push(l),o.push(t)}return sn(o,this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},W.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ki(t,e,n){n=Math.min(t.length,n);for(var r=[];e<n;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=n)switch(s){case 1:128>i&&(o=i);break;case 2:var l=t[e+1];(l&192)===128&&(i=(i&31)<<6|l&63,127<i&&(o=i));break;case 3:l=t[e+1];var d=t[e+2];(l&192)===128&&(d&192)===128&&(i=(i&15)<<12|(l&63)<<6|d&63,2047<i&&(55296>i||57343<i)&&(o=i));break;case 4:l=t[e+1],d=t[e+2];var c=t[e+3];(l&192)===128&&(d&192)===128&&(c&192)===128&&(i=(i&15)<<18|(l&63)<<12|(d&63)<<6|c&63,65535<i&&1114112>i&&(o=i))}o===null?(o=65533,s=1):65535<o&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),e+=s}if(t=r.length,t<=$i)r=String.fromCharCode.apply(String,r);else{for(n="",e=0;e<t;)n+=String.fromCharCode.apply(String,r.slice(e,e+=$i));r=n}return r}var $i=4096;W.prototype.slice=function(t,e){var n=this.length;if(t=~~t,e=e===void 0?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),e<t&&(e=t),W.TYPED_ARRAY_SUPPORT)e=this.subarray(t,e),e.__proto__=W.prototype;else{n=e-t,e=new W(n,void 0);for(var r=0;r<n;++r)e[r]=this[r+t]}return e};function _t(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}W.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||_t(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n},W.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||_t(t,e,this.length),n=this[t+--e];for(var r=1;0<e&&(r*=256);)n+=this[t+--e]*r;return n},W.prototype.readUInt8=function(t,e){return e||_t(t,1,this.length),this[t]},W.prototype.readUInt16LE=function(t,e){return e||_t(t,2,this.length),this[t]|this[t+1]<<8},W.prototype.readUInt16BE=function(t,e){return e||_t(t,2,this.length),this[t]<<8|this[t+1]},W.prototype.readUInt32LE=function(t,e){return e||_t(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},W.prototype.readUInt32BE=function(t,e){return e||_t(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},W.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||_t(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n>=128*r&&(n-=Math.pow(2,8*e)),n},W.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||_t(t,e,this.length),n=e;for(var r=1,i=this[t+--n];0<n&&(r*=256);)i+=this[t+--n]*r;return i>=128*r&&(i-=Math.pow(2,8*e)),i},W.prototype.readInt8=function(t,e){return e||_t(t,1,this.length),this[t]&128?-1*(255-this[t]+1):this[t]},W.prototype.readInt16LE=function(t,e){return e||_t(t,2,this.length),t=this[t]|this[t+1]<<8,t&32768?t|4294901760:t},W.prototype.readInt16BE=function(t,e){return e||_t(t,2,this.length),t=this[t+1]|this[t]<<8,t&32768?t|4294901760:t},W.prototype.readInt32LE=function(t,e){return e||_t(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},W.prototype.readInt32BE=function(t,e){return e||_t(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},W.prototype.readFloatLE=function(t,e){return e||_t(t,4,this.length),Nn(this,t,!0,23,4)},W.prototype.readFloatBE=function(t,e){return e||_t(t,4,this.length),Nn(this,t,!1,23,4)},W.prototype.readDoubleLE=function(t,e){return e||_t(t,8,this.length),Nn(this,t,!0,52,8)},W.prototype.readDoubleBE=function(t,e){return e||_t(t,8,this.length),Nn(this,t,!1,52,8)};function It(t,e,n,r,i,o){if(!Mt(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}W.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||It(this,t,e,n,Math.pow(2,8*n)-1,0),r=1;var i=0;for(this[e]=t&255;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},W.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||It(this,t,e,n,Math.pow(2,8*n)-1,0),r=n-1;var i=1;for(this[e+r]=t&255;0<=--r&&(i*=256);)this[e+r]=t/i&255;return e+n},W.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||It(this,t,e,1,255,0),W.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t&255,e+1};function Cn(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}W.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||It(this,t,e,2,65535,0),W.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Cn(this,t,e,!0),e+2},W.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||It(this,t,e,2,65535,0),W.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Cn(this,t,e,!1),e+2};function Wn(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}W.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||It(this,t,e,4,4294967295,0),W.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255):Wn(this,t,e,!0),e+4},W.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||It(this,t,e,4,4294967295,0),W.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Wn(this,t,e,!1),e+4},W.prototype.writeIntLE=function(t,e,n,r){t=+t,e|=0,r||(r=Math.pow(2,8*n-1),It(this,t,e,n,r-1,-r)),r=0;var i=1,o=0;for(this[e]=t&255;++r<n&&(i*=256);)0>t&&o===0&&this[e+r-1]!==0&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},W.prototype.writeIntBE=function(t,e,n,r){t=+t,e|=0,r||(r=Math.pow(2,8*n-1),It(this,t,e,n,r-1,-r)),r=n-1;var i=1,o=0;for(this[e+r]=t&255;0<=--r&&(i*=256);)0>t&&o===0&&this[e+r+1]!==0&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},W.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||It(this,t,e,1,127,-128),W.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t&255,e+1},W.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||It(this,t,e,2,32767,-32768),W.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Cn(this,t,e,!0),e+2},W.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||It(this,t,e,2,32767,-32768),W.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Cn(this,t,e,!1),e+2},W.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||It(this,t,e,4,2147483647,-2147483648),W.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Wn(this,t,e,!0),e+4},W.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||It(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),W.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Wn(this,t,e,!1),e+4};function Pn(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}W.prototype.writeFloatLE=function(t,e,n){return n||Pn(this,t,e,4),Ln(this,t,e,!0,23,4),e+4},W.prototype.writeFloatBE=function(t,e,n){return n||Pn(this,t,e,4),Ln(this,t,e,!1,23,4),e+4},W.prototype.writeDoubleLE=function(t,e,n){return n||Pn(this,t,e,8),Ln(this,t,e,!0,52,8),e+8},W.prototype.writeDoubleBE=function(t,e,n){return n||Pn(this,t,e,8),Ln(this,t,e,!1,52,8),e+8},W.prototype.copy=function(t,e,n,r){if(n||(n=0),r||r===0||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),0<r&&r<n&&(r=n),r===n||t.length===0||this.length===0)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&n<e&&e<r)for(r=i-1;0<=r;--r)t[r+e]=this[r+n];else if(1e3>i||!W.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},W.prototype.fill=function(t,e,n,r){if(typeof t=="string"){if(typeof e=="string"?(r=e,e=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),t.length===1){var i=t.charCodeAt(0);256>i&&(t=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!W.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof t=="number"&&(t&=255);if(0>e||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=n===void 0?this.length:n>>>0,t||(t=0),typeof t=="number")for(r=e;r<n;++r)this[r]=t;else for(t=Mt(t)?t:Dn(new W(t,r).toString()),i=t.length,r=0;r<n-e;++r)this[r+e]=t[r%i];return this};var Du=/[^+\/0-9A-Za-z-_]/g;function Dn(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if(n=t.charCodeAt(s),55295<n&&57344>n){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}else if(s+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>--e)break;o.push(n)}else if(2048>n){if(0>(e-=2))break;o.push(n>>6|192,n&63|128)}else if(65536>n){if(0>(e-=3))break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(1114112>n){if(0>(e-=4))break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw Error("Invalid code point")}return o}function zi(t){for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n)&255);return e}function qi(t){if(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(Du,""),2>t.length)t="";else for(;t.length%4!==0;)t+="=";pr||Bi();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var n=t[e-2]==="="?2:t[e-1]==="="?1:0,r=new Ou(3*e/4-n),i=0<n?e-4:e,o=0;for(e=0;e<i;e+=4){var s=Nt[t.charCodeAt(e)]<<18|Nt[t.charCodeAt(e+1)]<<12|Nt[t.charCodeAt(e+2)]<<6|Nt[t.charCodeAt(e+3)];r[o++]=s>>16&255,r[o++]=s>>8&255,r[o++]=s&255}return n===2?(s=Nt[t.charCodeAt(e)]<<2|Nt[t.charCodeAt(e+1)]>>4,r[o++]=s&255):n===1&&(s=Nt[t.charCodeAt(e)]<<10|Nt[t.charCodeAt(e+1)]<<4|Nt[t.charCodeAt(e+2)]>>2,r[o++]=s>>8&255,r[o++]=s&255),r}function sn(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Xi(t){return t!=null&&(!!t._isBuffer||Ji(t)||typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Ji(t.slice(0,0)))}function Ji(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var Fn=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:Cu,Buffer:W,SlowBuffer:function(t){return+t!=t&&(t=0),W.alloc(+t)},isBuffer:Xi}),ut=W,Mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof it<"u"?it:{};function Er(t,e){return e={exports:{}},t(e,e.exports),e.exports}function Zi(){throw Error("setTimeout has not been defined")}function Qi(){throw Error("clearTimeout has not been defined")}var ee=Zi,ne=Qi;typeof on.setTimeout=="function"&&(ee=setTimeout),typeof on.clearTimeout=="function"&&(ne=clearTimeout);function xi(t){if(ee===setTimeout)return setTimeout(t,0);if((ee===Zi||!ee)&&setTimeout)return ee=setTimeout,setTimeout(t,0);try{return ee(t,0)}catch{try{return ee.call(null,t,0)}catch{return ee.call(this,t,0)}}}function Fu(t){if(ne===clearTimeout)return clearTimeout(t);if((ne===Qi||!ne)&&clearTimeout)return ne=clearTimeout,clearTimeout(t);try{return ne(t)}catch{try{return ne.call(null,t)}catch{return ne.call(this,t)}}}var Kt=[],We=!1,de,Bn=-1;function Mu(){We&&de&&(We=!1,de.length?Kt=de.concat(Kt):Bn=-1,Kt.length&&bi())}function bi(){if(!We){var t=xi(Mu);We=!0;for(var e=Kt.length;e;){for(de=Kt,Kt=[];++Bn<e;)de&&de[Bn].run();Bn=-1,e=Kt.length}de=null,We=!1,Fu(t)}}function to(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Kt.push(new eo(t,e)),Kt.length!==1||We||xi(bi)}function eo(t,e){this.fun=t,this.array=e}eo.prototype.run=function(){this.fun.apply(null,this.array)};function ye(){}var Pe=on.performance||{},Bu=Pe.now||Pe.mozNow||Pe.msNow||Pe.oNow||Pe.webkitNow||function(){return new Date().getTime()},Uu=new Date,ku={nextTick:to,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ye,addListener:ye,once:ye,off:ye,removeListener:ye,removeAllListeners:ye,emit:ye,binding:function(){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*Bu.call(Pe),n=Math.floor(e);return e=Math.floor(e%1*1e9),t&&(n-=t[0],e-=t[1],0>e&&(n--,e+=1e9)),[n,e]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Uu)/1e3}},no=Er(function(t,e){function n(o,s){for(var l in o)s[l]=o[l]}function r(o,s,l){return i(o,s,l)}var i=Fn.Buffer;i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=Fn:(n(Fn,e),e.Buffer=r),r.prototype=Object.create(i.prototype),n(i,r),r.from=function(o,s,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,s,l)},r.alloc=function(o,s,l){if(typeof o!="number")throw new TypeError("Argument must be a number");return o=i(o),s!==void 0?typeof l=="string"?o.fill(s,l):o.fill(s):o.fill(0),o},r.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},r.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return Fn.SlowBuffer(o)}}),Gu=Er(function(t,e){function n(){throw Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}function r(a,p){if(typeof a!="number"||a!==a)throw new TypeError("offset must be a number");if(a>y||0>a)throw new TypeError("offset must be a uint32");if(a>c||a>p)throw new RangeError("offset out of range")}function i(a,p,I){if(typeof a!="number"||a!==a)throw new TypeError("size must be a number");if(a>y||0>a)throw new TypeError("size must be a uint32");if(a+p>I||a>c)throw new RangeError("buffer too small")}function o(a,p,I,N){if(!(d.isBuffer(a)||a instanceof Mn.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof p=="function")N=p,p=0,I=a.length;else if(typeof I=="function")N=I,I=a.length-p;else if(typeof N!="function")throw new TypeError('"cb" argument must be a function');return r(p,a.length),i(I,p,a.length),s(a,p,I,N)}function s(a,p,I,N){if(p=new Uint8Array(a.buffer,p,I),g.getRandomValues(p),N)to(function(){N(null,a)});else return a}function l(a,p,I){if(typeof p>"u"&&(p=0),!(d.isBuffer(a)||a instanceof Mn.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return r(p,a.length),I===void 0&&(I=a.length-p),i(I,p,a.length),s(a,p,I)}var d=no.Buffer,c=no.kMaxLength,g=Mn.crypto||Mn.msCrypto,y=Math.pow(2,32)-1;g&&g.getRandomValues?(e.randomFill=o,e.randomFillSync=l):(e.randomFill=n,e.randomFillSync=n)}),Hu=Er(function(t){t.exports=Gu}).randomFillSync,Yu=Math.floor(.001*(Date.now()-performance.now()));function Bt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function ro(t,e){for(var n="",r=0,i=-1,o=0,s,l=0;l<=t.length;++l){if(l<t.length)s=t.charCodeAt(l);else{if(s===47)break;s=47}if(s===47){if(i!==l-1&&o!==1)if(i!==l-1&&o===2){if(2>n.length||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(2<n.length){if(i=n.lastIndexOf("/"),i!==n.length-1){i===-1?(n="",r=0):(n=n.slice(0,i),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=l,o=0;continue}}e&&(n=0<n.length?n+"/..":"..",r=2)}else n=0<n.length?n+("/"+t.slice(i+1,l)):t.slice(i+1,l),r=l-i-1;i=l,o=0}else s===46&&o!==-1?++o:o=-1}return n}var un={resolve:function(){for(var t="",e=!1,n,r=arguments.length-1;-1<=r&&!e;r--){if(0<=r)var i=arguments[r];else n===void 0&&(n=ku.cwd()),i=n;Bt(i),i.length!==0&&(t=i+"/"+t,e=i.charCodeAt(0)===47)}return t=ro(t,!e),e?0<t.length?"/"+t:"/":0<t.length?t:"."},normalize:function(t){if(Bt(t),t.length===0)return".";var e=t.charCodeAt(0)===47,n=t.charCodeAt(t.length-1)===47;return t=ro(t,!e),t.length!==0||e||(t="."),0<t.length&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return Bt(t),0<t.length&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];Bt(n),0<n.length&&(t=t===void 0?n:t+("/"+n))}return t===void 0?".":un.normalize(t)},relative:function(t,e){if(Bt(t),Bt(e),t===e||(t=un.resolve(t),e=un.resolve(e),t===e))return"";for(var n=1;n<t.length&&t.charCodeAt(n)===47;++n);for(var r=t.length,i=r-n,o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var s=e.length-o,l=i<s?i:s,d=-1,c=0;c<=l;++c){if(c===l){if(s>l){if(e.charCodeAt(o+c)===47)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else i>l&&(t.charCodeAt(n+c)===47?d=c:c===0&&(d=0));break}var g=t.charCodeAt(n+c),y=e.charCodeAt(o+c);if(g!==y)break;g===47&&(d=c)}for(i="",c=n+d+1;c<=r;++c)(c===r||t.charCodeAt(c)===47)&&(i=i.length===0?i+"..":i+"/..");return 0<i.length?i+e.slice(o+d):(o+=d,e.charCodeAt(o)===47&&++o,e.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(Bt(t),t.length===0)return".";for(var e=t.charCodeAt(0),n=e===47,r=-1,i=!0,o=t.length-1;1<=o;--o)if(e=t.charCodeAt(o),e===47){if(!i){r=o;break}}else i=!1;return r===-1?n?"/":".":n&&r===1?"//":t.slice(0,r)},basename:function(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Bt(t);var n=0,r=-1,i=!0,o;if(e!==void 0&&0<e.length&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,l=-1;for(o=t.length-1;0<=o;--o){var d=t.charCodeAt(o);if(d===47){if(!i){n=o+1;break}}else l===-1&&(i=!1,l=o+1),0<=s&&(d===e.charCodeAt(s)?--s===-1&&(r=o):(s=-1,r=l))}return n===r?r=l:r===-1&&(r=t.length),t.slice(n,r)}for(o=t.length-1;0<=o;--o)if(t.charCodeAt(o)===47){if(!i){n=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":t.slice(n,r)},extname:function(t){Bt(t);for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;0<=s;--s){var l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1),l===46?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===n+1?"":t.slice(e,r)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);var e=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return t=e?e===t.root?e+n:e+"/"+n:n,t},parse:function(t){Bt(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;var n=t.charCodeAt(0),r=n===47;if(r){e.root="/";var i=1}else i=0;for(var o=-1,s=0,l=-1,d=!0,c=t.length-1,g=0;c>=i;--c)if(n=t.charCodeAt(c),n===47){if(!d){s=c+1;break}}else l===-1&&(d=!1,l=c+1),n===46?o===-1?o=c:g!==1&&(g=1):o!==-1&&(g=-1);return o===-1||l===-1||g===0||g===1&&o===l-1&&o===s+1?l!==-1&&(e.base=s===0&&r?e.name=t.slice(1,l):e.name=t.slice(s,l)):(s===0&&r?(e.name=t.slice(1,o),e.base=t.slice(1,l)):(e.name=t.slice(s,o),e.base=t.slice(s,l)),e.ext=t.slice(o,l)),0<s?e.dir=t.slice(0,s-1):r&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null},io=un.posix=un,ju=Object.freeze({__proto__:null,default:io,__moduleExports:io}),oo={hrtime:function(t){return function(e){return e=t(e),1e9*e[0]+e[1]}}(function(t){var e=.001*performance.now(),n=Math.floor(e)+Yu;return e=Math.floor(e%1*1e9),t&&(n-=t[0],e-=t[1],0>e&&(n--,e+=1e9)),[n,e]}),exit:function(t){throw new Xu(t)},kill:function(t){throw new Ju(t)},randomFillSync:Hu,isTTY:function(){return!0},path:ju,fs:null},nt,Ee=B(1),re=B(2),De=B(4),Fe=B(8),ie=B(16),Sr=B(32),oe=B(64),Me=B(128),Un=B(256),mr=B(512),Ir=B(1024),Ar=B(2048),wr=B(4096),kn=B(8192),Gn=B(16384),Tr=B(32768),vr=B(65536),Rr=B(131072),Or=B(262144),Nr=B(524288),Lr=B(1048576),se=B(2097152),Hn=B(4194304),Yn=B(8388608),Cr=B(16777216),Wr=B(33554432),Pr=B(67108864),Se=B(134217728),so=B(268435456),Be=Ee|re|De|Fe|ie|Sr|oe|Me|Un|mr|Ir|Ar|wr|kn|Gn|Tr|vr|Rr|Or|Nr|Lr|se|Yn|Hn|Cr|Pr|Wr|Se|so,uo=Ee|re|De|Fe|ie|Sr|oe|Me|Un|se|Hn|Yn|Se,Vu=B(0),Dr=Fe|ie|Me|mr|Ir|Ar|wr|kn|Gn|Tr|vr|Rr|Or|Nr|Lr|se|Yn|Cr|Pr|Wr|Se,fo=Dr|uo,lo=re|Fe|oe|se|Se|so,Ku=re|Fe|oe|se|Se,$u=B(0),zu={E2BIG:1,EACCES:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EALREADY:7,EAGAIN:6,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLOCK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTDOWN:23,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75},ho=(nt={},nt[6]="SIGHUP",nt[8]="SIGINT",nt[11]="SIGQUIT",nt[7]="SIGILL",nt[15]="SIGTRAP",nt[0]="SIGABRT",nt[2]="SIGBUS",nt[5]="SIGFPE",nt[9]="SIGKILL",nt[20]="SIGUSR1",nt[12]="SIGSEGV",nt[21]="SIGUSR2",nt[10]="SIGPIPE",nt[1]="SIGALRM",nt[14]="SIGTERM",nt[3]="SIGCHLD",nt[4]="SIGCONT",nt[13]="SIGSTOP",nt[16]="SIGTSTP",nt[17]="SIGTTIN",nt[18]="SIGTTOU",nt[19]="SIGURG",nt[23]="SIGXCPU",nt[24]="SIGXFSZ",nt[22]="SIGVTALRM",nt),qu=Ee|re|ie|Me|se|Se,co=Ee|oe|ie|Me|se|Se;function me(t){var e=Math.trunc(t);return t=B(Math.round(1e6*(t-e))),B(e)*B(1e6)+t}function Ue(t){return typeof t=="number"&&(t=Math.trunc(t)),t=B(t),Number(t/B(1e6))}function b(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return t.apply(void 0,Rn(e))}catch(r){if(r&&r.code&&typeof r.code=="string")return zu[r.code]||28;if(r instanceof Fr)return r.errno;throw r}}}function ao(t,e){var n=t.FD_MAP.get(e);if(!n)throw new Fr(8);if(n.filetype===void 0){var r=t.bindings.fs.fstatSync(n.real);t=_o(t,e,r),e=t.rightsBase,r=t.rightsInheriting,n.filetype=t.filetype,n.rights||(n.rights={base:e,inheriting:r})}return n}function _o(t,e,n){switch(!0){case n.isBlockDevice():return{filetype:1,rightsBase:Be,rightsInheriting:Be};case n.isCharacterDevice():return e!==void 0&&t.bindings.isTTY(e)?{filetype:2,rightsBase:Ku,rightsInheriting:$u}:{filetype:2,rightsBase:Be,rightsInheriting:Be};case n.isDirectory():return{filetype:3,rightsBase:Dr,rightsInheriting:fo};case n.isFIFO():return{filetype:6,rightsBase:lo,rightsInheriting:Be};case n.isFile():return{filetype:4,rightsBase:uo,rightsInheriting:Vu};case n.isSocket():return{filetype:6,rightsBase:lo,rightsInheriting:Be};case n.isSymbolicLink():return{filetype:7,rightsBase:B(0),rightsInheriting:B(0)};default:return{filetype:0,rightsBase:B(0),rightsInheriting:B(0)}}}var Fr=function(t){function e(n){var r=t.call(this)||this;return r.errno=n,Object.setPrototypeOf(r,e.prototype),r}return _r(e,t),e}(Error),Xu=function(t){function e(n){var r=t.call(this,"WASI Exit error: "+n)||this;return r.code=n,Object.setPrototypeOf(r,e.prototype),r}return _r(e,t),e}(Error),Ju=function(t){function e(n){var r=t.call(this,"WASI Kill signal: "+n)||this;return r.signal=n,Object.setPrototypeOf(r,e.prototype),r}return _r(e,t),e}(Error),Zu=function(){function t(e){function n(E){switch(E){case 1:return g.hrtime();case 0:return me(Date.now());case 2:case 3:return g.hrtime()-q;default:return null}}function r(E,w){if(E=ao(s,E),w!==B(0)&&(E.rights.base&w)===B(0))throw new Fr(63);return E}function i(E,w){return s.refreshMemory(),Array.from({length:w},function(R,D){return D=E+8*D,R=s.view.getUint32(D,!0),D=s.view.getUint32(D+4,!0),new Uint8Array(s.memory.buffer,R,D)})}var o,s=this,l={};e&&e.preopens?l=e.preopens:e&&e.preopenDirectories&&(l=e.preopenDirectories);var d={};e&&e.env&&(d=e.env);var c=[];e&&e.args&&(c=e.args);var g=oo;e&&e.bindings&&(g=e.bindings),this.view=this.memory=void 0,this.bindings=g,this.FD_MAP=new Map([[0,{real:0,filetype:2,rights:{base:qu,inheriting:B(0)},path:void 0}],[1,{real:1,filetype:2,rights:{base:co,inheriting:B(0)},path:void 0}],[2,{real:2,filetype:2,rights:{base:co,inheriting:B(0)},path:void 0}]]);var y=this.bindings.fs,a=this.bindings.path;try{for(var p=Tn(Object.entries(l)),I=p.next();!I.done;I=p.next()){var N=vn(I.value,2),C=N[0],G=N[1],Y=y.openSync(G,y.constants.O_RDONLY),F=Rn(this.FD_MAP.keys()).reverse()[0]+1;this.FD_MAP.set(F,{real:Y,filetype:3,rights:{base:Dr,inheriting:fo},fakePath:C,path:G})}}catch(E){var j={error:E}}finally{try{I&&!I.done&&(o=p.return)&&o.call(p)}finally{if(j)throw j.error}}var q=g.hrtime();this.wasiImport={args_get:function(E,w){s.refreshMemory();var R=E,D=w;return c.forEach(function(P){s.view.setUint32(R,D,!0),R+=4,D+=ut.from(s.memory.buffer).write(P+"\0",D)}),0},args_sizes_get:function(E,w){return s.refreshMemory(),s.view.setUint32(E,c.length,!0),E=c.reduce(function(R,D){return R+ut.byteLength(D)+1},0),s.view.setUint32(w,E,!0),0},environ_get:function(E,w){s.refreshMemory();var R=E,D=w;return Object.entries(d).forEach(function(P){var k=vn(P,2);P=k[0],k=k[1],s.view.setUint32(R,D,!0),R+=4,D+=ut.from(s.memory.buffer).write(P+"="+k+"\0",D)}),0},environ_sizes_get:function(E,w){s.refreshMemory();var R=Object.entries(d).map(function(P){return P=vn(P,2),P[0]+"="+P[1]+"\0"}),D=R.reduce(function(P,k){return P+ut.byteLength(k)},0);return s.view.setUint32(E,R.length,!0),s.view.setUint32(w,D,!0),0},clock_res_get:function(E,w){switch(E){case 1:case 2:case 3:var R=B(1);break;case 0:R=B(1e3)}return s.view.setBigUint64(w,R),0},clock_time_get:function(E,w,R){return s.refreshMemory(),E=n(E),E===null?28:(s.view.setBigUint64(R,B(E),!0),0)},fd_advise:b(function(E){return r(E,Me),52}),fd_allocate:b(function(E){return r(E,Un),52}),fd_close:b(function(E){var w=r(E,B(0));return y.closeSync(w.real),s.FD_MAP.delete(E),0}),fd_datasync:b(function(E){return E=r(E,Ee),y.fdatasyncSync(E.real),0}),fd_fdstat_get:b(function(E,w){return E=r(E,B(0)),s.refreshMemory(),s.view.setUint8(w,E.filetype),s.view.setUint16(w+2,0,!0),s.view.setUint16(w+4,0,!0),s.view.setBigUint64(w+8,B(E.rights.base),!0),s.view.setBigUint64(w+8+8,B(E.rights.inheriting),!0),0}),fd_fdstat_set_flags:b(function(E){return r(E,Fe),52}),fd_fdstat_set_rights:b(function(E,w,R){return E=r(E,B(0)),(E.rights.base|w)>E.rights.base||(E.rights.inheriting|R)>E.rights.inheriting?63:(E.rights.base=w,E.rights.inheriting=R,0)}),fd_filestat_get:b(function(E,w){E=r(E,se);var R=y.fstatSync(E.real);return s.refreshMemory(),s.view.setBigUint64(w,B(R.dev),!0),w+=8,s.view.setBigUint64(w,B(R.ino),!0),w+=8,s.view.setUint8(w,E.filetype),w+=8,s.view.setBigUint64(w,B(R.nlink),!0),w+=8,s.view.setBigUint64(w,B(R.size),!0),w+=8,s.view.setBigUint64(w,me(R.atimeMs),!0),w+=8,s.view.setBigUint64(w,me(R.mtimeMs),!0),s.view.setBigUint64(w+8,me(R.ctimeMs),!0),0}),fd_filestat_set_size:b(function(E,w){return E=r(E,Hn),y.ftruncateSync(E.real,Number(w)),0}),fd_filestat_set_times:b(function(E,w,R,D){E=r(E,Yn);var P=y.fstatSync(E.real),k=P.atime;P=P.mtime;var V=Ue(n(0));return(D&3)===3||(D&12)===12?28:((D&1)===1?k=Ue(w):(D&2)===2&&(k=V),(D&4)===4?P=Ue(R):(D&8)===8&&(P=V),y.futimesSync(E.real,new Date(k),new Date(P)),0)}),fd_prestat_get:b(function(E,w){return E=r(E,B(0)),E.path?(s.refreshMemory(),s.view.setUint8(w,0),s.view.setUint32(w+4,ut.byteLength(E.fakePath),!0),0):28}),fd_prestat_dir_name:b(function(E,w,R){return E=r(E,B(0)),E.path?(s.refreshMemory(),ut.from(s.memory.buffer).write(E.fakePath,w,R,"utf8"),0):28}),fd_pwrite:b(function(E,w,R,D,P){var k=r(E,oe|De),V=0;return i(w,R).forEach(function($){for(var K=0;K<$.byteLength;)K+=y.writeSync(k.real,$,K,$.byteLength-K,Number(D)+V+K);V+=K}),s.view.setUint32(P,V,!0),0}),fd_write:b(function(E,w,R,D){var P=r(E,oe),k=0;return i(w,R).forEach(function(V){for(var $=0;$<V.byteLength;){var K=y.writeSync(P.real,V,$,V.byteLength-$,P.offset?Number(P.offset):null);P.offset&&(P.offset+=B(K)),$+=K}k+=$}),s.view.setUint32(D,k,!0),0}),fd_pread:b(function(E,w,R,D,P){var k;E=r(E,re|De);var V=0;try{var $=Tn(i(w,R)),K=$.next();t:for(;!K.done;K=$.next()){var X=K.value;for(w=0;w<X.byteLength;){var J=X.byteLength-w,x=y.readSync(E.real,X,w,X.byteLength-w,Number(D)+V+w);if(w+=x,V+=x,x===0||x<J)break t}V+=w}}catch(A){var T={error:A}}finally{try{K&&!K.done&&(k=$.return)&&k.call($)}finally{if(T)throw T.error}}return s.view.setUint32(P,V,!0),0}),fd_read:b(function(E,w,R,D){var P;E=r(E,re);var k=E.real===0,V=0;try{var $=Tn(i(w,R)),K=$.next();t:for(;!K.done;K=$.next()){var X=K.value;for(w=0;w<X.byteLength;){var J=X.byteLength-w,x=y.readSync(E.real,X,w,J,k||E.offset===void 0?null:Number(E.offset));if(k||(E.offset=(E.offset?E.offset:B(0))+B(x)),w+=x,V+=x,x===0||x<J)break t}}}catch(A){var T={error:A}}finally{try{K&&!K.done&&(P=$.return)&&P.call($)}finally{if(T)throw T.error}}return s.view.setUint32(D,V,!0),0}),fd_readdir:b(function(E,w,R,D,P){E=r(E,Gn),s.refreshMemory();var k=y.readdirSync(E.path,{withFileTypes:!0}),V=w;for(D=Number(D);D<k.length;D+=1){var $=k[D],K=ut.byteLength($.name);if(w-V>R||(s.view.setBigUint64(w,B(D+1),!0),w+=8,w-V>R))break;var X=y.statSync(a.resolve(E.path,$.name));if(s.view.setBigUint64(w,B(X.ino),!0),w+=8,w-V>R||(s.view.setUint32(w,K,!0),w+=4,w-V>R))break;switch(!0){case X.isBlockDevice():X=1;break;case X.isCharacterDevice():X=2;break;case X.isDirectory():X=3;break;case X.isFIFO():X=6;break;case X.isFile():X=4;break;case X.isSocket():X=6;break;case X.isSymbolicLink():X=7;break;default:X=0}if(s.view.setUint8(w,X),w+=1,w+=3,w+K>=V+R)break;ut.from(s.memory.buffer).write($.name,w),w+=K}return s.view.setUint32(P,Math.min(w-V,R),!0),0}),fd_renumber:b(function(E,w){return r(E,B(0)),r(w,B(0)),y.closeSync(s.FD_MAP.get(E).real),s.FD_MAP.set(E,s.FD_MAP.get(w)),s.FD_MAP.delete(w),0}),fd_seek:b(function(E,w,R,D){switch(E=r(E,De),s.refreshMemory(),R){case 1:E.offset=(E.offset?E.offset:B(0))+B(w);break;case 2:R=y.fstatSync(E.real).size,E.offset=B(R)+B(w);break;case 0:E.offset=B(w)}return s.view.setBigUint64(D,E.offset,!0),0}),fd_tell:b(function(E,w){return E=r(E,Sr),s.refreshMemory(),E.offset||(E.offset=B(0)),s.view.setBigUint64(w,E.offset,!0),0}),fd_sync:b(function(E){return E=r(E,ie),y.fsyncSync(E.real),0}),path_create_directory:b(function(E,w,R){return E=r(E,mr),E.path?(s.refreshMemory(),w=ut.from(s.memory.buffer,w,R).toString(),y.mkdirSync(a.resolve(E.path,w)),0):28}),path_filestat_get:b(function(E,w,R,D,P){return E=r(E,Or),E.path?(s.refreshMemory(),R=ut.from(s.memory.buffer,R,D).toString(),R=y.statSync(a.resolve(E.path,R)),s.view.setBigUint64(P,B(R.dev),!0),P+=8,s.view.setBigUint64(P,B(R.ino),!0),P+=8,s.view.setUint8(P,_o(s,void 0,R).filetype),P+=8,s.view.setBigUint64(P,B(R.nlink),!0),P+=8,s.view.setBigUint64(P,B(R.size),!0),P+=8,s.view.setBigUint64(P,me(R.atimeMs),!0),P+=8,s.view.setBigUint64(P,me(R.mtimeMs),!0),s.view.setBigUint64(P+8,me(R.ctimeMs),!0),0):28}),path_filestat_set_times:b(function(E,w,R,D,P,k,V){if(E=r(E,Lr),!E.path)return 28;s.refreshMemory();var $=y.fstatSync(E.real);w=$.atime,$=$.mtime;var K=Ue(n(0));return(V&3)===3||(V&12)===12?28:((V&1)===1?w=Ue(P):(V&2)===2&&(w=K),(V&4)===4?$=Ue(k):(V&8)===8&&($=K),R=ut.from(s.memory.buffer,R,D).toString(),y.utimesSync(a.resolve(E.path,R),new Date(w),new Date($)),0)}),path_link:b(function(E,w,R,D,P,k,V){return E=r(E,Ar),P=r(P,wr),!E.path||!P.path?28:(s.refreshMemory(),R=ut.from(s.memory.buffer,R,D).toString(),k=ut.from(s.memory.buffer,k,V).toString(),y.linkSync(a.resolve(E.path,R),a.resolve(P.path,k)),0)}),path_open:b(function(E,w,R,D,P,k,V,$,K){w=r(E,kn),k=B(k),V=B(V),E=(k&(re|Gn))!==B(0);var X=(k&(Ee|oe|Un|Hn))!==B(0);if(X&&E)var J=y.constants.O_RDWR;else E?J=y.constants.O_RDONLY:X&&(J=y.constants.O_WRONLY);if(E=k|kn,k|=V,P&1&&(J|=y.constants.O_CREAT,E|=Ir),P&2&&(J|=y.constants.O_DIRECTORY),P&4&&(J|=y.constants.O_EXCL),P&8&&(J|=y.constants.O_TRUNC,E|=Nr),$&1&&(J|=y.constants.O_APPEND),$&2&&(J=y.constants.O_DSYNC?J|y.constants.O_DSYNC:J|y.constants.O_SYNC,k|=Ee),$&4&&(J|=y.constants.O_NONBLOCK),$&8&&(J=y.constants.O_RSYNC?J|y.constants.O_RSYNC:J|y.constants.O_SYNC,k|=ie),$&16&&(J|=y.constants.O_SYNC,k|=ie),X&&!(J&(y.constants.O_APPEND|y.constants.O_TRUNC))&&(k|=De),s.refreshMemory(),R=ut.from(s.memory.buffer,R,D).toString(),R=a.resolve(w.path,R),a.relative(w.path,R).startsWith(".."))return 76;try{var x=y.realpathSync(R);if(a.relative(w.path,x).startsWith(".."))return 76}catch(A){if(A.code==="ENOENT")x=R;else throw A}try{var T=y.statSync(x).isDirectory()}catch{}return J=!X&&T?y.openSync(x,y.constants.O_RDONLY):y.openSync(x,J),T=Rn(s.FD_MAP.keys()).reverse()[0]+1,s.FD_MAP.set(T,{real:J,filetype:void 0,rights:{base:E,inheriting:k},path:x}),ao(s,T),s.view.setUint32(K,T,!0),0}),path_readlink:b(function(E,w,R,D,P,k){return E=r(E,Tr),E.path?(s.refreshMemory(),w=ut.from(s.memory.buffer,w,R).toString(),w=a.resolve(E.path,w),w=y.readlinkSync(w),D=ut.from(s.memory.buffer).write(w,D,P),s.view.setUint32(k,D,!0),0):28}),path_remove_directory:b(function(E,w,R){return E=r(E,Wr),E.path?(s.refreshMemory(),w=ut.from(s.memory.buffer,w,R).toString(),y.rmdirSync(a.resolve(E.path,w)),0):28}),path_rename:b(function(E,w,R,D,P,k){return E=r(E,vr),D=r(D,Rr),!E.path||!D.path?28:(s.refreshMemory(),w=ut.from(s.memory.buffer,w,R).toString(),P=ut.from(s.memory.buffer,P,k).toString(),y.renameSync(a.resolve(E.path,w),a.resolve(D.path,P)),0)}),path_symlink:b(function(E,w,R,D,P){return R=r(R,Cr),R.path?(s.refreshMemory(),E=ut.from(s.memory.buffer,E,w).toString(),D=ut.from(s.memory.buffer,D,P).toString(),y.symlinkSync(E,a.resolve(R.path,D)),0):28}),path_unlink_file:b(function(E,w,R){return E=r(E,Pr),E.path?(s.refreshMemory(),w=ut.from(s.memory.buffer,w,R).toString(),y.unlinkSync(a.resolve(E.path,w)),0):28}),poll_oneoff:function(E,w,R,D){var P=0,k=0;s.refreshMemory();for(var V=0;V<R;V+=1){var $=s.view.getBigUint64(E,!0);E+=8;var K=s.view.getUint8(E);switch(E+=1,K){case 0:E+=7,s.view.getBigUint64(E,!0),E+=8;var X=s.view.getUint32(E,!0);E+=4,E+=4,K=s.view.getBigUint64(E,!0),E+=8,s.view.getBigUint64(E,!0),E+=8;var J=s.view.getUint16(E,!0);E+=2,E+=6;var x=J===1;J=0,X=B(n(X)),X===null?J=28:(K=x?K:X+K,k=K>k?K:k),s.view.setBigUint64(w,$,!0),w+=8,s.view.setUint16(w,J,!0),w+=2,s.view.setUint8(w,0),w+=1,w+=5,P+=1;break;case 1:case 2:E+=3,s.view.getUint32(E,!0),E+=4,s.view.setBigUint64(w,$,!0),w+=8,s.view.setUint16(w,52,!0),w+=2,s.view.setUint8(w,K),w+=1,w+=5,P+=1;break;default:return 28}}for(s.view.setUint32(D,P,!0);g.hrtime()<k;);return 0},proc_exit:function(E){return g.exit(E),0},proc_raise:function(E){return E in ho?(g.kill(ho[E]),0):28},random_get:function(E,w){return s.refreshMemory(),g.randomFillSync(new Uint8Array(s.memory.buffer),E,w),0},sched_yield:function(){return 0},sock_recv:function(){return 52},sock_send:function(){return 52},sock_shutdown:function(){return 52}},e.traceSyscalls&&Object.keys(this.wasiImport).forEach(function(E){var w=s.wasiImport[E];s.wasiImport[E]=function(){for(var R=[],D=0;D<arguments.length;D++)R[D]=arguments[D];console.log("WASI: wasiImport called: "+E+" ("+R+")");try{var P=w.apply(void 0,Rn(R));return console.log("WASI:  => "+P),P}catch(k){throw console.log("Catched error: "+k),k}}})}return t.prototype.refreshMemory=function(){this.view&&this.view.buffer.byteLength!==0||(this.view=new On(this.memory.buffer))},t.prototype.setMemory=function(e){this.memory=e},t.prototype.start=function(e){if(e=e.exports,e===null||typeof e!="object")throw Error("instance.exports must be an Object. Received "+e+".");var n=e.memory;if(!(n instanceof WebAssembly.Memory))throw Error("instance.exports.memory must be a WebAssembly.Memory. Recceived "+n+".");this.setMemory(n),e._start&&e._start()},t.prototype.getImportNamespace=function(e){var n,r=null;try{for(var i=Tn(WebAssembly.Module.imports(e)),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.kind==="function"&&s.module.startsWith("wasi_")){if(!r)r=s.module;else if(r!==s.module)throw Error("Multiple namespaces detected.")}}}catch(d){var l={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(l)throw l.error}}return r},t.prototype.getImports=function(e){switch(this.getImportNamespace(e)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw Error("Can't detect a WASI namespace for the WebAssembly Module")}},t.defaultBindings=oo,t}();function Qu(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(c){try{d(r.next(c))}catch(g){o(g)}}function l(c){try{d(r.throw(c))}catch(g){o(g)}}function d(c){c.done?i(c.value):new n(function(g){g(c.value)}).then(s,l)}d((r=r.apply(t,e||[])).next())})}function xu(t,e){function n(c){return function(g){return r([c,g])}}function r(c){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,s&&(l=c[0]&2?s.return:c[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,c[1])).done)return l;switch(s=0,l&&(c=[c[0]&2,l.value]),c[0]){case 0:case 1:l=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,s=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=0<l.length&&l[l.length-1])&&(c[0]===6||c[0]===2)){i=0;continue}if(c[0]===3&&(!l||c[1]>l[0]&&c[1]<l[3]))i.label=c[1];else if(c[0]===6&&i.label<l[1])i.label=l[1],l=c;else if(l&&i.label<l[2])i.label=l[2],i.ops.push(c);else{l[2]&&i.ops.pop(),i.trys.pop();continue}}c=e.call(t,i)}catch(g){c=[6,g],s=0}finally{o=l=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,s,l,d;return d={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d}function Mr(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function bu(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;t=n.call(t);var r,i=[];try{for(;(e===void 0||0<e--)&&!(r=t.next()).done;)i.push(r.value)}catch(s){var o={error:s}}finally{try{r&&!r.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}return i}function tf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bu(arguments[e]));return t}var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof it<"u"?it:{};function Et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dt(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Z=dt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}});Et(Z);var ef=dt(function(t,e){e.default=typeof BigInt=="function"?BigInt:function(){throw Error("BigInt is not supported in this environment.")}}),ke=dt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Z.constants.S_IFMT,r=Z.constants.S_IFDIR,i=Z.constants.S_IFREG,o=Z.constants.S_IFBLK,s=Z.constants.S_IFCHR,l=Z.constants.S_IFLNK,d=Z.constants.S_IFIFO,c=Z.constants.S_IFSOCK;t=function(){function g(){}return g.build=function(y,a){a===void 0&&(a=!1);var p=new g,I=y.gid,N=y.atime,C=y.mtime,G=y.ctime;return a=a?ef.default:function(Y){return Y},p.uid=a(y.uid),p.gid=a(I),p.rdev=a(0),p.blksize=a(4096),p.ino=a(y.ino),p.size=a(y.getSize()),p.blocks=a(1),p.atime=N,p.mtime=C,p.ctime=G,p.birthtime=G,p.atimeMs=a(N.getTime()),p.mtimeMs=a(C.getTime()),I=a(G.getTime()),p.ctimeMs=I,p.birthtimeMs=I,p.dev=a(0),p.mode=a(y.mode),p.nlink=a(y.nlink),p},g.prototype._checkModeProperty=function(y){return(Number(this.mode)&n)===y},g.prototype.isDirectory=function(){return this._checkModeProperty(r)},g.prototype.isFile=function(){return this._checkModeProperty(i)},g.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},g.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},g.prototype.isSymbolicLink=function(){return this._checkModeProperty(l)},g.prototype.isFIFO=function(){return this._checkModeProperty(d)},g.prototype.isSocket=function(){return this._checkModeProperty(c)},g}(),e.Stats=t,e.default=t});Et(ke);var Ie=typeof global<"u"?global:typeof it<"u"?it:typeof window<"u"?window:{},Ut=[],Lt=[],nf=typeof Uint8Array<"u"?Uint8Array:Array,Br=!1;function po(){Br=!0;for(var t=0;64>t;++t)Ut[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],Lt["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;Lt[45]=62,Lt[95]=63}function rf(t,e,n){for(var r=[],i=e;i<n;i+=3)e=(t[i]<<16)+(t[i+1]<<8)+t[i+2],r.push(Ut[e>>18&63]+Ut[e>>12&63]+Ut[e>>6&63]+Ut[e&63]);return r.join("")}function go(t){Br||po();for(var e=t.length,n=e%3,r="",i=[],o=0,s=e-n;o<s;o+=16383)i.push(rf(t,o,o+16383>s?s:o+16383));return n===1?(t=t[e-1],r+=Ut[t>>2],r+=Ut[t<<4&63],r+="=="):n===2&&(t=(t[e-2]<<8)+t[e-1],r+=Ut[t>>10],r+=Ut[t>>4&63],r+=Ut[t<<2&63],r+="="),i.push(r),i.join("")}function jn(t,e,n,r,i){var o=8*i-r-1,s=(1<<o)-1,l=s>>1,d=-7;i=n?i-1:0;var c=n?-1:1,g=t[e+i];for(i+=c,n=g&(1<<-d)-1,g>>=-d,d+=o;0<d;n=256*n+t[e+i],i+=c,d-=8);for(o=n&(1<<-d)-1,n>>=-d,d+=r;0<d;o=256*o+t[e+i],i+=c,d-=8);if(n===0)n=1-l;else{if(n===s)return o?NaN:1/0*(g?-1:1);o+=Math.pow(2,r),n-=l}return(g?-1:1)*o*Math.pow(2,n-r)}function Vn(t,e,n,r,i,o){var s,l=8*o-i-1,d=(1<<l)-1,c=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;o=r?0:o-1;var y=r?1:-1,a=0>e||e===0&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(e=isNaN(e)?1:0,r=d):(r=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-r))&&(r--,s*=2),e=1<=r+c?e+g/s:e+g*Math.pow(2,1-c),2<=e*s&&(r++,s/=2),r+c>=d?(e=0,r=d):1<=r+c?(e=(e*s-1)*Math.pow(2,i),r+=c):(e=e*Math.pow(2,c-1)*Math.pow(2,i),r=0));8<=i;t[n+o]=e&255,o+=y,e/=256,i-=8);for(r=r<<i|e,l+=i;0<l;t[n+o]=r&255,o+=y,r/=256,l-=8);t[n+o-y]|=128*a}var of={}.toString,yo=Array.isArray||function(t){return of.call(t)=="[object Array]"};L.TYPED_ARRAY_SUPPORT=Ie.TYPED_ARRAY_SUPPORT!==void 0?Ie.TYPED_ARRAY_SUPPORT:!0;var sf=L.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function $t(t,e){if((L.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return L.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=L.prototype):(t===null&&(t=new L(e)),t.length=e),t}function L(t,e,n){if(!(L.TYPED_ARRAY_SUPPORT||this instanceof L))return new L(t,e,n);if(typeof t=="number"){if(typeof e=="string")throw Error("If encoding is specified then the first argument must be a string");return Ur(this,t)}return Eo(this,t,e,n)}L.poolSize=8192,L._augment=function(t){return t.__proto__=L.prototype,t};function Eo(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer){if(e.byteLength,0>n||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=n===void 0&&r===void 0?new Uint8Array(e):r===void 0?new Uint8Array(e,n):new Uint8Array(e,n,r),L.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=L.prototype):t=kr(t,e),t}if(typeof e=="string"){if(r=t,t=n,(typeof t!="string"||t==="")&&(t="utf8"),!L.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return n=mo(e,t)|0,r=$t(r,n),e=r.write(e,t),e!==n&&(r=r.slice(0,e)),r}return uf(t,e)}L.from=function(t,e,n){return Eo(null,t,e,n)},L.TYPED_ARRAY_SUPPORT&&(L.prototype.__proto__=Uint8Array.prototype,L.__proto__=Uint8Array);function So(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}L.alloc=function(t,e,n){return So(t),t=0>=t?$t(null,t):e!==void 0?typeof n=="string"?$t(null,t).fill(e,n):$t(null,t).fill(e):$t(null,t),t};function Ur(t,e){if(So(e),t=$t(t,0>e?0:Gr(e)|0),!L.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}L.allocUnsafe=function(t){return Ur(null,t)},L.allocUnsafeSlow=function(t){return Ur(null,t)};function kr(t,e){var n=0>e.length?0:Gr(e.length)|0;t=$t(t,n);for(var r=0;r<n;r+=1)t[r]=e[r]&255;return t}function uf(t,e){if(kt(e)){var n=Gr(e.length)|0;return t=$t(t,n),t.length===0||e.copy(t,0,0,n),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return(n=typeof e.length!="number")||(n=e.length,n=n!==n),n?$t(t,0):kr(t,e);if(e.type==="Buffer"&&yo(e.data))return kr(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Gr(t){if(t>=(L.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(L.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return t|0}L.isBuffer=zt;function kt(t){return!(t==null||!t._isBuffer)}L.compare=function(t,e){if(!kt(t)||!kt(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},L.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},L.concat=function(t,e){if(!yo(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return L.alloc(0);var n;if(e===void 0)for(n=e=0;n<t.length;++n)e+=t[n].length;e=L.allocUnsafe(e);var r=0;for(n=0;n<t.length;++n){var i=t[n];if(!kt(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,r),r+=i.length}return e};function mo(t,e){if(kt(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return qn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Ro(t).length;default:if(r)return qn(t).length;e=(""+e).toLowerCase(),r=!0}}L.byteLength=mo;function ff(t,e,n){var r=!1;if((e===void 0||0>e)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),0>=n)||(n>>>=0,e>>>=0,n<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=n,n=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n),r="",n=t;n<e;++n)t=r,r=this[n],r=16>r?"0"+r.toString(16):r.toString(16),r=t+r;return r;case"utf8":case"utf-8":return wo(this,e,n);case"ascii":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(this[e]&127);return t;case"latin1":case"binary":for(t="",n=Math.min(this.length,n);e<n;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return e=e===0&&n===this.length?go(this):go(this.slice(e,n)),e;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,n),n="",t=0;t<e.length;t+=2)n+=String.fromCharCode(e[t]+256*e[t+1]);return n;default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}L.prototype._isBuffer=!0;function Ae(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}L.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Ae(this,e,e+1);return this},L.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Ae(this,e,e+3),Ae(this,e+1,e+2);return this},L.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Ae(this,e,e+7),Ae(this,e+1,e+6),Ae(this,e+2,e+5),Ae(this,e+3,e+4);return this},L.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?wo(this,0,t):ff.apply(this,arguments)},L.prototype.equals=function(t){if(!kt(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:L.compare(this,t)===0},L.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},L.prototype.compare=function(t,e,n,r,i){if(!kt(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),0>e||n>t.length||0>r||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;var o=i-r,s=n-e,l=Math.min(o,s);for(r=this.slice(r,i),t=t.slice(e,n),e=0;e<l;++e)if(r[e]!==t[e]){o=r[e],s=t[e];break}return o<s?-1:s<o?1:0};function Io(t,e,n,r,i){if(t.length===0)return-1;if(typeof n=="string"?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),0>n&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(0>n)if(i)n=0;else return-1;if(typeof e=="string"&&(e=L.from(e,r)),kt(e))return e.length===0?-1:Ao(t,e,n,r,i);if(typeof e=="number")return e&=255,L.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):Ao(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Ao(t,e,n,r,i){function o(c,g){return s===1?c[g]:c.readUInt16BE(g*s)}var s=1,l=t.length,d=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(2>t.length||2>e.length)return-1;s=2,l/=2,d/=2,n/=2}if(i)for(r=-1;n<l;n++)if(o(t,n)===o(e,r===-1?0:n-r)){if(r===-1&&(r=n),n-r+1===d)return r*s}else r!==-1&&(n-=n-r),r=-1;else for(n+d>l&&(n=l-d);0<=n;n--){for(l=!0,r=0;r<d;r++)if(o(t,n+r)!==o(e,r)){l=!1;break}if(l)return n}return-1}L.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},L.prototype.indexOf=function(t,e,n){return Io(this,t,e,n,!0)},L.prototype.lastIndexOf=function(t,e,n){return Io(this,t,e,n,!1)},L.prototype.write=function(t,e,n,r){if(e===void 0)r="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")r=e,n=this.length,e=0;else if(isFinite(e))e|=0,isFinite(n)?(n|=0,r===void 0&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-e;if((n===void 0||n>i)&&(n=i),0<t.length&&(0>n||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(r||(r="utf8"),i=!1;;)switch(r){case"hex":t:{if(e=Number(e)||0,r=this.length-e,n?(n=Number(n),n>r&&(n=r)):n=r,r=t.length,r%2!==0)throw new TypeError("Invalid hex string");for(n>r/2&&(n=r/2),r=0;r<n;++r){if(i=parseInt(t.substr(2*r,2),16),isNaN(i)){t=r;break t}this[e+r]=i}t=r}return t;case"utf8":case"utf-8":return fn(qn(t,this.length-e),this,e,n);case"ascii":return fn(vo(t),this,e,n);case"latin1":case"binary":return fn(vo(t),this,e,n);case"base64":return fn(Ro(t),this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=t,i=this.length-e;for(var o=[],s=0;s<r.length&&!(0>(i-=2));++s){var l=r.charCodeAt(s);t=l>>8,l%=256,o.push(l),o.push(t)}return fn(o,this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},L.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function wo(t,e,n){n=Math.min(t.length,n);for(var r=[];e<n;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=n)switch(s){case 1:128>i&&(o=i);break;case 2:var l=t[e+1];(l&192)===128&&(i=(i&31)<<6|l&63,127<i&&(o=i));break;case 3:l=t[e+1];var d=t[e+2];(l&192)===128&&(d&192)===128&&(i=(i&15)<<12|(l&63)<<6|d&63,2047<i&&(55296>i||57343<i)&&(o=i));break;case 4:l=t[e+1],d=t[e+2];var c=t[e+3];(l&192)===128&&(d&192)===128&&(c&192)===128&&(i=(i&15)<<18|(l&63)<<12|(d&63)<<6|c&63,65535<i&&1114112>i&&(o=i))}o===null?(o=65533,s=1):65535<o&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),e+=s}if(t=r.length,t<=To)r=String.fromCharCode.apply(String,r);else{for(n="",e=0;e<t;)n+=String.fromCharCode.apply(String,r.slice(e,e+=To));r=n}return r}var To=4096;L.prototype.slice=function(t,e){var n=this.length;if(t=~~t,e=e===void 0?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),e<t&&(e=t),L.TYPED_ARRAY_SUPPORT)e=this.subarray(t,e),e.__proto__=L.prototype;else{n=e-t,e=new L(n,void 0);for(var r=0;r<n;++r)e[r]=this[r+t]}return e};function pt(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}L.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||pt(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n},L.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||pt(t,e,this.length),n=this[t+--e];for(var r=1;0<e&&(r*=256);)n+=this[t+--e]*r;return n},L.prototype.readUInt8=function(t,e){return e||pt(t,1,this.length),this[t]},L.prototype.readUInt16LE=function(t,e){return e||pt(t,2,this.length),this[t]|this[t+1]<<8},L.prototype.readUInt16BE=function(t,e){return e||pt(t,2,this.length),this[t]<<8|this[t+1]},L.prototype.readUInt32LE=function(t,e){return e||pt(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},L.prototype.readUInt32BE=function(t,e){return e||pt(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},L.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||pt(t,e,this.length),n=this[t];for(var r=1,i=0;++i<e&&(r*=256);)n+=this[t+i]*r;return n>=128*r&&(n-=Math.pow(2,8*e)),n},L.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||pt(t,e,this.length),n=e;for(var r=1,i=this[t+--n];0<n&&(r*=256);)i+=this[t+--n]*r;return i>=128*r&&(i-=Math.pow(2,8*e)),i},L.prototype.readInt8=function(t,e){return e||pt(t,1,this.length),this[t]&128?-1*(255-this[t]+1):this[t]},L.prototype.readInt16LE=function(t,e){return e||pt(t,2,this.length),t=this[t]|this[t+1]<<8,t&32768?t|4294901760:t},L.prototype.readInt16BE=function(t,e){return e||pt(t,2,this.length),t=this[t+1]|this[t]<<8,t&32768?t|4294901760:t},L.prototype.readInt32LE=function(t,e){return e||pt(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},L.prototype.readInt32BE=function(t,e){return e||pt(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},L.prototype.readFloatLE=function(t,e){return e||pt(t,4,this.length),jn(this,t,!0,23,4)},L.prototype.readFloatBE=function(t,e){return e||pt(t,4,this.length),jn(this,t,!1,23,4)},L.prototype.readDoubleLE=function(t,e){return e||pt(t,8,this.length),jn(this,t,!0,52,8)},L.prototype.readDoubleBE=function(t,e){return e||pt(t,8,this.length),jn(this,t,!1,52,8)};function At(t,e,n,r,i,o){if(!kt(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}L.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||At(this,t,e,n,Math.pow(2,8*n)-1,0),r=1;var i=0;for(this[e]=t&255;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},L.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||At(this,t,e,n,Math.pow(2,8*n)-1,0),r=n-1;var i=1;for(this[e+r]=t&255;0<=--r&&(i*=256);)this[e+r]=t/i&255;return e+n},L.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||At(this,t,e,1,255,0),L.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t&255,e+1};function Kn(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}L.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||At(this,t,e,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Kn(this,t,e,!0),e+2},L.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||At(this,t,e,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Kn(this,t,e,!1),e+2};function $n(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}L.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||At(this,t,e,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255):$n(this,t,e,!0),e+4},L.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||At(this,t,e,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):$n(this,t,e,!1),e+4},L.prototype.writeIntLE=function(t,e,n,r){t=+t,e|=0,r||(r=Math.pow(2,8*n-1),At(this,t,e,n,r-1,-r)),r=0;var i=1,o=0;for(this[e]=t&255;++r<n&&(i*=256);)0>t&&o===0&&this[e+r-1]!==0&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},L.prototype.writeIntBE=function(t,e,n,r){t=+t,e|=0,r||(r=Math.pow(2,8*n-1),At(this,t,e,n,r-1,-r)),r=n-1;var i=1,o=0;for(this[e+r]=t&255;0<=--r&&(i*=256);)0>t&&o===0&&this[e+r+1]!==0&&(o=1),this[e+r]=(t/i>>0)-o&255;return e+n},L.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||At(this,t,e,1,127,-128),L.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t&255,e+1},L.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||At(this,t,e,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Kn(this,t,e,!0),e+2},L.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||At(this,t,e,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Kn(this,t,e,!1),e+2},L.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||At(this,t,e,4,2147483647,-2147483648),L.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):$n(this,t,e,!0),e+4},L.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||At(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),L.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):$n(this,t,e,!1),e+4};function zn(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}L.prototype.writeFloatLE=function(t,e,n){return n||zn(this,t,e,4),Vn(this,t,e,!0,23,4),e+4},L.prototype.writeFloatBE=function(t,e,n){return n||zn(this,t,e,4),Vn(this,t,e,!1,23,4),e+4},L.prototype.writeDoubleLE=function(t,e,n){return n||zn(this,t,e,8),Vn(this,t,e,!0,52,8),e+8},L.prototype.writeDoubleBE=function(t,e,n){return n||zn(this,t,e,8),Vn(this,t,e,!1,52,8),e+8},L.prototype.copy=function(t,e,n,r){if(n||(n=0),r||r===0||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),0<r&&r<n&&(r=n),r===n||t.length===0||this.length===0)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&n<e&&e<r)for(r=i-1;0<=r;--r)t[r+e]=this[r+n];else if(1e3>i||!L.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},L.prototype.fill=function(t,e,n,r){if(typeof t=="string"){if(typeof e=="string"?(r=e,e=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),t.length===1){var i=t.charCodeAt(0);256>i&&(t=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!L.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof t=="number"&&(t&=255);if(0>e||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=n===void 0?this.length:n>>>0,t||(t=0),typeof t=="number")for(r=e;r<n;++r)this[r]=t;else for(t=kt(t)?t:qn(new L(t,r).toString()),i=t.length,r=0;r<n-e;++r)this[r+e]=t[r%i];return this};var lf=/[^+\/0-9A-Za-z-_]/g;function qn(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if(n=t.charCodeAt(s),55295<n&&57344>n){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}else if(s+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>--e)break;o.push(n)}else if(2048>n){if(0>(e-=2))break;o.push(n>>6|192,n&63|128)}else if(65536>n){if(0>(e-=3))break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(1114112>n){if(0>(e-=4))break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw Error("Invalid code point")}return o}function vo(t){for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n)&255);return e}function Ro(t){if(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(lf,""),2>t.length)t="";else for(;t.length%4!==0;)t+="=";Br||po();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var n=t[e-2]==="="?2:t[e-1]==="="?1:0,r=new nf(3*e/4-n),i=0<n?e-4:e,o=0;for(e=0;e<i;e+=4){var s=Lt[t.charCodeAt(e)]<<18|Lt[t.charCodeAt(e+1)]<<12|Lt[t.charCodeAt(e+2)]<<6|Lt[t.charCodeAt(e+3)];r[o++]=s>>16&255,r[o++]=s>>8&255,r[o++]=s&255}return n===2?(s=Lt[t.charCodeAt(e)]<<2|Lt[t.charCodeAt(e+1)]>>4,r[o++]=s&255):n===1&&(s=Lt[t.charCodeAt(e)]<<10|Lt[t.charCodeAt(e+1)]<<4|Lt[t.charCodeAt(e+2)]>>2,r[o++]=s>>8&255,r[o++]=s&255),r}function fn(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function zt(t){return t!=null&&(!!t._isBuffer||Oo(t)||typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Oo(t.slice(0,0)))}function Oo(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var ln=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:sf,Buffer:L,SlowBuffer:function(t){return+t!=t&&(t=0),L.alloc(+t)},isBuffer:zt}),ot=dt(function(t,e){function n(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return new(ln.Buffer.bind.apply(ln.Buffer,r([void 0,i],o)))}var r=at&&at.__spreadArrays||function(){for(var i=0,o=0,s=arguments.length;o<s;o++)i+=arguments[o].length;i=Array(i);var l=0;for(o=0;o<s;o++)for(var d=arguments[o],c=0,g=d.length;c<g;c++,l++)i[l]=d[c];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=ln.Buffer,e.bufferAllocUnsafe=ln.Buffer.allocUnsafe||n,e.bufferFrom=ln.Buffer.from||n});Et(ot);function No(){throw Error("setTimeout has not been defined")}function Lo(){throw Error("clearTimeout has not been defined")}var ue=No,fe=Lo;typeof Ie.setTimeout=="function"&&(ue=setTimeout),typeof Ie.clearTimeout=="function"&&(fe=clearTimeout);function Co(t){if(ue===setTimeout)return setTimeout(t,0);if((ue===No||!ue)&&setTimeout)return ue=setTimeout,setTimeout(t,0);try{return ue(t,0)}catch{try{return ue.call(null,t,0)}catch{return ue.call(this,t,0)}}}function hf(t){if(fe===clearTimeout)return clearTimeout(t);if((fe===Lo||!fe)&&clearTimeout)return fe=clearTimeout,clearTimeout(t);try{return fe(t)}catch{try{return fe.call(null,t)}catch{return fe.call(this,t)}}}var qt=[],Ge=!1,we,Xn=-1;function cf(){Ge&&we&&(Ge=!1,we.length?qt=we.concat(qt):Xn=-1,qt.length&&Wo())}function Wo(){if(!Ge){var t=Co(cf);Ge=!0;for(var e=qt.length;e;){for(we=qt,qt=[];++Xn<e;)we&&we[Xn].run();Xn=-1,e=qt.length}we=null,Ge=!1,hf(t)}}function Tt(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];qt.push(new Po(t,e)),qt.length!==1||Ge||Co(Wo)}function Po(t,e){this.fun=t,this.array=e}Po.prototype.run=function(){this.fun.apply(null,this.array)};function Te(){}var He=Ie.performance||{},af=He.now||He.mozNow||He.msNow||He.oNow||He.webkitNow||function(){return new Date().getTime()},_f=new Date,Ye={nextTick:Tt,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Te,addListener:Te,once:Te,off:Te,removeListener:Te,removeAllListeners:Te,emit:Te,binding:function(){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*af.call(He),n=Math.floor(e);return e=Math.floor(e%1*1e9),t&&(n-=t[0],e-=t[1],0>e&&(n--,e+=1e9)),[n,e]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-_f)/1e3}},le=typeof Object.create=="function"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){function n(){}t.super_=e,n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},pf=/%[sdj%]/g;function Hr(t){if(!ve(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(Gt(arguments[n]));return e.join(" ")}n=1;var r=arguments,i=r.length;e=String(t).replace(pf,function(s){if(s==="%%")return"%";if(n>=i)return s;switch(s){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}default:return s}});for(var o=r[n];n<i;o=r[++n])e=o!==null&&he(o)?e+(" "+Gt(o)):e+(" "+o);return e}function Yr(t,e){if(Xt(Ie.process))return function(){return Yr(t,e).apply(this,arguments)};if(Ye.noDeprecation===!0)return t;var n=!1;return function(){if(!n){if(Ye.throwDeprecation)throw Error(e);Ye.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var Jn={},jr;function Do(t){return Xt(jr)&&(jr=Ye.env.NODE_DEBUG||""),t=t.toUpperCase(),Jn[t]||(new RegExp("\\b"+t+"\\b","i").test(jr)?Jn[t]=function(){var e=Hr.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:Jn[t]=function(){}),Jn[t]}function Gt(t,e){var n={seen:[],stylize:df};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),$r(e)?n.showHidden=e:e&&Bo(n,e),Xt(n.showHidden)&&(n.showHidden=!1),Xt(n.depth)&&(n.depth=2),Xt(n.colors)&&(n.colors=!1),Xt(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=gf),Zn(n,t,n.depth)}Gt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Gt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function gf(t,e){return(e=Gt.styles[e])?"\x1B["+Gt.colors[e][0]+"m"+t+"\x1B["+Gt.colors[e][1]+"m":t}function df(t){return t}function yf(t){var e={};return t.forEach(function(n){e[n]=!0}),e}function Zn(t,e,n){if(t.customInspect&&e&&Ve(e.inspect)&&e.inspect!==Gt&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return ve(r)||(r=Zn(t,r,n)),r}if(r=Ef(t,e))return r;var i=Object.keys(e),o=yf(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),cn(e)&&(0<=i.indexOf("message")||0<=i.indexOf("description")))return Vr(e);if(i.length===0){if(Ve(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(je(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(hn(e))return t.stylize(Date.prototype.toString.call(e),"date");if(cn(e))return Vr(e)}r="";var s=!1,l=["{","}"];return Fo(e)&&(s=!0,l=["[","]"]),Ve(e)&&(r=" [Function"+(e.name?": "+e.name:"")+"]"),je(e)&&(r=" "+RegExp.prototype.toString.call(e)),hn(e)&&(r=" "+Date.prototype.toUTCString.call(e)),cn(e)&&(r=" "+Vr(e)),i.length===0&&(!s||e.length==0)?l[0]+r+l[1]:0>n?je(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),i=s?Sf(t,e,n,o,i):i.map(function(d){return Kr(t,e,n,o,d,s)}),t.seen.pop(),mf(i,r,l))}function Ef(t,e){if(Xt(e))return t.stylize("undefined","undefined");if(ve(e))return e="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",t.stylize(e,"string");if(Mo(e))return t.stylize(""+e,"number");if($r(e))return t.stylize(""+e,"boolean");if(e===null)return t.stylize("null","null")}function Vr(t){return"["+Error.prototype.toString.call(t)+"]"}function Sf(t,e,n,r,i){for(var o=[],s=0,l=e.length;s<l;++s)Object.prototype.hasOwnProperty.call(e,String(s))?o.push(Kr(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(d){d.match(/^\d+$/)||o.push(Kr(t,e,n,r,d,!0))}),o}function Kr(t,e,n,r,i,o){var s,l;if(e=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},e.get?l=e.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.set&&(l=t.stylize("[Setter]","special")),Object.prototype.hasOwnProperty.call(r,i)||(s="["+i+"]"),l||(0>t.seen.indexOf(e.value)?(l=n===null?Zn(t,e.value,null):Zn(t,e.value,n-1),-1<l.indexOf(`
`)&&(l=o?l.split(`
`).map(function(d){return"  "+d}).join(`
`).substr(2):`
`+l.split(`
`).map(function(d){return"   "+d}).join(`
`))):l=t.stylize("[Circular]","special")),Xt(s)){if(o&&i.match(/^\d+$/))return l;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+l}function mf(t,e,n){return 60<t.reduce(function(r,i){return i.indexOf(`
`),r+i.replace(/\u001b\[\d\d?m/g,"").length+1},0)?n[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function Fo(t){return Array.isArray(t)}function $r(t){return typeof t=="boolean"}function Mo(t){return typeof t=="number"}function ve(t){return typeof t=="string"}function Xt(t){return t===void 0}function je(t){return he(t)&&Object.prototype.toString.call(t)==="[object RegExp]"}function he(t){return typeof t=="object"&&t!==null}function hn(t){return he(t)&&Object.prototype.toString.call(t)==="[object Date]"}function cn(t){return he(t)&&(Object.prototype.toString.call(t)==="[object Error]"||t instanceof Error)}function Ve(t){return typeof t=="function"}function zr(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function qr(t){return 10>t?"0"+t.toString(10):t.toString(10)}var If="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");function Af(){var t=new Date,e=[qr(t.getHours()),qr(t.getMinutes()),qr(t.getSeconds())].join(":");return[t.getDate(),If[t.getMonth()],e].join(" ")}function Bo(t,e){if(!e||!he(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}var an={inherits:le,_extend:Bo,log:function(){console.log("%s - %s",Af(),Hr.apply(null,arguments))},isBuffer:function(t){return zt(t)},isPrimitive:zr,isFunction:Ve,isError:cn,isDate:hn,isObject:he,isRegExp:je,isUndefined:Xt,isSymbol:function(t){return typeof t=="symbol"},isString:ve,isNumber:Mo,isNullOrUndefined:function(t){return t==null},isNull:function(t){return t===null},isBoolean:$r,isArray:Fo,inspect:Gt,deprecate:Yr,format:Hr,debuglog:Do};function Uo(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}var wf=Object.prototype.hasOwnProperty,ko=Object.keys||function(t){var e=[],n;for(n in t)wf.call(t,n)&&e.push(n);return e},Go=Array.prototype.slice,Xr;function Ho(){return typeof Xr<"u"?Xr:Xr=function(){return function(){}.name==="foo"}()}function Yo(t){return zt(t)||typeof Ie.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t?!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer):!1}function ft(t,e){t||wt(t,!0,e,"==",Zr)}var Tf=/\s*function\s+([^\(\s]*)\s*/;function jo(t){if(Ve(t))return Ho()?t.name:(t=t.toString().match(Tf))&&t[1]}ft.AssertionError=Jr;function Jr(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=Vo(Ko(this.actual),128)+" "+this.operator+" "+Vo(Ko(this.expected),128),this.generatedMessage=!0);var e=t.stackStartFunction||wt;Error.captureStackTrace?Error.captureStackTrace(this,e):(t=Error(),t.stack&&(t=t.stack,e=jo(e),e=t.indexOf(`
`+e),0<=e&&(e=t.indexOf(`
`,e+1),t=t.substring(e+1)),this.stack=t))}le(Jr,Error);function Vo(t,e){return typeof t=="string"?t.length<e?t:t.slice(0,e):t}function Ko(t){return Ho()||!Ve(t)?Gt(t):(t=jo(t),"[Function"+(t?": "+t:"")+"]")}function wt(t,e,n,r,i){throw new Jr({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}ft.fail=wt;function Zr(t,e){t||wt(t,!0,e,"==",Zr)}ft.ok=Zr,ft.equal=$o;function $o(t,e,n){t!=e&&wt(t,e,n,"==",$o)}ft.notEqual=zo;function zo(t,e,n){t==e&&wt(t,e,n,"!=",zo)}ft.deepEqual=qo;function qo(t,e,n){Ke(t,e,!1)||wt(t,e,n,"deepEqual",qo)}ft.deepStrictEqual=Xo;function Xo(t,e,n){Ke(t,e,!0)||wt(t,e,n,"deepStrictEqual",Xo)}function Ke(t,e,n,r){if(t===e)return!0;if(zt(t)&&zt(e))return Uo(t,e)===0;if(hn(t)&&hn(e))return t.getTime()===e.getTime();if(je(t)&&je(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(t!==null&&typeof t=="object"||e!==null&&typeof e=="object"){if(!Yo(t)||!Yo(e)||Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||t instanceof Float32Array||t instanceof Float64Array){if(zt(t)!==zt(e))return!1;r=r||{actual:[],expected:[]};var i=r.actual.indexOf(t);return i!==-1&&i===r.expected.indexOf(e)?!0:(r.actual.push(t),r.expected.push(e),vf(t,e,n,r))}return Uo(new Uint8Array(t.buffer),new Uint8Array(e.buffer))===0}return n?t===e:t==e}function Jo(t){return Object.prototype.toString.call(t)=="[object Arguments]"}function vf(t,e,n,r){if(t==null||e===null||e===void 0)return!1;if(zr(t)||zr(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=Jo(t),o=Jo(e);if(i&&!o||!i&&o)return!1;if(i)return t=Go.call(t),e=Go.call(e),Ke(t,e,n);i=ko(t);var s=ko(e);if(i.length!==s.length)return!1;for(i.sort(),s.sort(),o=i.length-1;0<=o;o--)if(i[o]!==s[o])return!1;for(o=i.length-1;0<=o;o--)if(s=i[o],!Ke(t[s],e[s],n,r))return!1;return!0}ft.notDeepEqual=Zo;function Zo(t,e,n){Ke(t,e,!1)&&wt(t,e,n,"notDeepEqual",Zo)}ft.notDeepStrictEqual=Qo;function Qo(t,e,n){Ke(t,e,!0)&&wt(t,e,n,"notDeepStrictEqual",Qo)}ft.strictEqual=xo;function xo(t,e,n){t!==e&&wt(t,e,n,"===",xo)}ft.notStrictEqual=bo;function bo(t,e,n){t===e&&wt(t,e,n,"!==",bo)}function ts(t,e){if(!t||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(t);try{if(t instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function es(t,e,n,r){if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof n=="string"&&(r=n,n=null);try{e()}catch(l){var i=l}e=i,r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!e&&wt(e,n,"Missing expected exception"+r),i=typeof r=="string";var o=!t&&cn(e),s=!t&&e&&!n;if((o&&i&&ts(e,n)||s)&&wt(e,n,"Got unwanted exception"+r),t&&e&&n&&!ts(e,n)||!t&&e)throw e}ft.throws=Rf;function Rf(t,e,n){es(!0,t,e,n)}ft.doesNotThrow=Of;function Of(t,e,n){es(!1,t,e,n)}ft.ifError=Nf;function Nf(t){if(t)throw t}var _n=dt(function(t,e){function n(c){return function(g){function y(a){for(var p=[],I=1;I<arguments.length;I++)p[I-1]=arguments[I];return p=g.call(this,r(a,p))||this,p.code=a,p[l]=a,p.name=g.prototype.name+" ["+p[l]+"]",p}return s(y,g),y}(c)}function r(c,g){ft.strictEqual(typeof c,"string");var y=d[c];if(ft(y,"An invalid error message key was used: "+c+"."),typeof y=="function")c=y;else{if(c=an.format,g===void 0||g.length===0)return y;g.unshift(y)}return String(c.apply(null,g))}function i(c,g){d[c]=typeof g=="function"?g:String(g)}function o(c,g){if(ft(c,"expected is required"),ft(typeof g=="string","thing is required"),Array.isArray(c)){var y=c.length;return ft(0<y,"At least one expected value needs to be specified"),c=c.map(function(a){return String(a)}),2<y?"one of "+g+" "+c.slice(0,y-1).join(", ")+", or "+c[y-1]:y===2?"one of "+g+" "+c[0]+" or "+c[1]:"of "+g+" "+c[0]}return"of "+g+" "+String(c)}var s=at&&at.__extends||function(){function c(g,y){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var I in p)p.hasOwnProperty(I)&&(a[I]=p[I])},c(g,y)}return function(g,y){function a(){this.constructor=g}c(g,y),g.prototype=y===null?Object.create(y):(a.prototype=y.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0});var l=typeof Symbol>"u"?"_kCode":Symbol("code"),d={};t=function(c){function g(y){if(typeof y!="object"||y===null)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");var a=y.message?c.call(this,y.message)||this:c.call(this,an.inspect(y.actual).slice(0,128)+" "+(y.operator+" "+an.inspect(y.expected).slice(0,128)))||this;return a.generatedMessage=!y.message,a.name="AssertionError [ERR_ASSERTION]",a.code="ERR_ASSERTION",a.actual=y.actual,a.expected=y.expected,a.operator=y.operator,e.Error.captureStackTrace(a,y.stackStartFunction),a}return s(g,c),g}(at.Error),e.AssertionError=t,e.message=r,e.E=i,e.Error=n(at.Error),e.TypeError=n(at.TypeError),e.RangeError=n(at.RangeError),i("ERR_ARG_NOT_ITERABLE","%s must be iterable"),i("ERR_ASSERTION","%s"),i("ERR_BUFFER_OUT_OF_BOUNDS",function(c,g){return g?"Attempt to write outside buffer bounds":'"'+c+'" is outside of buffer bounds'}),i("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),i("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),i("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),i("ERR_DNS_SET_SERVERS_FAILED",function(c,g){return'c-ares failed to set servers: "'+c+'" ['+g+"]"}),i("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),i("ERR_ENCODING_NOT_SUPPORTED",function(c){return'The "'+c+'" encoding is not supported'}),i("ERR_ENCODING_INVALID_ENCODED_DATA",function(c){return"The encoded data was not valid for encoding "+c}),i("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),i("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),i("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),i("ERR_INDEX_OUT_OF_RANGE","Index out of range"),i("ERR_INVALID_ARG_TYPE",function(c,g,y){if(ft(c,"name is required"),g.includes("not ")){var a="must not be";g=g.split("not ")[1]}else a="must be";if(Array.isArray(c))a="The "+c.map(function(I){return'"'+I+'"'}).join(", ")+" arguments "+a+" "+o(g,"type");else if(c.includes(" argument"))a="The "+c+" "+a+" "+o(g,"type");else{var p=c.includes(".")?"property":"argument";a='The "'+c+'" '+p+" "+a+" "+o(g,"type")}return 3<=arguments.length&&(a+=". Received type "+(y!==null?typeof y:"null")),a}),i("ERR_INVALID_ARRAY_LENGTH",function(c,g,y){return ft.strictEqual(typeof y,"number"),'The array "'+c+'" (length '+y+") must be of length "+g+"."}),i("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),i("ERR_INVALID_CALLBACK","Callback must be a function"),i("ERR_INVALID_CHAR","Invalid character in %s"),i("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),i("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),i("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),i("ERR_INVALID_FILE_URL_PATH","File URL path %s"),i("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),i("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),i("ERR_INVALID_OPT_VALUE",function(c,g){return'The value "'+String(g)+'" is invalid for option "'+c+'"'}),i("ERR_INVALID_OPT_VALUE_ENCODING",function(c){return'The value "'+String(c)+'" is invalid for option "encoding"'}),i("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),i("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),i("ERR_INVALID_THIS",'Value of "this" must be of type %s'),i("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),i("ERR_INVALID_URL","Invalid URL: %s"),i("ERR_INVALID_URL_SCHEME",function(c){return"The URL must be "+o(c,"scheme")}),i("ERR_IPC_CHANNEL_CLOSED","Channel closed"),i("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),i("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),i("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),i("ERR_MISSING_ARGS",function(){for(var c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];ft(0<c.length,"At least one arg needs to be specified"),g="The ";var y=c.length;switch(c=c.map(function(a){return'"'+a+'"'}),y){case 1:g+=c[0]+" argument";break;case 2:g+=c[0]+" and "+c[1]+" arguments";break;default:g+=c.slice(0,y-1).join(", "),g+=", and "+c[y-1]+" arguments"}return g+" must be specified"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),i("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),i("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),i("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),i("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),i("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),i("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),i("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),i("ERR_SOCKET_CANNOT_SEND","Unable to send data"),i("ERR_SOCKET_CLOSED","Socket is closed"),i("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),i("ERR_STDERR_CLOSE","process.stderr cannot be closed"),i("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),i("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),i("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),i("ERR_TLS_DH_PARAM_SIZE",function(c){return"DH parameter size "+c+" is less than 2048"}),i("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),i("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),i("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),i("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),i("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),i("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),i("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),i("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),i("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),i("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),i("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")});Et(_n);var Ct=dt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ENCODING_UTF8="utf8",e.assertEncoding=function(n){if(n&&!ot.Buffer.isEncoding(n))throw new _n.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",n)},e.strToEncoding=function(n,r){return r&&r!==e.ENCODING_UTF8?r==="buffer"?new ot.Buffer(n):new ot.Buffer(n).toString(r):n}});Et(Ct);var Qr=dt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Z.constants.S_IFMT,r=Z.constants.S_IFDIR,i=Z.constants.S_IFREG,o=Z.constants.S_IFBLK,s=Z.constants.S_IFCHR,l=Z.constants.S_IFLNK,d=Z.constants.S_IFIFO,c=Z.constants.S_IFSOCK;t=function(){function g(){this.name="",this.mode=0}return g.build=function(y,a){var p=new g,I=y.getNode().mode;return p.name=Ct.strToEncoding(y.getName(),a),p.mode=I,p},g.prototype._checkModeProperty=function(y){return(this.mode&n)===y},g.prototype.isDirectory=function(){return this._checkModeProperty(r)},g.prototype.isFile=function(){return this._checkModeProperty(i)},g.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},g.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},g.prototype.isSymbolicLink=function(){return this._checkModeProperty(l)},g.prototype.isFIFO=function(){return this._checkModeProperty(d)},g.prototype.isSocket=function(){return this._checkModeProperty(c)},g}(),e.Dirent=t,e.default=t});Et(Qr);function ns(t,e){for(var n=0,r=t.length-1;0<=r;r--){var i=t[r];i==="."?t.splice(r,1):i===".."?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var xr=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function br(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){var r=0<=n?arguments[n]:"/";if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e=r.charAt(0)==="/")}return t=ns(ni(t.split("/"),function(i){return!!i}),!e).join("/"),(e?"/":"")+t||"."}function rs(t){var e=is(t),n=Lf(t,-1)==="/";return(t=ns(ni(t.split("/"),function(r){return!!r}),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t}function is(t){return t.charAt(0)==="/"}function ti(t,e){function n(s){for(var l=0;l<s.length&&s[l]==="";l++);for(var d=s.length-1;0<=d&&s[d]==="";d--);return l>d?[]:s.slice(l,d-l+1)}t=br(t).substr(1),e=br(e).substr(1),t=n(t.split("/")),e=n(e.split("/"));for(var r=Math.min(t.length,e.length),i=r,o=0;o<r;o++)if(t[o]!==e[o]){i=o;break}for(r=[],o=i;o<t.length;o++)r.push("..");return r=r.concat(e.slice(i)),r.join("/")}var ei={extname:function(t){return xr.exec(t).slice(1)[3]},basename:function(t,e){return t=xr.exec(t).slice(1)[2],e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t},dirname:function(t){var e=xr.exec(t).slice(1);return t=e[0],e=e[1],!t&&!e?".":(e&&(e=e.substr(0,e.length-1)),t+e)},sep:"/",delimiter:":",relative:ti,join:function(){var t=Array.prototype.slice.call(arguments,0);return rs(ni(t,function(e){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},isAbsolute:is,normalize:rs,resolve:br};function ni(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var Lf="ab".substr(-1)==="b"?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)},$e=dt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t=typeof setImmediate=="function"?setImmediate.bind(at):setTimeout.bind(at),e.default=t});Et($e);var St=dt(function(t,e){function n(){var r=Ye||{};return r.getuid||(r.getuid=function(){return 0}),r.getgid||(r.getgid=function(){return 0}),r.cwd||(r.cwd=function(){return"/"}),r.nextTick||(r.nextTick=$e.default),r.emitWarning||(r.emitWarning=function(i,o){console.warn(""+o+(o?": ":"")+i)}),r.env||(r.env={}),r}Object.defineProperty(e,"__esModule",{value:!0}),e.createProcess=n,e.default=n()});Et(St);function ce(){}ce.prototype=Object.create(null);function Q(){Q.init.call(this)}Q.EventEmitter=Q,Q.usingDomains=!1,Q.prototype.domain=void 0,Q.prototype._events=void 0,Q.prototype._maxListeners=void 0,Q.defaultMaxListeners=10,Q.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new ce,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Q.prototype.setMaxListeners=function(t){if(typeof t!="number"||0>t||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Q.prototype.getMaxListeners=function(){return this._maxListeners===void 0?Q.defaultMaxListeners:this._maxListeners},Q.prototype.emit=function(t){var e,n,r=t==="error";if(e=this._events)r=r&&e.error==null;else if(!r)return!1;var i=this.domain;if(r){if(e=arguments[1],i)e||(e=Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=i,e.domainThrown=!1,i.emit("error",e);else throw e instanceof Error?e:(i=Error('Uncaught, unspecified "error" event. ('+e+")"),i.context=e,i);return!1}if(i=e[t],!i)return!1;e=typeof i=="function";var o=arguments.length;switch(o){case 1:if(e)i.call(this);else for(e=i.length,i=pn(i,e),r=0;r<e;++r)i[r].call(this);break;case 2:if(r=arguments[1],e)i.call(this,r);else for(e=i.length,i=pn(i,e),o=0;o<e;++o)i[o].call(this,r);break;case 3:if(r=arguments[1],o=arguments[2],e)i.call(this,r,o);else for(e=i.length,i=pn(i,e),n=0;n<e;++n)i[n].call(this,r,o);break;case 4:if(r=arguments[1],o=arguments[2],n=arguments[3],e)i.call(this,r,o,n);else{e=i.length,i=pn(i,e);for(var s=0;s<e;++s)i[s].call(this,r,o,n)}break;default:for(r=Array(o-1),n=1;n<o;n++)r[n-1]=arguments[n];if(e)i.apply(this,r);else for(e=i.length,i=pn(i,e),o=0;o<e;++o)i[o].apply(this,r)}return!0};function os(t,e,n,r){var i;if(typeof n!="function")throw new TypeError('"listener" argument must be a function');if(i=t._events){i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events);var o=i[e]}else i=t._events=new ce,t._eventsCount=0;return o?(typeof o=="function"?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),o.warned||(n=t._maxListeners===void 0?Q.defaultMaxListeners:t._maxListeners)&&0<n&&o.length>n&&(o.warned=!0,n=Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit"),n.name="MaxListenersExceededWarning",n.emitter=t,n.type=e,n.count=o.length,typeof console.warn=="function"?console.warn(n):console.log(n))):(i[e]=n,++t._eventsCount),t}Q.prototype.addListener=function(t,e){return os(this,t,e,!1)},Q.prototype.on=Q.prototype.addListener,Q.prototype.prependListener=function(t,e){return os(this,t,e,!0)};function ss(t,e,n){function r(){t.removeListener(e,r),i||(i=!0,n.apply(t,arguments))}var i=!1;return r.listener=n,r}Q.prototype.once=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.on(t,ss(this,t,e)),this},Q.prototype.prependOnceListener=function(t,e){if(typeof e!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(t,ss(this,t,e)),this},Q.prototype.removeListener=function(t,e){var n;if(typeof e!="function")throw new TypeError('"listener" argument must be a function');var r=this._events;if(!r)return this;var i=r[t];if(!i)return this;if(i===e||i.listener&&i.listener===e)--this._eventsCount===0?this._events=new ce:(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||e));else if(typeof i!="function"){var o=-1;for(n=i.length;0<n--;)if(i[n]===e||i[n].listener&&i[n].listener===e){var s=i[n].listener;o=n;break}if(0>o)return this;if(i.length===1){if(i[0]=void 0,--this._eventsCount===0)return this._events=new ce,this;delete r[t]}else{n=o+1;for(var l=i.length;n<l;o+=1,n+=1)i[o]=i[n];i.pop()}r.removeListener&&this.emit("removeListener",t,s||e)}return this},Q.prototype.removeAllListeners=function(t){var e=this._events;if(!e)return this;if(!e.removeListener)return arguments.length===0?(this._events=new ce,this._eventsCount=0):e[t]&&(--this._eventsCount===0?this._events=new ce:delete e[t]),this;if(arguments.length===0){e=Object.keys(e);for(var n=0,r;n<e.length;++n)r=e[n],r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new ce,this._eventsCount=0,this}if(e=e[t],typeof e=="function")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},Q.prototype.listeners=function(t){var e=this._events;if(e)if(t=e[t])if(typeof t=="function")t=[t.listener||t];else{e=Array(t.length);for(var n=0;n<e.length;++n)e[n]=t[n].listener||t[n];t=e}else t=[];else t=[];return t},Q.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):us.call(t,e)},Q.prototype.listenerCount=us;function us(t){var e=this._events;if(e){if(t=e[t],typeof t=="function")return 1;if(t)return t.length}return 0}Q.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};function pn(t,e){for(var n=Array(e);e--;)n[e]=t[e];return n}var gn=dt(function(t,e){var n=at&&at.__extends||function(){function d(c,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,a){y.__proto__=a}||function(y,a){for(var p in a)a.hasOwnProperty(p)&&(y[p]=a[p])},d(c,g)}return function(c,g){function y(){this.constructor=c}d(c,g),c.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=Z.constants.S_IFMT,i=Z.constants.S_IFDIR,o=Z.constants.S_IFREG,s=Z.constants.S_IFLNK,l=Z.constants.O_APPEND;e.SEP="/",t=function(d){function c(g,y){y===void 0&&(y=438);var a=d.call(this)||this;return a.uid=St.default.getuid(),a.gid=St.default.getgid(),a.atime=new Date,a.mtime=new Date,a.ctime=new Date,a.perm=438,a.mode=o,a.nlink=1,a.perm=y,a.mode|=y,a.ino=g,a}return n(c,d),c.prototype.getString=function(g){return g===void 0&&(g="utf8"),this.getBuffer().toString(g)},c.prototype.setString=function(g){this.buf=ot.bufferFrom(g,"utf8"),this.touch()},c.prototype.getBuffer=function(){return this.buf||this.setBuffer(ot.bufferAllocUnsafe(0)),ot.bufferFrom(this.buf)},c.prototype.setBuffer=function(g){this.buf=ot.bufferFrom(g),this.touch()},c.prototype.getSize=function(){return this.buf?this.buf.length:0},c.prototype.setModeProperty=function(g){this.mode=this.mode&~r|g},c.prototype.setIsFile=function(){this.setModeProperty(o)},c.prototype.setIsDirectory=function(){this.setModeProperty(i)},c.prototype.setIsSymlink=function(){this.setModeProperty(s)},c.prototype.isFile=function(){return(this.mode&r)===o},c.prototype.isDirectory=function(){return(this.mode&r)===i},c.prototype.isSymlink=function(){return(this.mode&r)===s},c.prototype.makeSymlink=function(g){this.symlink=g,this.setIsSymlink()},c.prototype.write=function(g,y,a,p){if(y===void 0&&(y=0),a===void 0&&(a=g.length),p===void 0&&(p=0),this.buf||(this.buf=ot.bufferAllocUnsafe(0)),p+a>this.buf.length){var I=ot.bufferAllocUnsafe(p+a);this.buf.copy(I,0,0,this.buf.length),this.buf=I}return g.copy(this.buf,p,y,y+a),this.touch(),a},c.prototype.read=function(g,y,a,p){return y===void 0&&(y=0),a===void 0&&(a=g.byteLength),p===void 0&&(p=0),this.buf||(this.buf=ot.bufferAllocUnsafe(0)),a>g.byteLength&&(a=g.byteLength),a+p>this.buf.length&&(a=this.buf.length-p),this.buf.copy(g,y,p,p+a),a},c.prototype.truncate=function(g){if(g===void 0&&(g=0),g)if(this.buf||(this.buf=ot.bufferAllocUnsafe(0)),g<=this.buf.length)this.buf=this.buf.slice(0,g);else{var y=ot.bufferAllocUnsafe(0);this.buf.copy(y),y.fill(0,g)}else this.buf=ot.bufferAllocUnsafe(0);this.touch()},c.prototype.chmod=function(g){this.perm=g,this.mode=this.mode&-512|g,this.touch()},c.prototype.chown=function(g,y){this.uid=g,this.gid=y,this.touch()},c.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},c.prototype.canRead=function(g,y){return g===void 0&&(g=St.default.getuid()),y===void 0&&(y=St.default.getgid()),!!(this.perm&4||y===this.gid&&this.perm&32||g===this.uid&&this.perm&256)},c.prototype.canWrite=function(g,y){return g===void 0&&(g=St.default.getuid()),y===void 0&&(y=St.default.getgid()),!!(this.perm&2||y===this.gid&&this.perm&16||g===this.uid&&this.perm&128)},c.prototype.del=function(){this.emit("delete",this)},c.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},c}(Q.EventEmitter),e.Node=t,t=function(d){function c(g,y,a){var p=d.call(this)||this;return p.children={},p.steps=[],p.ino=0,p.length=0,p.vol=g,p.parent=y,p.steps=y?y.steps.concat([a]):[a],p}return n(c,d),c.prototype.setNode=function(g){this.node=g,this.ino=g.ino},c.prototype.getNode=function(){return this.node},c.prototype.createChild=function(g,y){y===void 0&&(y=this.vol.createNode());var a=new c(this.vol,this,g);return a.setNode(y),y.isDirectory(),this.setChild(g,a),a},c.prototype.setChild=function(g,y){return y===void 0&&(y=new c(this.vol,this,g)),this.children[g]=y,y.parent=this,this.length++,this.emit("child:add",y,this),y},c.prototype.deleteChild=function(g){delete this.children[g.getName()],this.length--,this.emit("child:delete",g,this)},c.prototype.getChild=function(g){if(Object.hasOwnProperty.call(this.children,g))return this.children[g]},c.prototype.getPath=function(){return this.steps.join(e.SEP)},c.prototype.getName=function(){return this.steps[this.steps.length-1]},c.prototype.walk=function(g,y,a){if(y===void 0&&(y=g.length),a===void 0&&(a=0),a>=g.length||a>=y)return this;var p=this.getChild(g[a]);return p?p.walk(g,y,a+1):null},c.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},c}(Q.EventEmitter),e.Link=t,t=function(){function d(c,g,y,a){this.position=0,this.link=c,this.node=g,this.flags=y,this.fd=a}return d.prototype.getString=function(){return this.node.getString()},d.prototype.setString=function(c){this.node.setString(c)},d.prototype.getBuffer=function(){return this.node.getBuffer()},d.prototype.setBuffer=function(c){this.node.setBuffer(c)},d.prototype.getSize=function(){return this.node.getSize()},d.prototype.truncate=function(c){this.node.truncate(c)},d.prototype.seekTo=function(c){this.position=c},d.prototype.stats=function(){return ke.default.build(this.node)},d.prototype.write=function(c,g,y,a){return g===void 0&&(g=0),y===void 0&&(y=c.length),typeof a!="number"&&(a=this.position),this.flags&l&&(a=this.getSize()),c=this.node.write(c,g,y,a),this.position=a+c,c},d.prototype.read=function(c,g,y,a){return g===void 0&&(g=0),y===void 0&&(y=c.byteLength),typeof a!="number"&&(a=this.position),c=this.node.read(c,g,y,a),this.position=a+c,c},d.prototype.chmod=function(c){this.node.chmod(c)},d.prototype.chown=function(c,g){this.node.chown(c,g)},d}(),e.File=t});Et(gn);var Cf=gn.Node,fs=dt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,r,i){var o=setTimeout.apply(null,arguments);return o&&typeof o=="object"&&typeof o.unref=="function"&&o.unref(),o}});Et(fs);function Re(){this.tail=this.head=null,this.length=0}Re.prototype.push=function(t){t={data:t,next:null},0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},Re.prototype.unshift=function(t){t={data:t,next:this.head},this.length===0&&(this.tail=t),this.head=t,++this.length},Re.prototype.shift=function(){if(this.length!==0){var t=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,t}},Re.prototype.clear=function(){this.head=this.tail=null,this.length=0},Re.prototype.join=function(t){if(this.length===0)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},Re.prototype.concat=function(t){if(this.length===0)return L.alloc(0);if(this.length===1)return this.head.data;t=L.allocUnsafe(t>>>0);for(var e=this.head,n=0;e;)e.data.copy(t,n),n+=e.data.length,e=e.next;return t};var Wf=L.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function dn(t){if(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),t&&!Wf(t))throw Error("Unknown encoding: "+t);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Df;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Ff;break;default:this.write=Pf;return}this.charBuffer=new L(6),this.charLength=this.charReceived=0}dn.prototype.write=function(t){for(var e="";this.charLength;){if(e=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length,t.copy(this.charBuffer,this.charReceived,0,e),this.charReceived+=e,this.charReceived<this.charLength)return"";t=t.slice(e,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=e.charCodeAt(e.length-1);if(55296<=n&&56319>=n)this.charLength+=this.surrogateSize,e="";else{if(this.charReceived=this.charLength=0,t.length===0)return e;break}}this.detectIncompleteChar(t);var r=t.length;return this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived),e+=t.toString(this.encoding,0,r),r=e.length-1,n=e.charCodeAt(r),55296<=n&&56319>=n?(n=this.surrogateSize,this.charLength+=n,this.charReceived+=n,this.charBuffer.copy(this.charBuffer,n,0,n),t.copy(this.charBuffer,0,0,n),e.substring(0,r)):e},dn.prototype.detectIncompleteChar=function(t){for(var e=3<=t.length?3:t.length;0<e;e--){var n=t[t.length-e];if(e==1&&n>>5==6){this.charLength=2;break}if(2>=e&&n>>4==14){this.charLength=3;break}if(3>=e&&n>>3==30){this.charLength=4;break}}this.charReceived=e},dn.prototype.end=function(t){var e="";return t&&t.length&&(e=this.write(t)),this.charReceived&&(t=this.encoding,e+=this.charBuffer.slice(0,this.charReceived).toString(t)),e};function Pf(t){return t.toString(this.encoding)}function Df(t){this.charLength=(this.charReceived=t.length%2)?2:0}function Ff(t){this.charLength=(this.charReceived=t.length%3)?3:0}lt.ReadableState=ls;var et=Do("stream");le(lt,Q);function Mf(t,e,n){if(typeof t.prependListener=="function")return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function ls(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof Wt&&(this.objectMode=this.objectMode||!!t.readableObjectMode),e=t.highWaterMark;var n=this.objectMode?16:16384;this.highWaterMark=e||e===0?e:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Re,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.reading=this.endEmitted=this.ended=!1,this.sync=!0,this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.encoding=this.decoder=null,t.encoding&&(this.decoder=new dn(t.encoding),this.encoding=t.encoding)}function lt(t){if(!(this instanceof lt))return new lt(t);this._readableState=new ls(t,this),this.readable=!0,t&&typeof t.read=="function"&&(this._read=t.read),Q.call(this)}lt.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||typeof t!="string"||(e=e||n.defaultEncoding,e!==n.encoding&&(t=L.from(t,e),e="")),hs(this,n,t,e,!1)},lt.prototype.unshift=function(t){return hs(this,this._readableState,t,"",!0)},lt.prototype.isPaused=function(){return this._readableState.flowing===!1};function hs(t,e,n,r,i){var o=n,s=null;if(zt(o)||typeof o=="string"||o===null||o===void 0||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),o=s)t.emit("error",o);else if(n===null)e.reading=!1,e.ended||(e.decoder&&(n=e.decoder.end())&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length),e.ended=!0,Qn(t));else if(e.objectMode||n&&0<n.length)if(e.ended&&!i)t.emit("error",Error("stream.push() after EOF"));else if(e.endEmitted&&i)t.emit("error",Error("stream.unshift() after end event"));else{if(e.decoder&&!i&&!r){n=e.decoder.write(n);var l=!e.objectMode&&n.length===0}i||(e.reading=!1),l||(e.flowing&&e.length===0&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&Qn(t))),e.readingMore||(e.readingMore=!0,Tt(Bf,t,e))}else i||(e.reading=!1);return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}lt.prototype.setEncoding=function(t){return this._readableState.decoder=new dn(t),this._readableState.encoding=t,this};function cs(t,e){if(0>=t||e.length===0&&e.ended)return 0;if(e.objectMode)return 1;if(t!==t)return e.flowing&&e.length?e.buffer.head.data.length:e.length;if(t>e.highWaterMark){var n=t;8388608<=n?n=8388608:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),e.highWaterMark=n}return t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0)}lt.prototype.read=function(t){et("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return et("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?ii(this):Qn(this),null;if(t=cs(t,e),t===0&&e.ended)return e.length===0&&ii(this),null;var r=e.needReadable;return et("need readable",r),(e.length===0||e.length-t<e.highWaterMark)&&(r=!0,et("length less than watermark",r)),e.ended||e.reading?et("reading or ended",!1):r&&(et("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=cs(n,e))),r=0<t?_s(t,e):null,r===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&ii(this)),r!==null&&this.emit("data",r),r};function Qn(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(et("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Tt(as,t):as(t))}function as(t){et("emit readable"),t.emit("readable"),ri(t)}function Bf(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(et("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}lt.prototype._read=function(){this.emit("error",Error("not implemented"))},lt.prototype.pipe=function(t,e){function n(N){et("onunpipe"),N===g&&i()}function r(){et("onend"),t.end()}function i(){et("cleanup"),t.removeListener("close",l),t.removeListener("finish",d),t.removeListener("drain",a),t.removeListener("error",s),t.removeListener("unpipe",n),g.removeListener("end",r),g.removeListener("end",i),g.removeListener("data",o),p=!0,!y.awaitDrain||t._writableState&&!t._writableState.needDrain||a()}function o(N){et("ondata"),I=!1,t.write(N)!==!1||I||((y.pipesCount===1&&y.pipes===t||1<y.pipesCount&&ps(y.pipes,t)!==-1)&&!p&&(et("false write response, pause",g._readableState.awaitDrain),g._readableState.awaitDrain++,I=!0),g.pause())}function s(N){et("onerror",N),c(),t.removeListener("error",s),t.listeners("error").length===0&&t.emit("error",N)}function l(){t.removeListener("finish",d),c()}function d(){et("onfinish"),t.removeListener("close",l),c()}function c(){et("unpipe"),g.unpipe(t)}var g=this,y=this._readableState;switch(y.pipesCount){case 0:y.pipes=t;break;case 1:y.pipes=[y.pipes,t];break;default:y.pipes.push(t)}y.pipesCount+=1,et("pipe count=%d opts=%j",y.pipesCount,e),e=e&&e.end===!1?i:r,y.endEmitted?Tt(e):g.once("end",e),t.on("unpipe",n);var a=Uf(g);t.on("drain",a);var p=!1,I=!1;return g.on("data",o),Mf(t,"error",s),t.once("close",l),t.once("finish",d),t.emit("pipe",g),y.flowing||(et("pipe resume"),g.resume()),t};function Uf(t){return function(){var e=t._readableState;et("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&t.listeners("data").length&&(e.flowing=!0,ri(t))}}lt.prototype.unpipe=function(t){var e=this._readableState;if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){t=e.pipes;var n=e.pipesCount;for(e.pipes=null,e.pipesCount=0,e.flowing=!1,e=0;e<n;e++)t[e].emit("unpipe",this);return this}return n=ps(e.pipes,t),n===-1?this:(e.pipes.splice(n,1),--e.pipesCount,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},lt.prototype.on=function(t,e){return e=Q.prototype.on.call(this,t,e),t==="data"?this._readableState.flowing!==!1&&this.resume():t==="readable"&&(t=this._readableState,t.endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.emittedReadable=!1,t.reading?t.length&&Qn(this):Tt(kf,this))),e},lt.prototype.addListener=lt.prototype.on;function kf(t){et("readable nexttick read 0"),t.read(0)}lt.prototype.resume=function(){var t=this._readableState;return t.flowing||(et("resume"),t.flowing=!0,t.resumeScheduled||(t.resumeScheduled=!0,Tt(Gf,this,t))),this};function Gf(t,e){e.reading||(et("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),ri(t),e.flowing&&!e.reading&&t.read(0)}lt.prototype.pause=function(){return et("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(et("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function ri(t){var e=t._readableState;for(et("flow",e.flowing);e.flowing&&t.read()!==null;);}lt.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(et("wrapped end"),e.decoder&&!e.ended){var o=e.decoder.end();o&&o.length&&r.push(o)}r.push(null)}),t.on("data",function(o){et("wrapped data"),e.decoder&&(o=e.decoder.write(o)),e.objectMode&&o==null||!(e.objectMode||o&&o.length)||r.push(o)||(n=!0,t.pause())});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));return Yf(["error","close","destroy","pause","resume"],function(o){t.on(o,r.emit.bind(r,o))}),r._read=function(o){et("wrapped _read",o),n&&(n=!1,t.resume())},r},lt._fromList=_s;function _s(t,e){if(e.length===0)return null;if(e.objectMode)var n=e.buffer.shift();else if(!t||t>=e.length)n=e.decoder?e.buffer.join(""):e.buffer.length===1?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear();else{if(n=e.buffer,e=e.decoder,t<n.head.data.length)e=n.head.data.slice(0,t),n.head.data=n.head.data.slice(t);else{if(t===n.head.data.length)n=n.shift();else if(e){e=n.head;var r=1,i=e.data;for(t-=i.length;e=e.next;){var o=e.data,s=t>o.length?o.length:t;if(i=s===o.length?i+o:i+o.slice(0,t),t-=s,t===0){s===o.length?(++r,n.head=e.next?e.next:n.tail=null):(n.head=e,e.data=o.slice(s));break}++r}n.length-=r,n=i}else{for(e=L.allocUnsafe(t),r=n.head,i=1,r.data.copy(e),t-=r.data.length;r=r.next;){if(o=r.data,s=t>o.length?o.length:t,o.copy(e,e.length-t,0,s),t-=s,t===0){s===o.length?(++i,n.head=r.next?r.next:n.tail=null):(n.head=r,r.data=o.slice(s));break}++i}n.length-=i,n=e}e=n}n=e}return n}function ii(t){var e=t._readableState;if(0<e.length)throw Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Tt(Hf,e,t))}function Hf(t,e){t.endEmitted||t.length!==0||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Yf(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function ps(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}yt.WritableState=oi,le(yt,Q);function jf(){}function Vf(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function oi(t,e){Object.defineProperty(this,"buffer",{get:Yr(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof Wt&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||n===0?n:r,this.highWaterMark=~~this.highWaterMark,this.finished=this.ended=this.ending=this.needDrain=!1,this.decodeStrings=t.decodeStrings!==!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){var o=e._writableState,s=o.sync,l=o.writecb;o.writing=!1,o.writecb=null,o.length-=o.writelen,o.writelen=0,i?(--o.pendingcb,s?Tt(l,i):l(i),e._writableState.errorEmitted=!0,e.emit("error",i)):((i=ys(o))||o.corked||o.bufferProcessing||!o.bufferedRequest||ds(e,o),s?Tt(gs,e,o,i,l):gs(e,o,i,l))},this.writecb=null,this.writelen=0,this.lastBufferedRequest=this.bufferedRequest=null,this.pendingcb=0,this.errorEmitted=this.prefinished=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ss(this)}oi.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e};function yt(t){if(!(this instanceof yt||this instanceof Wt))return new yt(t);this._writableState=new oi(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev)),Q.call(this)}yt.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},yt.prototype.write=function(t,e,n){var r=this._writableState,i=!1;if(typeof e=="function"&&(n=e,e=null),L.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),typeof n!="function"&&(n=jf),r.ended)r=n,t=Error("write after end"),this.emit("error",t),Tt(r,t);else{var o=n,s=!0,l=!1;t===null?l=new TypeError("May not write null values to stream"):L.isBuffer(t)||typeof t=="string"||t===void 0||r.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),l&&(this.emit("error",l),Tt(o,l),s=!1),s&&(r.pendingcb++,i=e,r.objectMode||r.decodeStrings===!1||typeof t!="string"||(t=L.from(t,i)),L.isBuffer(t)&&(i="buffer"),o=r.objectMode?1:t.length,r.length+=o,e=r.length<r.highWaterMark,e||(r.needDrain=!0),r.writing||r.corked?(o=r.lastBufferedRequest,r.lastBufferedRequest=new Vf(t,i,n),o?o.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1):si(this,r,!1,o,t,i,n),i=e)}return i},yt.prototype.cork=function(){this._writableState.corked++},yt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||ds(this,t))},yt.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function si(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function gs(t,e,n,r){!n&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain")),e.pendingcb--,r(),Es(t,e)}function ds(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=Array(e.bufferedRequestCount),i=e.corkedRequestsFree;i.entry=n;for(var o=0;n;)r[o]=n,n=n.next,o+=1;si(t,e,!0,e.length,r,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new Ss(e)}else{for(;n&&(r=n.chunk,si(t,e,!1,e.objectMode?1:r.length,r,n.encoding,n.callback),n=n.next,!e.writing););n===null&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}yt.prototype._write=function(t,e,n){n(Error("not implemented"))},yt.prototype._writev=null,yt.prototype.end=function(t,e,n){var r=this._writableState;typeof t=="function"?(n=t,e=t=null):typeof e=="function"&&(n=e,e=null),t!=null&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),!r.ending&&!r.finished&&(t=n,r.ending=!0,Es(this,r),t&&(r.finished?Tt(t):this.once("finish",t)),r.ended=!0,this.writable=!1)};function ys(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Es(t,e){var n=ys(e);return n&&(e.pendingcb===0?(e.prefinished||(e.prefinished=!0,t.emit("prefinish")),e.finished=!0,t.emit("finish")):e.prefinished||(e.prefinished=!0,t.emit("prefinish"))),n}function Ss(t){var e=this;this.entry=this.next=null,this.finish=function(n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}le(Wt,lt);for(var ms=Object.keys(yt.prototype),ui=0;ui<ms.length;ui++){var fi=ms[ui];Wt.prototype[fi]||(Wt.prototype[fi]=yt.prototype[fi])}function Wt(t){if(!(this instanceof Wt))return new Wt(t);lt.call(this,t),yt.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Kf)}function Kf(){this.allowHalfOpen||this._writableState.ended||Tt($f,this)}function $f(t){t.end()}le(Ht,Wt);function zf(t){this.afterTransform=function(e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;return i?(r.writechunk=null,r.writecb=null,n!=null&&t.push(n),i(e),e=t._readableState,e.reading=!1,(e.needReadable||e.length<e.highWaterMark)&&t._read(e.highWaterMark),e=void 0):e=t.emit("error",Error("no writecb in Transform class")),e},this.transforming=this.needTransform=!1,this.writeencoding=this.writechunk=this.writecb=null}function Ht(t){if(!(this instanceof Ht))return new Ht(t);Wt.call(this,t),this._transformState=new zf(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(n){Is(e,n)}):Is(e)})}Ht.prototype.push=function(t,e){return this._transformState.needTransform=!1,Wt.prototype.push.call(this,t,e)},Ht.prototype._transform=function(){throw Error("Not implemented")},Ht.prototype._write=function(t,e,n){var r=this._transformState;r.writecb=n,r.writechunk=t,r.writeencoding=e,r.transforming||(t=this._readableState,(r.needTransform||t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark))},Ht.prototype._read=function(){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};function Is(t,e){if(e)return t.emit("error",e);if(e=t._transformState,t._writableState.length)throw Error("Calling transform done when ws.length != 0");if(e.transforming)throw Error("Calling transform done when still transforming");return t.push(null)}le(yn,Ht);function yn(t){if(!(this instanceof yn))return new yn(t);Ht.call(this,t)}yn.prototype._transform=function(t,e,n){n(null,t)},le(vt,Q),vt.Readable=lt,vt.Writable=yt,vt.Duplex=Wt,vt.Transform=Ht,vt.PassThrough=yn,vt.Stream=vt;function vt(){Q.call(this)}vt.prototype.pipe=function(t,e){function n(g){t.writable&&t.write(g)===!1&&d.pause&&d.pause()}function r(){d.readable&&d.resume&&d.resume()}function i(){c||(c=!0,t.end())}function o(){c||(c=!0,typeof t.destroy=="function"&&t.destroy())}function s(g){if(l(),Q.listenerCount(this,"error")===0)throw g}function l(){d.removeListener("data",n),t.removeListener("drain",r),d.removeListener("end",i),d.removeListener("close",o),d.removeListener("error",s),t.removeListener("error",s),d.removeListener("end",l),d.removeListener("close",l),t.removeListener("close",l)}var d=this;d.on("data",n),t.on("drain",r),t._isStdio||e&&e.end===!1||(d.on("end",i),d.on("close",o));var c=!1;return d.on("error",s),t.on("error",s),d.on("end",l),d.on("close",l),t.on("close",l),t.emit("pipe",d),t};var qf=Array.prototype.slice,Xf={extend:function t(e,n){for(var r in n)e[r]=n[r];return 3>arguments.length?e:t.apply(null,[e].concat(qf.call(arguments,2)))}},As=dt(function(t,e){function n(o,s,l){return l===void 0&&(l=function(d){return d}),function(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return new Promise(function(g,y){o[s].bind(o).apply(void 0,r(d,[function(a,p){return a?y(a):g(l(p))}]))})}}var r=at&&at.__spreadArrays||function(){for(var o=0,s=0,l=arguments.length;s<l;s++)o+=arguments[s].length;o=Array(o);var d=0;for(s=0;s<l;s++)for(var c=arguments[s],g=0,y=c.length;g<y;g++,d++)o[d]=c[g];return o};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function o(s,l){this.vol=s,this.fd=l}return o.prototype.appendFile=function(s,l){return n(this.vol,"appendFile")(this.fd,s,l)},o.prototype.chmod=function(s){return n(this.vol,"fchmod")(this.fd,s)},o.prototype.chown=function(s,l){return n(this.vol,"fchown")(this.fd,s,l)},o.prototype.close=function(){return n(this.vol,"close")(this.fd)},o.prototype.datasync=function(){return n(this.vol,"fdatasync")(this.fd)},o.prototype.read=function(s,l,d,c){return n(this.vol,"read",function(g){return{bytesRead:g,buffer:s}})(this.fd,s,l,d,c)},o.prototype.readFile=function(s){return n(this.vol,"readFile")(this.fd,s)},o.prototype.stat=function(s){return n(this.vol,"fstat")(this.fd,s)},o.prototype.sync=function(){return n(this.vol,"fsync")(this.fd)},o.prototype.truncate=function(s){return n(this.vol,"ftruncate")(this.fd,s)},o.prototype.utimes=function(s,l){return n(this.vol,"futimes")(this.fd,s,l)},o.prototype.write=function(s,l,d,c){return n(this.vol,"write",function(g){return{bytesWritten:g,buffer:s}})(this.fd,s,l,d,c)},o.prototype.writeFile=function(s,l){return n(this.vol,"writeFile")(this.fd,s,l)},o}();e.FileHandle=i,e.default=function(o){return typeof Promise>"u"?null:{FileHandle:i,access:function(s,l){return n(o,"access")(s,l)},appendFile:function(s,l,d){return n(o,"appendFile")(s instanceof i?s.fd:s,l,d)},chmod:function(s,l){return n(o,"chmod")(s,l)},chown:function(s,l,d){return n(o,"chown")(s,l,d)},copyFile:function(s,l,d){return n(o,"copyFile")(s,l,d)},lchmod:function(s,l){return n(o,"lchmod")(s,l)},lchown:function(s,l,d){return n(o,"lchown")(s,l,d)},link:function(s,l){return n(o,"link")(s,l)},lstat:function(s,l){return n(o,"lstat")(s,l)},mkdir:function(s,l){return n(o,"mkdir")(s,l)},mkdtemp:function(s,l){return n(o,"mkdtemp")(s,l)},open:function(s,l,d){return n(o,"open",function(c){return new i(o,c)})(s,l,d)},readdir:function(s,l){return n(o,"readdir")(s,l)},readFile:function(s,l){return n(o,"readFile")(s instanceof i?s.fd:s,l)},readlink:function(s,l){return n(o,"readlink")(s,l)},realpath:function(s,l){return n(o,"realpath")(s,l)},rename:function(s,l){return n(o,"rename")(s,l)},rmdir:function(s){return n(o,"rmdir")(s)},stat:function(s,l){return n(o,"stat")(s,l)},symlink:function(s,l,d){return n(o,"symlink")(s,l,d)},truncate:function(s,l){return n(o,"truncate")(s,l)},unlink:function(s){return n(o,"unlink")(s)},utimes:function(s,l,d){return n(o,"utimes")(s,l,d)},writeFile:function(s,l,d){return n(o,"writeFile")(s instanceof i?s.fd:s,l,d)}}}});Et(As);var Jf=/[^\x20-\x7E]/,Zf=/[\x2E\u3002\uFF0E\uFF61]/g,ws={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ze=Math.floor,li=String.fromCharCode;function Qf(t,e){var n=t.split("@"),r="";1<n.length&&(r=n[0]+"@",t=n[1]),t=t.replace(Zf,"."),t=t.split("."),n=t.length;for(var i=[];n--;)i[n]=e(t[n]);return e=i.join("."),r+e}function Ts(t,e){return t+22+75*(26>t)-((e!=0)<<5)}function xf(t){return Qf(t,function(e){if(Jf.test(e)){var n,r=[],i=[],o=0;for(n=e.length;o<n;){var s=e.charCodeAt(o++);if(55296<=s&&56319>=s&&o<n){var l=e.charCodeAt(o++);(l&64512)==56320?i.push(((s&1023)<<10)+(l&1023)+65536):(i.push(s),o--)}else i.push(s)}e=i,l=e.length,i=128;var d=0,c=72;for(s=0;s<l;++s){var g=e[s];128>g&&r.push(li(g))}for((o=n=r.length)&&r.push("-");o<l;){var y=2147483647;for(s=0;s<l;++s)g=e[s],g>=i&&g<y&&(y=g);var a=o+1;if(y-i>ze((2147483647-d)/a))throw new RangeError(ws.overflow);for(d+=(y-i)*a,i=y,s=0;s<l;++s){if(g=e[s],g<i&&2147483647<++d)throw new RangeError(ws.overflow);if(g==i){var p=d;for(y=36;g=y<=c?1:y>=c+26?26:y-c,!(p<g);y+=36){var I=p-g;p=36-g,r.push(li(Ts(g+I%p,0))),p=ze(I/p)}for(r.push(li(Ts(p,0))),c=a,y=0,d=o==n?ze(d/700):d>>1,d+=ze(d/c);455<d;y+=36)d=ze(d/35);c=ze(y+36*d/(d+38)),d=0,++o}}++d,++i}r="xn--"+r.join("")}else r=e;return r})}var vs=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function En(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function bf(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Rs(tl(t),function(i){var o=encodeURIComponent(En(i))+n;return vs(t[i])?Rs(t[i],function(s){return o+encodeURIComponent(En(s))}).join(e):o+encodeURIComponent(En(t[i]))}).join(e):r?encodeURIComponent(En(r))+n+encodeURIComponent(En(t)):""}function Rs(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var tl=Object.keys||function(t){var e=[],n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e};function Os(t,e,n,r){n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var o=/\+/g;for(t=t.split(e||"&"),e=1e3,r&&typeof r.maxKeys=="number"&&(e=r.maxKeys),r=t.length,0<e&&r>e&&(r=e),e=0;e<r;++e){var s=t[e].replace(o,"%20"),l=s.indexOf(n);if(0<=l){var d=s.substr(0,l);s=s.substr(l+1)}else d=s,s="";d=decodeURIComponent(d),s=decodeURIComponent(s),Object.prototype.hasOwnProperty.call(i,d)?vs(i[d])?i[d].push(s):i[d]=[i[d],s]:i[d]=s}return i}var el={parse:xn,resolve:hl,resolveObject:cl,format:ll,Url:Yt};function Yt(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}var nl=/^([a-z0-9.+-]+:)/i,rl=/:[0-9]*$/,il=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ol="{}|\\^`".split("").concat('<>"` \r\n	'.split("")),hi=["'"].concat(ol),Ns=["%","/","?",";","#"].concat(hi),Ls=["/","?","#"],sl=255,Cs=/^[+a-z0-9A-Z_-]{0,63}$/,ul=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,fl={javascript:!0,"javascript:":!0},ci={javascript:!0,"javascript:":!0},qe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function xn(t,e,n){if(t&&he(t)&&t instanceof Yt)return t;var r=new Yt;return r.parse(t,e,n),r}Yt.prototype.parse=function(t,e,n){return Ws(this,t,e,n)};function Ws(t,e,n,r){if(!ve(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?");if(i=i!==-1&&i<e.indexOf("#")?"?":"#",e=e.split(i),e[0]=e[0].replace(/\\/g,"/"),e=e.join(i),i=e.trim(),!r&&e.split("#").length===1&&(e=il.exec(i)))return t.path=i,t.href=i,t.pathname=e[1],e[2]?(t.search=e[2],t.query=n?Os(t.search.substr(1)):t.search.substr(1)):n&&(t.search="",t.query={}),t;if(e=nl.exec(i)){e=e[0];var o=e.toLowerCase();t.protocol=o,i=i.substr(e.length)}if(r||e||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s=i.substr(0,2)==="//";!s||e&&ci[e]||(i=i.substr(2),t.slashes=!0)}if(!ci[e]&&(s||e&&!qe[e])){for(e=-1,r=0;r<Ls.length;r++)s=i.indexOf(Ls[r]),s!==-1&&(e===-1||s<e)&&(e=s);for(s=e===-1?i.lastIndexOf("@"):i.lastIndexOf("@",e),s!==-1&&(r=i.slice(0,s),i=i.slice(s+1),t.auth=decodeURIComponent(r)),e=-1,r=0;r<Ns.length;r++)s=i.indexOf(Ns[r]),s!==-1&&(e===-1||s<e)&&(e=s);if(e===-1&&(e=i.length),t.host=i.slice(0,e),i=i.slice(e),Ps(t),t.hostname=t.hostname||"",s=t.hostname[0]==="["&&t.hostname[t.hostname.length-1]==="]",!s){var l=t.hostname.split(/\./);for(r=0,e=l.length;r<e;r++){var d=l[r];if(d&&!d.match(Cs)){for(var c="",g=0,y=d.length;g<y;g++)c=127<d.charCodeAt(g)?c+"x":c+d[g];if(!c.match(Cs)){e=l.slice(0,r),r=l.slice(r+1),(d=d.match(ul))&&(e.push(d[1]),r.unshift(d[2])),r.length&&(i="/"+r.join(".")+i),t.hostname=e.join(".");break}}}}t.hostname=t.hostname.length>sl?"":t.hostname.toLowerCase(),s||(t.hostname=xf(t.hostname)),r=t.port?":"+t.port:"",t.host=(t.hostname||"")+r,t.href+=t.host,s&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),i[0]!=="/"&&(i="/"+i))}if(!fl[o])for(r=0,e=hi.length;r<e;r++)s=hi[r],i.indexOf(s)!==-1&&(d=encodeURIComponent(s),d===s&&(d=escape(s)),i=i.split(s).join(d));return r=i.indexOf("#"),r!==-1&&(t.hash=i.substr(r),i=i.slice(0,r)),r=i.indexOf("?"),r!==-1?(t.search=i.substr(r),t.query=i.substr(r+1),n&&(t.query=Os(t.query)),i=i.slice(0,r)):n&&(t.search="",t.query={}),i&&(t.pathname=i),qe[o]&&t.hostname&&!t.pathname&&(t.pathname="/"),(t.pathname||t.search)&&(r=t.pathname||"",t.path=r+(t.search||"")),t.href=ai(t),t}function ll(t){return ve(t)&&(t=Ws({},t)),ai(t)}function ai(t){var e=t.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var n=t.protocol||"",r=t.pathname||"",i=t.hash||"",o=!1,s="";return t.host?o=e+t.host:t.hostname&&(o=e+(t.hostname.indexOf(":")===-1?t.hostname:"["+this.hostname+"]"),t.port&&(o+=":"+t.port)),t.query&&he(t.query)&&Object.keys(t.query).length&&(s=bf(t.query)),e=t.search||s&&"?"+s||"",n&&n.substr(-1)!==":"&&(n+=":"),t.slashes||(!n||qe[n])&&o!==!1?(o="//"+(o||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):o||(o=""),i&&i.charAt(0)!=="#"&&(i="#"+i),e&&e.charAt(0)!=="?"&&(e="?"+e),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),e=e.replace("#","%23"),n+o+r+e+i}Yt.prototype.format=function(){return ai(this)};function hl(t,e){return xn(t,!1,!0).resolve(e)}Yt.prototype.resolve=function(t){return this.resolveObject(xn(t,!1,!0)).format()};function cl(t,e){return t?xn(t,!1,!0).resolveObject(e):e}Yt.prototype.resolveObject=function(t){if(ve(t)){var e=new Yt;e.parse(t,!1,!0),t=e}e=new Yt;for(var n=Object.keys(this),r=0;r<n.length;r++){var i=n[r];e[i]=this[i]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(n=Object.keys(t),r=0;r<n.length;r++)i=n[r],i!=="protocol"&&(e[i]=t[i]);return qe[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}var o;if(t.protocol&&t.protocol!==e.protocol){if(!qe[t.protocol]){for(n=Object.keys(t),r=0;r<n.length;r++)i=n[r],e[i]=t[i];return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||ci[t.protocol])e.pathname=t.pathname;else{for(o=(t.pathname||"").split("/");o.length&&!(t.host=o.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),o[0]!==""&&o.unshift(""),2>o.length&&o.unshift(""),e.pathname=o.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}n=e.pathname&&e.pathname.charAt(0)==="/";var s=t.host||t.pathname&&t.pathname.charAt(0)==="/",l=n=s||n||e.host&&t.pathname;if(r=e.pathname&&e.pathname.split("/")||[],i=e.protocol&&!qe[e.protocol],o=t.pathname&&t.pathname.split("/")||[],i&&(e.hostname="",e.port=null,e.host&&(r[0]===""?r[0]=e.host:r.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(o[0]===""?o[0]=t.host:o.unshift(t.host)),t.host=null),n=n&&(o[0]===""||r[0]==="")),s)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,r=o;else if(o.length)r||(r=[]),r.pop(),r=r.concat(o),e.search=t.search,e.query=t.query;else if(t.search!=null)return i&&(e.hostname=e.host=r.shift(),i=e.host&&0<e.host.indexOf("@")?e.host.split("@"):!1)&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),e.search=t.search,e.query=t.query,(e.pathname!==null||e.search!==null)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!r.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;s=r.slice(-1)[0],o=(e.host||t.host||1<r.length)&&(s==="."||s==="..")||s==="";for(var d=0,c=r.length;0<=c;c--)s=r[c],s==="."?r.splice(c,1):s===".."?(r.splice(c,1),d++):d&&(r.splice(c,1),d--);if(!n&&!l)for(;d--;d)r.unshift("..");return!n||r[0]===""||r[0]&&r[0].charAt(0)==="/"||r.unshift(""),o&&r.join("/").substr(-1)!=="/"&&r.push(""),l=r[0]===""||r[0]&&r[0].charAt(0)==="/",i&&(e.hostname=e.host=l?"":r.length?r.shift():"",i=e.host&&0<e.host.indexOf("@")?e.host.split("@"):!1)&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),(n=n||e.host&&r.length)&&!l&&r.unshift(""),r.length?e.pathname=r.join("/"):(e.pathname=null,e.path=null),(e.pathname!==null||e.search!==null)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Yt.prototype.parseHost=function(){return Ps(this)};function Ps(t){var e=t.host,n=rl.exec(e);n&&(n=n[0],n!==":"&&(t.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(t.hostname=e)}var Ds=dt(function(t,e){function n(o,s){return o=o[s],0<s&&(o==="/"||i&&o==="\\")}function r(o){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!0;if(i){var l=o;if(typeof l!="string")throw new TypeError("expected a string");if(l=l.replace(/[\\\/]+/g,"/"),s!==!1)if(s=l,l=s.length-1,2>l)l=s;else{for(;n(s,l);)l--;l=s.substr(0,l+1)}return l.replace(/^([a-zA-Z]+:|\.\/)/,"")}return o}Object.defineProperty(e,"__esModule",{value:!0}),e.unixify=r,e.correctPath=function(o){return r(o.replace(/^\\\\\?\\.:\\/,"\\"))};var i=Ye.platform==="win32"});Et(Ds);var Oe=dt(function(t,e){function n(_,u){return u===void 0&&(u=St.default.cwd()),X(u,_)}function r(_,u){return typeof _=="function"?[i(),_]:[i(_),y(u)]}function i(_){return _===void 0&&(_={}),K({},wh,_)}function o(_){return typeof _=="number"?K({},pu,{mode:_}):K({},pu,_)}function s(_,u,f,h){u===void 0&&(u=""),f===void 0&&(f=""),h===void 0&&(h="");var S="";switch(f&&(S=" '"+f+"'"),h&&(S+=" -> '"+h+"'"),_){case"ENOENT":return"ENOENT: no such file or directory, "+u+S;case"EBADF":return"EBADF: bad file descriptor, "+u+S;case"EINVAL":return"EINVAL: invalid argument, "+u+S;case"EPERM":return"EPERM: operation not permitted, "+u+S;case"EPROTO":return"EPROTO: protocol error, "+u+S;case"EEXIST":return"EEXIST: file already exists, "+u+S;case"ENOTDIR":return"ENOTDIR: not a directory, "+u+S;case"EISDIR":return"EISDIR: illegal operation on a directory, "+u+S;case"EACCES":return"EACCES: permission denied, "+u+S;case"ENOTEMPTY":return"ENOTEMPTY: directory not empty, "+u+S;case"EMFILE":return"EMFILE: too many open files, "+u+S;case"ENOSYS":return"ENOSYS: function not implemented, "+u+S;default:return _+": error occurred, "+u+S}}function l(_,u,f,h,S){return u===void 0&&(u=""),f===void 0&&(f=""),h===void 0&&(h=""),S===void 0&&(S=Error),u=new S(s(_,u,f,h)),u.code=_,u}function d(_){if(typeof _=="number")return _;if(typeof _=="string"){var u=xt[_];if(typeof u<"u")return u}throw new _n.TypeError("ERR_INVALID_OPT_VALUE","flags",_)}function c(_,u){if(u){var f=typeof u;switch(f){case"string":_=K({},_,{encoding:u});break;case"object":_=K({},_,u);break;default:throw TypeError("Expected options to be either an object or a string, but got "+f+" instead")}}else return _;return _.encoding!=="buffer"&&Ct.assertEncoding(_.encoding),_}function g(_){return function(u){return c(_,u)}}function y(_){if(typeof _!="function")throw TypeError(Dt.CB);return _}function a(_){return function(u,f){return typeof u=="function"?[_(),u]:[_(u),y(f)]}}function p(_){if(typeof _!="string"&&!ot.Buffer.isBuffer(_)){try{if(!(_ instanceof el.URL))throw new TypeError(Dt.PATH_STR)}catch{throw new TypeError(Dt.PATH_STR)}if(_.hostname!=="")throw new _n.TypeError("ERR_INVALID_FILE_URL_HOST",St.default.platform);_=_.pathname;for(var u=0;u<_.length;u++)if(_[u]==="%"){var f=_.codePointAt(u+2)|32;if(_[u+1]==="2"&&f===102)throw new _n.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}_=decodeURIComponent(_)}return _=String(_),Y(_),_}function I(_,u){return(_=n(_,u).substr(1))?_.split(mt):[]}function N(_){return I(p(_))}function C(_,u){return u===void 0&&(u=Ct.ENCODING_UTF8),ot.Buffer.isBuffer(_)?_:_ instanceof Uint8Array?ot.bufferFrom(_):ot.bufferFrom(String(_),u)}function G(_,u){return u&&u!=="buffer"?_.toString(u):_}function Y(_,u){if((""+_).indexOf("\0")!==-1){if(_=Error("Path must be a string without null bytes"),_.code="ENOENT",typeof u!="function")throw _;return St.default.nextTick(u,_),!1}return!0}function F(_,u){if(_=typeof _=="number"?_:typeof _=="string"?parseInt(_,8):u?F(u):void 0,typeof _!="number"||isNaN(_))throw new TypeError(Dt.MODE_INT);return _}function j(_){if(_>>>0!==_)throw TypeError(Dt.FD)}function q(_){if(typeof _=="string"&&+_==_)return+_;if(_ instanceof Date)return _.getTime()/1e3;if(isFinite(_))return 0>_?Date.now()/1e3:_;throw Error("Cannot parse time: "+_)}function E(_){if(typeof _!="number")throw TypeError(Dt.UID)}function w(_){if(typeof _!="number")throw TypeError(Dt.GID)}function R(_){_.emit("stop")}function D(_,u,f){if(!(this instanceof D))return new D(_,u,f);if(this._vol=_,f=K({},c(f,{})),f.highWaterMark===void 0&&(f.highWaterMark=65536),vt.Readable.call(this,f),this.path=p(u),this.fd=f.fd===void 0?null:f.fd,this.flags=f.flags===void 0?"r":f.flags,this.mode=f.mode===void 0?438:f.mode,this.start=f.start,this.end=f.end,this.autoClose=f.autoClose===void 0?!0:f.autoClose,this.pos=void 0,this.bytesRead=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw Error('"start" option must be <= "end" option');this.pos=this.start}typeof this.fd!="number"&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}function P(){this.close()}function k(_,u,f){if(!(this instanceof k))return new k(_,u,f);if(this._vol=_,f=K({},c(f,{})),vt.Writable.call(this,f),this.path=p(u),this.fd=f.fd===void 0?null:f.fd,this.flags=f.flags===void 0?"w":f.flags,this.mode=f.mode===void 0?438:f.mode,this.start=f.start,this.autoClose=f.autoClose===void 0?!0:!!f.autoClose,this.pos=void 0,this.bytesWritten=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(0>this.start)throw Error('"start" must be >= zero');this.pos=this.start}f.encoding&&this.setDefaultEncoding(f.encoding),typeof this.fd!="number"&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}var V=at&&at.__extends||function(){function _(u,f){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,S){h.__proto__=S}||function(h,S){for(var O in S)S.hasOwnProperty(O)&&(h[O]=S[O])},_(u,f)}return function(u,f){function h(){this.constructor=u}_(u,f),u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),$=at&&at.__spreadArrays||function(){for(var _=0,u=0,f=arguments.length;u<f;u++)_+=arguments[u].length;_=Array(_);var h=0;for(u=0;u<f;u++)for(var S=arguments[u],O=0,U=S.length;O<U;O++,h++)_[h]=S[O];return _};Object.defineProperty(e,"__esModule",{value:!0});var K=Xf.extend,X=ei.resolve,J=Z.constants.O_RDONLY,x=Z.constants.O_WRONLY,T=Z.constants.O_RDWR,A=Z.constants.O_CREAT,v=Z.constants.O_EXCL,M=Z.constants.O_TRUNC,H=Z.constants.O_APPEND,rt=Z.constants.O_SYNC,st=Z.constants.O_DIRECTORY,gt=Z.constants.F_OK,Zt=Z.constants.COPYFILE_EXCL,Di=Z.constants.COPYFILE_FICLONE_FORCE,mt=ei.sep,tn=ei.relative,Qt=St.default.platform==="win32",Dt={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"},xt;(function(_){_[_.r=J]="r",_[_["r+"]=T]="r+",_[_.rs=J|rt]="rs",_[_.sr=_.rs]="sr",_[_["rs+"]=T|rt]="rs+",_[_["sr+"]=_["rs+"]]="sr+",_[_.w=x|A|M]="w",_[_.wx=x|A|M|v]="wx",_[_.xw=_.wx]="xw",_[_["w+"]=T|A|M]="w+",_[_["wx+"]=T|A|M|v]="wx+",_[_["xw+"]=_["wx+"]]="xw+",_[_.a=x|H|A]="a",_[_.ax=x|H|A|v]="ax",_[_.xa=_.ax]="xa",_[_["a+"]=T|H|A]="a+",_[_["ax+"]=T|H|A|v]="ax+",_[_["xa+"]=_["ax+"]]="xa+"})(xt=e.FLAGS||(e.FLAGS={})),e.flagsToNumber=d,t={encoding:"utf8"};var en=g(t),ur=a(en),fr=g({flag:"r"}),lr={encoding:"utf8",mode:438,flag:xt[xt.w]},hu=g(lr),cu={encoding:"utf8",mode:438,flag:xt[xt.a]},au=g(cu),mh=a(au),_u=g(t),Ih=a(_u),pu={mode:511,recursive:!1},gu={recursive:!1},du=g({encoding:"utf8",withFileTypes:!1}),Ah=a(du),wh={bigint:!1};if(e.pathToFilename=p,Qt){var Th=n,vh=Ds.unixify;n=function(_,u){return vh(Th(_,u))}}e.filenameToSteps=I,e.pathToSteps=N,e.dataToStr=function(_,u){return u===void 0&&(u=Ct.ENCODING_UTF8),ot.Buffer.isBuffer(_)?_.toString(u):_ instanceof Uint8Array?ot.bufferFrom(_).toString(u):String(_)},e.dataToBuffer=C,e.bufferToEncoding=G,e.toUnixTimestamp=q,t=function(){function _(u){u===void 0&&(u={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=As.default(this),this.statWatchers={},this.props=K({Node:gn.Node,Link:gn.Link,File:gn.File},u),u=this.createLink(),u.setNode(this.createNode(!0));var f=this;this.StatWatcher=function(h){function S(){return h.call(this,f)||this}return V(S,h),S}(yu),this.ReadStream=function(h){function S(){for(var O=[],U=0;U<arguments.length;U++)O[U]=arguments[U];return h.apply(this,$([f],O))||this}return V(S,h),S}(D),this.WriteStream=function(h){function S(){for(var O=[],U=0;U<arguments.length;U++)O[U]=arguments[U];return h.apply(this,$([f],O))||this}return V(S,h),S}(k),this.FSWatcher=function(h){function S(){return h.call(this,f)||this}return V(S,h),S}(Eu),this.root=u}return _.fromJSON=function(u,f){var h=new _;return h.fromJSON(u,f),h},Object.defineProperty(_.prototype,"promises",{get:function(){if(this.promisesApi===null)throw Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!0,configurable:!0}),_.prototype.createLink=function(u,f,h,S){if(h===void 0&&(h=!1),!u)return new this.props.Link(this,null,"");if(!f)throw Error("createLink: name cannot be empty");return u.createChild(f,this.createNode(h,S))},_.prototype.deleteLink=function(u){var f=u.parent;return f?(f.deleteChild(u),!0):!1},_.prototype.newInoNumber=function(){var u=this.releasedInos.pop();return u||(this.ino=(this.ino+1)%4294967295)},_.prototype.newFdNumber=function(){var u=this.releasedFds.pop();return typeof u=="number"?u:_.fd--},_.prototype.createNode=function(u,f){return u===void 0&&(u=!1),f=new this.props.Node(this.newInoNumber(),f),u&&f.setIsDirectory(),this.inodes[f.ino]=f},_.prototype.getNode=function(u){return this.inodes[u]},_.prototype.deleteNode=function(u){u.del(),delete this.inodes[u.ino],this.releasedInos.push(u.ino)},_.prototype.genRndStr=function(){var u=(Math.random()+1).toString(36).substr(2,6);return u.length===6?u:this.genRndStr()},_.prototype.getLink=function(u){return this.root.walk(u)},_.prototype.getLinkOrThrow=function(u,f){var h=I(u);if(h=this.getLink(h),!h)throw l("ENOENT",f,u);return h},_.prototype.getResolvedLink=function(u){u=typeof u=="string"?I(u):u;for(var f=this.root,h=0;h<u.length;){if(f=f.getChild(u[h]),!f)return null;var S=f.getNode();S.isSymlink()?(u=S.symlink.concat(u.slice(h+1)),f=this.root,h=0):h++}return f},_.prototype.getResolvedLinkOrThrow=function(u,f){var h=this.getResolvedLink(u);if(!h)throw l("ENOENT",f,u);return h},_.prototype.resolveSymlinks=function(u){return this.getResolvedLink(u.steps.slice(1))},_.prototype.getLinkAsDirOrThrow=function(u,f){var h=this.getLinkOrThrow(u,f);if(!h.getNode().isDirectory())throw l("ENOTDIR",f,u);return h},_.prototype.getLinkParent=function(u){return this.root.walk(u,u.length-1)},_.prototype.getLinkParentAsDirOrThrow=function(u,f){u=u instanceof Array?u:I(u);var h=this.getLinkParent(u);if(!h)throw l("ENOENT",f,mt+u.join(mt));if(!h.getNode().isDirectory())throw l("ENOTDIR",f,mt+u.join(mt));return h},_.prototype.getFileByFd=function(u){return this.fds[String(u)]},_.prototype.getFileByFdOrThrow=function(u,f){if(u>>>0!==u)throw TypeError(Dt.FD);if(u=this.getFileByFd(u),!u)throw l("EBADF",f);return u},_.prototype.getNodeByIdOrCreate=function(u,f,h){if(typeof u=="number"){if(u=this.getFileByFd(u),!u)throw Error("File nto found");return u.node}var S=N(u),O=this.getLink(S);if(O)return O.getNode();if(f&A&&(f=this.getLinkParent(S)))return O=this.createLink(f,S[S.length-1],!1,h),O.getNode();throw l("ENOENT","getNodeByIdOrCreate",p(u))},_.prototype.wrapAsync=function(u,f,h){var S=this;y(h),$e.default(function(){try{h(null,u.apply(S,f))}catch(O){h(O)}})},_.prototype._toJSON=function(u,f,h){var S;u===void 0&&(u=this.root),f===void 0&&(f={});var O=!0,U=u.children;u.getNode().isFile()&&(U=(S={},S[u.getName()]=u.parent.getChild(u.getName()),S),u=u.parent);for(var ct in U){if(O=!1,U=u.getChild(ct),!U)throw Error("_toJSON: unexpected undefined");S=U.getNode(),S.isFile()?(U=U.getPath(),h&&(U=tn(h,U)),f[U]=S.getString()):S.isDirectory()&&this._toJSON(U,f,h)}return u=u.getPath(),h&&(u=tn(h,u)),u&&O&&(f[u]=null),f},_.prototype.toJSON=function(u,f,h){f===void 0&&(f={}),h===void 0&&(h=!1);var S=[];if(u){u instanceof Array||(u=[u]);for(var O=0;O<u.length;O++){var U=p(u[O]);(U=this.getResolvedLink(U))&&S.push(U)}}else S.push(this.root);if(!S.length)return f;for(O=0;O<S.length;O++)U=S[O],this._toJSON(U,f,h?U.getPath():"");return f},_.prototype.fromJSON=function(u,f){f===void 0&&(f=St.default.cwd());for(var h in u){var S=u[h];if(typeof S=="string"){h=n(h,f);var O=I(h);1<O.length&&(O=mt+O.slice(0,O.length-1).join(mt),this.mkdirpBase(O,511)),this.writeFileSync(h,S)}else this.mkdirpBase(h,511)}},_.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},_.prototype.mountSync=function(u,f){this.fromJSON(f,u)},_.prototype.openLink=function(u,f,h){if(h===void 0&&(h=!0),this.openFiles>=this.maxFiles)throw l("EMFILE","open",u.getPath());var S=u;if(h&&(S=this.resolveSymlinks(u)),!S)throw l("ENOENT","open",u.getPath());if(h=S.getNode(),h.isDirectory()){if((f&(J|T|x))!==J)throw l("EISDIR","open",u.getPath())}else if(f&st)throw l("ENOTDIR","open",u.getPath());if(!(f&x||h.canRead()))throw l("EACCES","open",u.getPath());return u=new this.props.File(u,h,f,this.newFdNumber()),this.fds[u.fd]=u,this.openFiles++,f&M&&u.truncate(),u},_.prototype.openFile=function(u,f,h,S){S===void 0&&(S=!0);var O=I(u),U=S?this.getResolvedLink(O):this.getLink(O);if(!U&&f&A){var ct=this.getResolvedLink(O.slice(0,O.length-1));if(!ct)throw l("ENOENT","open",mt+O.join(mt));f&A&&typeof h=="number"&&(U=this.createLink(ct,O[O.length-1],!1,h))}if(U)return this.openLink(U,f,S);throw l("ENOENT","open",u)},_.prototype.openBase=function(u,f,h,S){if(S===void 0&&(S=!0),f=this.openFile(u,f,h,S),!f)throw l("ENOENT","open",u);return f.fd},_.prototype.openSync=function(u,f,h){return h===void 0&&(h=438),h=F(h),u=p(u),f=d(f),this.openBase(u,f,h)},_.prototype.open=function(u,f,h,S){var O=h;typeof h=="function"&&(O=438,S=h),h=F(O||438),u=p(u),f=d(f),this.wrapAsync(this.openBase,[u,f,h],S)},_.prototype.closeFile=function(u){this.fds[u.fd]&&(this.openFiles--,delete this.fds[u.fd],this.releasedFds.push(u.fd))},_.prototype.closeSync=function(u){j(u),u=this.getFileByFdOrThrow(u,"close"),this.closeFile(u)},_.prototype.close=function(u,f){j(u),this.wrapAsync(this.closeSync,[u],f)},_.prototype.openFileOrGetById=function(u,f,h){if(typeof u=="number"){if(u=this.fds[u],!u)throw l("ENOENT");return u}return this.openFile(p(u),f,h)},_.prototype.readBase=function(u,f,h,S,O){return this.getFileByFdOrThrow(u).read(f,Number(h),Number(S),O)},_.prototype.readSync=function(u,f,h,S,O){return j(u),this.readBase(u,f,h,S,O)},_.prototype.read=function(u,f,h,S,O,U){var ct=this;if(y(U),S===0)return St.default.nextTick(function(){U&&U(null,0,f)});$e.default(function(){try{var Ot=ct.readBase(u,f,h,S,O);U(null,Ot,f)}catch(pe){U(pe)}})},_.prototype.readFileBase=function(u,f,h){var S=typeof u=="number"&&u>>>0===u;if(!S){var O=p(u);if(O=I(O),(O=this.getResolvedLink(O))&&O.getNode().isDirectory())throw l("EISDIR","open",O.getPath());u=this.openSync(u,f)}try{var U=G(this.getFileByFdOrThrow(u).getBuffer(),h)}finally{S||this.closeSync(u)}return U},_.prototype.readFileSync=function(u,f){f=fr(f);var h=d(f.flag);return this.readFileBase(u,h,f.encoding)},_.prototype.readFile=function(u,f,h){h=a(fr)(f,h),f=h[0],h=h[1];var S=d(f.flag);this.wrapAsync(this.readFileBase,[u,S,f.encoding],h)},_.prototype.writeBase=function(u,f,h,S,O){return this.getFileByFdOrThrow(u,"write").write(f,h,S,O)},_.prototype.writeSync=function(u,f,h,S,O){j(u);var U=typeof f!="string";if(U){var ct=(h||0)|0,Ot=S;h=O}else var pe=S;return f=C(f,pe),U?typeof Ot>"u"&&(Ot=f.length):(ct=0,Ot=f.length),this.writeBase(u,f,ct,Ot,h)},_.prototype.write=function(u,f,h,S,O,U){var ct=this;j(u);var Ot=typeof f,pe=typeof h,Su=typeof S,mu=typeof O;if(Ot!=="string")if(pe==="function")var Ce=h;else if(Su==="function"){var hr=h|0;Ce=S}else if(mu==="function"){hr=h|0;var wn=S;Ce=O}else{hr=h|0,wn=S;var Fi=O;Ce=U}else if(pe==="function")Ce=h;else if(Su==="function")Fi=h,Ce=S;else if(mu==="function"){Fi=h;var Rh=S;Ce=O}var cr=C(f,Rh);Ot!=="string"?typeof wn>"u"&&(wn=cr.length):(hr=0,wn=cr.length);var Mi=y(Ce);$e.default(function(){try{var Iu=ct.writeBase(u,cr,hr,wn,Fi);Ot!=="string"?Mi(null,Iu,cr):Mi(null,Iu,f)}catch(Oh){Mi(Oh)}})},_.prototype.writeFileBase=function(u,f,h,S){var O=typeof u=="number";u=O?u:this.openBase(p(u),h,S),S=0;var U=f.length;h=h&H?void 0:0;try{for(;0<U;){var ct=this.writeSync(u,f,S,U,h);S+=ct,U-=ct,h!==void 0&&(h+=ct)}}finally{O||this.closeSync(u)}},_.prototype.writeFileSync=function(u,f,h){var S=hu(h);h=d(S.flag);var O=F(S.mode);f=C(f,S.encoding),this.writeFileBase(u,f,h,O)},_.prototype.writeFile=function(u,f,h,S){var O=h;typeof h=="function"&&(O=lr,S=h),h=y(S);var U=hu(O);O=d(U.flag),S=F(U.mode),f=C(f,U.encoding),this.wrapAsync(this.writeFileBase,[u,f,O,S],h)},_.prototype.linkBase=function(u,f){var h=I(u),S=this.getLink(h);if(!S)throw l("ENOENT","link",u,f);var O=I(f);if(h=this.getLinkParent(O),!h)throw l("ENOENT","link",u,f);if(O=O[O.length-1],h.getChild(O))throw l("EEXIST","link",u,f);u=S.getNode(),u.nlink++,h.createChild(O,u)},_.prototype.copyFileBase=function(u,f,h){var S=this.readFileSync(u);if(h&Zt&&this.existsSync(f))throw l("EEXIST","copyFile",u,f);if(h&Di)throw l("ENOSYS","copyFile",u,f);this.writeFileBase(f,S,xt.w,438)},_.prototype.copyFileSync=function(u,f,h){return u=p(u),f=p(f),this.copyFileBase(u,f,(h||0)|0)},_.prototype.copyFile=function(u,f,h,S){if(u=p(u),f=p(f),typeof h=="function")var O=0;else O=h,h=S;y(h),this.wrapAsync(this.copyFileBase,[u,f,O],h)},_.prototype.linkSync=function(u,f){u=p(u),f=p(f),this.linkBase(u,f)},_.prototype.link=function(u,f,h){u=p(u),f=p(f),this.wrapAsync(this.linkBase,[u,f],h)},_.prototype.unlinkBase=function(u){var f=I(u);if(f=this.getLink(f),!f)throw l("ENOENT","unlink",u);if(f.length)throw Error("Dir not empty...");this.deleteLink(f),u=f.getNode(),u.nlink--,0>=u.nlink&&this.deleteNode(u)},_.prototype.unlinkSync=function(u){u=p(u),this.unlinkBase(u)},_.prototype.unlink=function(u,f){u=p(u),this.wrapAsync(this.unlinkBase,[u],f)},_.prototype.symlinkBase=function(u,f){var h=I(f),S=this.getLinkParent(h);if(!S)throw l("ENOENT","symlink",u,f);if(h=h[h.length-1],S.getChild(h))throw l("EEXIST","symlink",u,f);return f=S.createChild(h),f.getNode().makeSymlink(I(u)),f},_.prototype.symlinkSync=function(u,f){u=p(u),f=p(f),this.symlinkBase(u,f)},_.prototype.symlink=function(u,f,h,S){h=y(typeof h=="function"?h:S),u=p(u),f=p(f),this.wrapAsync(this.symlinkBase,[u,f],h)},_.prototype.realpathBase=function(u,f){var h=I(u);if(h=this.getResolvedLink(h),!h)throw l("ENOENT","realpath",u);return Ct.strToEncoding(h.getPath(),f)},_.prototype.realpathSync=function(u,f){return this.realpathBase(p(u),_u(f).encoding)},_.prototype.realpath=function(u,f,h){h=Ih(f,h),f=h[0],h=h[1],u=p(u),this.wrapAsync(this.realpathBase,[u,f.encoding],h)},_.prototype.lstatBase=function(u,f){f===void 0&&(f=!1);var h=this.getLink(I(u));if(!h)throw l("ENOENT","lstat",u);return ke.default.build(h.getNode(),f)},_.prototype.lstatSync=function(u,f){return this.lstatBase(p(u),i(f).bigint)},_.prototype.lstat=function(u,f,h){h=r(f,h),f=h[0],h=h[1],this.wrapAsync(this.lstatBase,[p(u),f.bigint],h)},_.prototype.statBase=function(u,f){f===void 0&&(f=!1);var h=this.getResolvedLink(I(u));if(!h)throw l("ENOENT","stat",u);return ke.default.build(h.getNode(),f)},_.prototype.statSync=function(u,f){return this.statBase(p(u),i(f).bigint)},_.prototype.stat=function(u,f,h){h=r(f,h),f=h[0],h=h[1],this.wrapAsync(this.statBase,[p(u),f.bigint],h)},_.prototype.fstatBase=function(u,f){if(f===void 0&&(f=!1),u=this.getFileByFd(u),!u)throw l("EBADF","fstat");return ke.default.build(u.node,f)},_.prototype.fstatSync=function(u,f){return this.fstatBase(u,i(f).bigint)},_.prototype.fstat=function(u,f,h){f=r(f,h),this.wrapAsync(this.fstatBase,[u,f[0].bigint],f[1])},_.prototype.renameBase=function(u,f){var h=this.getLink(I(u));if(!h)throw l("ENOENT","rename",u,f);var S=I(f),O=this.getLinkParent(S);if(!O)throw l("ENOENT","rename",u,f);(u=h.parent)&&u.deleteChild(h),h.steps=$(O.steps,[S[S.length-1]]),O.setChild(h.getName(),h)},_.prototype.renameSync=function(u,f){u=p(u),f=p(f),this.renameBase(u,f)},_.prototype.rename=function(u,f,h){u=p(u),f=p(f),this.wrapAsync(this.renameBase,[u,f],h)},_.prototype.existsBase=function(u){return!!this.statBase(u)},_.prototype.existsSync=function(u){try{return this.existsBase(p(u))}catch{return!1}},_.prototype.exists=function(u,f){var h=this,S=p(u);if(typeof f!="function")throw Error(Dt.CB);$e.default(function(){try{f(h.existsBase(S))}catch{f(!1)}})},_.prototype.accessBase=function(u){this.getLinkOrThrow(u,"access")},_.prototype.accessSync=function(u,f){f===void 0&&(f=gt),u=p(u),this.accessBase(u,f|0)},_.prototype.access=function(u,f,h){var S=gt;typeof f!="function"&&(S=f|0,f=y(h)),u=p(u),this.wrapAsync(this.accessBase,[u,S],f)},_.prototype.appendFileSync=function(u,f,h){h===void 0&&(h=cu),h=au(h),h.flag&&u>>>0!==u||(h.flag="a"),this.writeFileSync(u,f,h)},_.prototype.appendFile=function(u,f,h,S){S=mh(h,S),h=S[0],S=S[1],h.flag&&u>>>0!==u||(h.flag="a"),this.writeFile(u,f,h,S)},_.prototype.readdirBase=function(u,f){var h=I(u);if(h=this.getResolvedLink(h),!h)throw l("ENOENT","readdir",u);if(!h.getNode().isDirectory())throw l("ENOTDIR","scandir",u);if(f.withFileTypes){var S=[];for(O in h.children)(u=h.getChild(O))&&S.push(Qr.default.build(u,f.encoding));return Qt||f.encoding==="buffer"||S.sort(function(U,ct){return U.name<ct.name?-1:U.name>ct.name?1:0}),S}var O=[];for(S in h.children)O.push(Ct.strToEncoding(S,f.encoding));return Qt||f.encoding==="buffer"||O.sort(),O},_.prototype.readdirSync=function(u,f){return f=du(f),u=p(u),this.readdirBase(u,f)},_.prototype.readdir=function(u,f,h){h=Ah(f,h),f=h[0],h=h[1],u=p(u),this.wrapAsync(this.readdirBase,[u,f],h)},_.prototype.readlinkBase=function(u,f){var h=this.getLinkOrThrow(u,"readlink").getNode();if(!h.isSymlink())throw l("EINVAL","readlink",u);return u=mt+h.symlink.join(mt),Ct.strToEncoding(u,f)},_.prototype.readlinkSync=function(u,f){return f=en(f),u=p(u),this.readlinkBase(u,f.encoding)},_.prototype.readlink=function(u,f,h){h=ur(f,h),f=h[0],h=h[1],u=p(u),this.wrapAsync(this.readlinkBase,[u,f.encoding],h)},_.prototype.fsyncBase=function(u){this.getFileByFdOrThrow(u,"fsync")},_.prototype.fsyncSync=function(u){this.fsyncBase(u)},_.prototype.fsync=function(u,f){this.wrapAsync(this.fsyncBase,[u],f)},_.prototype.fdatasyncBase=function(u){this.getFileByFdOrThrow(u,"fdatasync")},_.prototype.fdatasyncSync=function(u){this.fdatasyncBase(u)},_.prototype.fdatasync=function(u,f){this.wrapAsync(this.fdatasyncBase,[u],f)},_.prototype.ftruncateBase=function(u,f){this.getFileByFdOrThrow(u,"ftruncate").truncate(f)},_.prototype.ftruncateSync=function(u,f){this.ftruncateBase(u,f)},_.prototype.ftruncate=function(u,f,h){var S=typeof f=="number"?f:0;f=y(typeof f=="number"?h:f),this.wrapAsync(this.ftruncateBase,[u,S],f)},_.prototype.truncateBase=function(u,f){u=this.openSync(u,"r+");try{this.ftruncateSync(u,f)}finally{this.closeSync(u)}},_.prototype.truncateSync=function(u,f){if(u>>>0===u)return this.ftruncateSync(u,f);this.truncateBase(u,f)},_.prototype.truncate=function(u,f,h){var S=typeof f=="number"?f:0;if(f=y(typeof f=="number"?h:f),u>>>0===u)return this.ftruncate(u,S,f);this.wrapAsync(this.truncateBase,[u,S],f)},_.prototype.futimesBase=function(u,f,h){u=this.getFileByFdOrThrow(u,"futimes").node,u.atime=new Date(1e3*f),u.mtime=new Date(1e3*h)},_.prototype.futimesSync=function(u,f,h){this.futimesBase(u,q(f),q(h))},_.prototype.futimes=function(u,f,h,S){this.wrapAsync(this.futimesBase,[u,q(f),q(h)],S)},_.prototype.utimesBase=function(u,f,h){u=this.openSync(u,"r+");try{this.futimesBase(u,f,h)}finally{this.closeSync(u)}},_.prototype.utimesSync=function(u,f,h){this.utimesBase(p(u),q(f),q(h))},_.prototype.utimes=function(u,f,h,S){this.wrapAsync(this.utimesBase,[p(u),q(f),q(h)],S)},_.prototype.mkdirBase=function(u,f){var h=I(u);if(!h.length)throw l("EISDIR","mkdir",u);var S=this.getLinkParentAsDirOrThrow(u,"mkdir");if(h=h[h.length-1],S.getChild(h))throw l("EEXIST","mkdir",u);S.createChild(h,this.createNode(!0,f))},_.prototype.mkdirpBase=function(u,f){u=I(u);for(var h=this.root,S=0;S<u.length;S++){var O=u[S];if(!h.getNode().isDirectory())throw l("ENOTDIR","mkdir",h.getPath());var U=h.getChild(O);if(U)if(U.getNode().isDirectory())h=U;else throw l("ENOTDIR","mkdir",U.getPath());else h=h.createChild(O,this.createNode(!0,f))}},_.prototype.mkdirSync=function(u,f){f=o(f);var h=F(f.mode,511);u=p(u),f.recursive?this.mkdirpBase(u,h):this.mkdirBase(u,h)},_.prototype.mkdir=function(u,f,h){var S=o(f);f=y(typeof f=="function"?f:h),h=F(S.mode,511),u=p(u),S.recursive?this.wrapAsync(this.mkdirpBase,[u,h],f):this.wrapAsync(this.mkdirBase,[u,h],f)},_.prototype.mkdirpSync=function(u,f){this.mkdirSync(u,{mode:f,recursive:!0})},_.prototype.mkdirp=function(u,f,h){var S=typeof f=="function"?void 0:f;f=y(typeof f=="function"?f:h),this.mkdir(u,{mode:S,recursive:!0},f)},_.prototype.mkdtempBase=function(u,f,h){h===void 0&&(h=5);var S=u+this.genRndStr();try{return this.mkdirBase(S,511),Ct.strToEncoding(S,f)}catch(O){if(O.code==="EEXIST"){if(1<h)return this.mkdtempBase(u,f,h-1);throw Error("Could not create temp dir.")}throw O}},_.prototype.mkdtempSync=function(u,f){if(f=en(f).encoding,!u||typeof u!="string")throw new TypeError("filename prefix is required");return Y(u),this.mkdtempBase(u,f)},_.prototype.mkdtemp=function(u,f,h){if(h=ur(f,h),f=h[0].encoding,h=h[1],!u||typeof u!="string")throw new TypeError("filename prefix is required");Y(u)&&this.wrapAsync(this.mkdtempBase,[u,f],h)},_.prototype.rmdirBase=function(u,f){f=K({},gu,f);var h=this.getLinkAsDirOrThrow(u,"rmdir");if(h.length&&!f.recursive)throw l("ENOTEMPTY","rmdir",u);this.deleteLink(h)},_.prototype.rmdirSync=function(u,f){this.rmdirBase(p(u),f)},_.prototype.rmdir=function(u,f,h){var S=K({},gu,f);f=y(typeof f=="function"?f:h),this.wrapAsync(this.rmdirBase,[p(u),S],f)},_.prototype.fchmodBase=function(u,f){this.getFileByFdOrThrow(u,"fchmod").chmod(f)},_.prototype.fchmodSync=function(u,f){this.fchmodBase(u,F(f))},_.prototype.fchmod=function(u,f,h){this.wrapAsync(this.fchmodBase,[u,F(f)],h)},_.prototype.chmodBase=function(u,f){u=this.openSync(u,"r+");try{this.fchmodBase(u,f)}finally{this.closeSync(u)}},_.prototype.chmodSync=function(u,f){f=F(f),u=p(u),this.chmodBase(u,f)},_.prototype.chmod=function(u,f,h){f=F(f),u=p(u),this.wrapAsync(this.chmodBase,[u,f],h)},_.prototype.lchmodBase=function(u,f){u=this.openBase(u,T,0,!1);try{this.fchmodBase(u,f)}finally{this.closeSync(u)}},_.prototype.lchmodSync=function(u,f){f=F(f),u=p(u),this.lchmodBase(u,f)},_.prototype.lchmod=function(u,f,h){f=F(f),u=p(u),this.wrapAsync(this.lchmodBase,[u,f],h)},_.prototype.fchownBase=function(u,f,h){this.getFileByFdOrThrow(u,"fchown").chown(f,h)},_.prototype.fchownSync=function(u,f,h){E(f),w(h),this.fchownBase(u,f,h)},_.prototype.fchown=function(u,f,h,S){E(f),w(h),this.wrapAsync(this.fchownBase,[u,f,h],S)},_.prototype.chownBase=function(u,f,h){this.getResolvedLinkOrThrow(u,"chown").getNode().chown(f,h)},_.prototype.chownSync=function(u,f,h){E(f),w(h),this.chownBase(p(u),f,h)},_.prototype.chown=function(u,f,h,S){E(f),w(h),this.wrapAsync(this.chownBase,[p(u),f,h],S)},_.prototype.lchownBase=function(u,f,h){this.getLinkOrThrow(u,"lchown").getNode().chown(f,h)},_.prototype.lchownSync=function(u,f,h){E(f),w(h),this.lchownBase(p(u),f,h)},_.prototype.lchown=function(u,f,h,S){E(f),w(h),this.wrapAsync(this.lchownBase,[p(u),f,h],S)},_.prototype.watchFile=function(u,f,h){u=p(u);var S=f;if(typeof S=="function"&&(h=f,S=null),typeof h!="function")throw Error('"watchFile()" requires a listener function');f=5007;var O=!0;return S&&typeof S=="object"&&(typeof S.interval=="number"&&(f=S.interval),typeof S.persistent=="boolean"&&(O=S.persistent)),S=this.statWatchers[u],S||(S=new this.StatWatcher,S.start(u,O,f),this.statWatchers[u]=S),S.addListener("change",h),S},_.prototype.unwatchFile=function(u,f){u=p(u);var h=this.statWatchers[u];h&&(typeof f=="function"?h.removeListener("change",f):h.removeAllListeners("change"),h.listenerCount("change")===0&&(h.stop(),delete this.statWatchers[u]))},_.prototype.createReadStream=function(u,f){return new this.ReadStream(u,f)},_.prototype.createWriteStream=function(u,f){return new this.WriteStream(u,f)},_.prototype.watch=function(u,f,h){u=p(u);var S=f;typeof f=="function"&&(h=f,S=null);var O=en(S);f=O.persistent,S=O.recursive,O=O.encoding,f===void 0&&(f=!0),S===void 0&&(S=!1);var U=new this.FSWatcher;return U.start(u,f,S,O),h&&U.addListener("change",h),U},_.fd=2147483647,_}(),e.Volume=t;var yu=function(_){function u(f){var h=_.call(this)||this;return h.onInterval=function(){try{var S=h.vol.statSync(h.filename);h.hasChanged(S)&&(h.emit("change",S,h.prev),h.prev=S)}finally{h.loop()}},h.vol=f,h}return V(u,_),u.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},u.prototype.hasChanged=function(f){return f.mtimeMs>this.prev.mtimeMs||f.nlink!==this.prev.nlink},u.prototype.start=function(f,h,S){h===void 0&&(h=!0),S===void 0&&(S=5007),this.filename=p(f),this.setTimeout=h?setTimeout:fs.default,this.interval=S,this.prev=this.vol.statSync(this.filename),this.loop()},u.prototype.stop=function(){clearTimeout(this.timeoutRef),St.default.nextTick(R,this)},u}(Q.EventEmitter);e.StatWatcher=yu;var Pt;an.inherits(D,vt.Readable),e.ReadStream=D,D.prototype.open=function(){var _=this;this._vol.open(this.path,this.flags,this.mode,function(u,f){u?(_.autoClose&&_.destroy&&_.destroy(),_.emit("error",u)):(_.fd=f,_.emit("open",f),_.read())})},D.prototype._read=function(_){if(typeof this.fd!="number")return this.once("open",function(){this._read(_)});if(!this.destroyed){(!Pt||128>Pt.length-Pt.used)&&(Pt=ot.bufferAllocUnsafe(this._readableState.highWaterMark),Pt.used=0);var u=Pt,f=Math.min(Pt.length-Pt.used,_),h=Pt.used;if(this.pos!==void 0&&(f=Math.min(this.end-this.pos+1,f)),0>=f)return this.push(null);var S=this;this._vol.read(this.fd,Pt,Pt.used,f,this.pos,function(O,U){O?(S.autoClose&&S.destroy&&S.destroy(),S.emit("error",O)):(O=null,0<U&&(S.bytesRead+=U,O=u.slice(h,h+U)),S.push(O))}),this.pos!==void 0&&(this.pos+=f),Pt.used+=f}},D.prototype._destroy=function(_,u){this.close(function(f){u(_||f)})},D.prototype.close=function(_){var u=this;if(_&&this.once("close",_),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",P);return}return St.default.nextTick(function(){return u.emit("close")})}this.closed=!0,this._vol.close(this.fd,function(f){f?u.emit("error",f):u.emit("close")}),this.fd=null},an.inherits(k,vt.Writable),e.WriteStream=k,k.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(_,u){_?(this.autoClose&&this.destroy&&this.destroy(),this.emit("error",_)):(this.fd=u,this.emit("open",u))}.bind(this))},k.prototype._write=function(_,u,f){if(!(_ instanceof ot.Buffer))return this.emit("error",Error("Invalid data"));if(typeof this.fd!="number")return this.once("open",function(){this._write(_,u,f)});var h=this;this._vol.write(this.fd,_,0,_.length,this.pos,function(S,O){if(S)return h.autoClose&&h.destroy&&h.destroy(),f(S);h.bytesWritten+=O,f()}),this.pos!==void 0&&(this.pos+=_.length)},k.prototype._writev=function(_,u){if(typeof this.fd!="number")return this.once("open",function(){this._writev(_,u)});for(var f=this,h=_.length,S=Array(h),O=0,U=0;U<h;U++){var ct=_[U].chunk;S[U]=ct,O+=ct.length}h=ot.Buffer.concat(S),this._vol.write(this.fd,h,0,h.length,this.pos,function(Ot,pe){if(Ot)return f.destroy&&f.destroy(),u(Ot);f.bytesWritten+=pe,u()}),this.pos!==void 0&&(this.pos+=O)},k.prototype._destroy=D.prototype._destroy,k.prototype.close=D.prototype.close,k.prototype.destroySoon=k.prototype.end;var Eu=function(_){function u(f){var h=_.call(this)||this;return h._filename="",h._filenameEncoded="",h._recursive=!1,h._encoding=Ct.ENCODING_UTF8,h._onNodeChange=function(){h._emit("change")},h._onParentChild=function(S){S.getName()===h._getName()&&h._emit("rename")},h._emit=function(S){h.emit("change",S,h._filenameEncoded)},h._persist=function(){h._timer=setTimeout(h._persist,1e6)},h._vol=f,h}return V(u,_),u.prototype._getName=function(){return this._steps[this._steps.length-1]},u.prototype.start=function(f,h,S,O){h===void 0&&(h=!0),S===void 0&&(S=!1),O===void 0&&(O=Ct.ENCODING_UTF8),this._filename=p(f),this._steps=I(this._filename),this._filenameEncoded=Ct.strToEncoding(this._filename),this._recursive=S,this._encoding=O;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(U){throw h=Error("watch "+this._filename+" "+U.code),h.code=U.code,h.errno=U.code,h}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange),(f=this._link.parent)&&(f.setMaxListeners(f.getMaxListeners()+1),f.on("child:delete",this._onParentChild)),h&&this._persist()},u.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var f=this._link.parent;f&&f.removeListener("child:delete",this._onParentChild)},u}(Q.EventEmitter);e.FSWatcher=Eu});Et(Oe);var al=Oe.pathToFilename,_l=Oe.filenameToSteps,Fs=Oe.Volume,_i=dt(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fsProps="constants F_OK R_OK W_OK X_OK Stats".split(" "),e.fsSyncMethods="renameSync ftruncateSync truncateSync chownSync fchownSync lchownSync chmodSync fchmodSync lchmodSync statSync lstatSync fstatSync linkSync symlinkSync readlinkSync realpathSync unlinkSync rmdirSync mkdirSync mkdirpSync readdirSync closeSync openSync utimesSync futimesSync fsyncSync writeSync readSync readFileSync writeFileSync appendFileSync existsSync accessSync fdatasyncSync mkdtempSync copyFileSync createReadStream createWriteStream".split(" "),e.fsAsyncMethods="rename ftruncate truncate chown fchown lchown chmod fchmod lchmod stat lstat fstat link symlink readlink realpath unlink rmdir mkdir mkdirp readdir close open utimes futimes fsync write read readFile writeFile appendFile exists access fdatasync mkdtemp copyFile watchFile unwatchFile watch".split(" ")});Et(_i);var Ms=dt(function(t,e){function n(g){for(var y={F_OK:s,R_OK:l,W_OK:d,X_OK:c,constants:Z.constants,Stats:ke.default,Dirent:Qr.default},a=0,p=i;a<p.length;a++){var I=p[a];typeof g[I]=="function"&&(y[I]=g[I].bind(g))}for(a=0,p=o;a<p.length;a++)I=p[a],typeof g[I]=="function"&&(y[I]=g[I].bind(g));return y.StatWatcher=g.StatWatcher,y.FSWatcher=g.FSWatcher,y.WriteStream=g.WriteStream,y.ReadStream=g.ReadStream,y.promises=g.promises,y._toUnixTimestamp=Oe.toUnixTimestamp,y}var r=at&&at.__assign||function(){return r=Object.assign||function(g){for(var y,a=1,p=arguments.length;a<p;a++){y=arguments[a];for(var I in y)Object.prototype.hasOwnProperty.call(y,I)&&(g[I]=y[I])}return g},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=_i.fsSyncMethods,o=_i.fsAsyncMethods,s=Z.constants.F_OK,l=Z.constants.R_OK,d=Z.constants.W_OK,c=Z.constants.X_OK;e.Volume=Oe.Volume,e.vol=new Oe.Volume,e.createFsFromVolume=n,e.fs=n(e.vol),t.exports=r(r({},t.exports),e.fs),t.exports.semantic=!0});Et(Ms);var Bs=Ms.createFsFromVolume;Cf.prototype.emit=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];i=this.listeners(t);try{for(var o=Mr(i),s=o.next();!s.done;s=o.next()){var l=s.value;try{l.apply(void 0,tf(r))}catch(d){console.error(d)}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return 0<i.length};var pl=function(){function t(){this.volume=new Fs,this.fs=Bs(this.volume),this.fromJSON({"/dev/stdin":"","/dev/stdout":"","/dev/stderr":""})}return t.prototype._toJSON=function(e,n,r){n===void 0&&(n={});var i=!0,o;for(o in e.children){i=!1;var s=e.getChild(o);if(s){var l=s.getNode();l&&l.isFile()?(s=s.getPath(),r&&(s=ti(r,s)),n[s]=l.getBuffer()):l&&l.isDirectory()&&this._toJSON(s,n,r)}}return e=e.getPath(),r&&(e=ti(r,e)),e&&i&&(n[e]=null),n},t.prototype.toJSON=function(e,n,r){var i,o;n===void 0&&(n={}),r===void 0&&(r=!1);var s=[];if(e){e instanceof Array||(e=[e]);try{for(var l=Mr(e),d=l.next();!d.done;d=l.next()){var c=al(d.value),g=this.volume.getResolvedLink(c);g&&s.push(g)}}catch(N){var y={error:N}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(y)throw y.error}}}else s.push(this.volume.root);if(!s.length)return n;try{for(var a=Mr(s),p=a.next();!p.done;p=a.next())g=p.value,this._toJSON(g,n,r?g.getPath():"")}catch(N){var I={error:N}}finally{try{p&&!p.done&&(o=a.return)&&o.call(a)}finally{if(I)throw I.error}}return n},t.prototype.fromJSONFixed=function(e,n){for(var r in n){var i=n[r];if(i?Object.getPrototypeOf(i)!==null:i!==null){var o=_l(r);1<o.length&&(o="/"+o.slice(0,o.length-1).join("/"),e.mkdirpBase(o,511)),e.writeFileSync(r,i||"")}else e.mkdirpBase(r,511)}},t.prototype.fromJSON=function(e){this.volume=new Fs,this.fromJSONFixed(this.volume,e),this.fs=Bs(this.volume),this.volume.releasedFds=[0,1,2],e=this.volume.openSync("/dev/stderr","w");var n=this.volume.openSync("/dev/stdout","w"),r=this.volume.openSync("/dev/stdin","r");if(e!==2)throw Error("invalid handle for stderr: "+e);if(n!==1)throw Error("invalid handle for stdout: "+n);if(r!==0)throw Error("invalid handle for stdin: "+r)},t.prototype.getStdOut=function(){return Qu(this,void 0,void 0,function(){var e,n=this;return xu(this,function(){return e=new Promise(function(r){r(n.fs.readFileSync("/dev/stdout","utf8"))}),[2,e]})})},t}(),Us={},bn={},gl={get exports(){return bn},set exports(t){bn=t}},Xe={},Sn={},dl={get exports(){return Sn},set exports(t){Sn=t}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ks;function yl(){return ks||(ks=1,function(t,e){var n=nn,r=n.Buffer;function i(s,l){for(var d in s)l[d]=s[d]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o);function o(s,l,d){return r(s,l,d)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,l,d){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,l,d)},o.alloc=function(s,l,d){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return l!==void 0?typeof d=="string"?c.fill(l,d):c.fill(l):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}}(dl,Sn)),Sn}var pi,Gs;function El(){return Gs||(Gs=1,pi=bt.randomBytes),pi}var Hs;function Sl(){if(Hs)return Xe;Hs=1;function t(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=yl(),n=El(),r=e.Buffer,i=e.kMaxLength,o=te.crypto||te.msCrypto,s=Math.pow(2,32)-1;function l(a,p){if(typeof a!="number"||a!==a)throw new TypeError("offset must be a number");if(a>s||a<0)throw new TypeError("offset must be a uint32");if(a>i||a>p)throw new RangeError("offset out of range")}function d(a,p,I){if(typeof a!="number"||a!==a)throw new TypeError("size must be a number");if(a>s||a<0)throw new TypeError("size must be a uint32");if(a+p>I||a>i)throw new RangeError("buffer too small")}o&&o.getRandomValues||!process.browser?(Xe.randomFill=c,Xe.randomFillSync=y):(Xe.randomFill=t,Xe.randomFillSync=t);function c(a,p,I,N){if(!r.isBuffer(a)&&!(a instanceof te.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof p=="function")N=p,p=0,I=a.length;else if(typeof I=="function")N=I,I=a.length-p;else if(typeof N!="function")throw new TypeError('"cb" argument must be a function');return l(p,a.length),d(I,p,a.length),g(a,p,I,N)}function g(a,p,I,N){if(process.browser){var C=a.buffer,G=new Uint8Array(C,p,I);if(o.getRandomValues(G),N){process.nextTick(function(){N(null,a)});return}return a}if(N){n(I,function(F,j){if(F)return N(F);j.copy(a,p),N(null,a)});return}var Y=n(I);return Y.copy(a,p),a}function y(a,p,I){if(typeof p>"u"&&(p=0),!r.isBuffer(a)&&!(a instanceof te.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return l(p,a.length),I===void 0&&(I=a.length-p),d(I,p,a.length),g(a,p,I)}return Xe}(function(t,e){var n=bt;typeof n.randomFill=="function"&&typeof n.randomFillSync=="function"?(e.randomFill=n.randomFill,e.randomFillSync=n.randomFillSync):t.exports=Sl()})(gl,bn);var gi={};Object.defineProperty(gi,"__esModule",{value:!0});const ml=Math.floor((Date.now()-performance.now())*.001);function Il(t){let e=performance.now()*.001,n=Math.floor(e)+ml,r=Math.floor(e%1*1e9);return t&&(n=n-t[0],r=r-t[1],r<0&&(n--,r+=1e9)),[n,r]}gi.default=Il;function jt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Ys(t,e){for(var n="",r=0,i=-1,o=0,s,l=0;l<=t.length;++l){if(l<t.length)s=t.charCodeAt(l);else{if(s===47)break;s=47}if(s===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var d=n.lastIndexOf("/");if(d!==n.length-1){d===-1?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=l,o=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(i+1,l):n=t.slice(i+1,l),r=l-i-1;i=l,o=0}else s===46&&o!==-1?++o:o=-1}return n}function Al(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var Je={resolve:function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var o;i>=0?o=arguments[i]:(r===void 0&&(r=process.cwd()),o=r),jt(o),o.length!==0&&(e=o+"/"+e,n=o.charCodeAt(0)===47)}return e=Ys(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(jt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=Ys(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return jt(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];jt(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Je.normalize(e)},relative:function(e,n){if(jt(e),jt(n),e===n||(e=Je.resolve(e),n=Je.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,o=i-r,s=1;s<n.length&&n.charCodeAt(s)===47;++s);for(var l=n.length,d=l-s,c=o<d?o:d,g=-1,y=0;y<=c;++y){if(y===c){if(d>c){if(n.charCodeAt(s+y)===47)return n.slice(s+y+1);if(y===0)return n.slice(s+y)}else o>c&&(e.charCodeAt(r+y)===47?g=y:y===0&&(g=0));break}var a=e.charCodeAt(r+y),p=n.charCodeAt(s+y);if(a!==p)break;a===47&&(g=y)}var I="";for(y=r+g+1;y<=i;++y)(y===i||e.charCodeAt(y)===47)&&(I.length===0?I+="..":I+="/..");return I.length>0?I+n.slice(s+g):(s+=g,n.charCodeAt(s)===47&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(jt(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,o=!0,s=e.length-1;s>=1;--s)if(n=e.charCodeAt(s),n===47){if(!o){i=s;break}}else o=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');jt(e);var r=0,i=-1,o=!0,s;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var l=n.length-1,d=-1;for(s=e.length-1;s>=0;--s){var c=e.charCodeAt(s);if(c===47){if(!o){r=s+1;break}}else d===-1&&(o=!1,d=s+1),l>=0&&(c===n.charCodeAt(l)?--l===-1&&(i=s):(l=-1,i=d))}return r===i?i=d:i===-1&&(i=e.length),e.slice(r,i)}else{for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!o){r=s+1;break}}else i===-1&&(o=!1,i=s+1);return i===-1?"":e.slice(r,i)}},extname:function(e){jt(e);for(var n=-1,r=0,i=-1,o=!0,s=0,l=e.length-1;l>=0;--l){var d=e.charCodeAt(l);if(d===47){if(!o){r=l+1;break}continue}i===-1&&(o=!1,i=l+1),d===46?n===-1?n=l:s!==1&&(s=1):n!==-1&&(s=-1)}return n===-1||i===-1||s===0||s===1&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Al("/",e)},parse:function(e){jt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,o;i?(n.root="/",o=1):o=0;for(var s=-1,l=0,d=-1,c=!0,g=e.length-1,y=0;g>=o;--g){if(r=e.charCodeAt(g),r===47){if(!c){l=g+1;break}continue}d===-1&&(c=!1,d=g+1),r===46?s===-1?s=g:y!==1&&(y=1):s!==-1&&(y=-1)}return s===-1||d===-1||y===0||y===1&&s===d-1&&s===l+1?d!==-1&&(l===0&&i?n.base=n.name=e.slice(1,d):n.base=n.name=e.slice(l,d)):(l===0&&i?(n.name=e.slice(1,s),n.base=e.slice(1,d)):(n.name=e.slice(l,s),n.base=e.slice(l,d)),n.ext=e.slice(s,d)),l>0?n.dir=e.slice(0,l-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Je.posix=Je;var wl=Je,Ne={},mn={};Object.defineProperty(mn,"__esModule",{value:!0});const Tl=typeof globalThis<"u"?globalThis:typeof te<"u"?te:{};mn.BigIntPolyfill=typeof BigInt<"u"?BigInt:Tl.BigInt||Number;var di={};Object.defineProperty(di,"__esModule",{value:!0});const vl=mn;let tr=DataView;tr.prototype.setBigUint64||(tr.prototype.setBigUint64=function(t,e,n){let r,i;if(e<2**32)r=Number(e),i=0;else{for(var o=e.toString(2),s="",l=0;l<64-o.length;l++)s+="0";s+=o,i=parseInt(s.substring(0,32),2),r=parseInt(s.substring(32),2)}this.setUint32(t+(n?0:4),r,n),this.setUint32(t+(n?4:0),i,n)},tr.prototype.getBigUint64=function(t,e){let n=this.getUint32(t+(e?0:4),e),r=this.getUint32(t+(e?4:0),e);for(var i=n.toString(2),o=r.toString(2),s="",l=0;l<32-i.length;l++)s+="0";return s+=i,vl.BigIntPolyfill("0b"+o+s)}),di.DataViewPolyfill=tr;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});const Rl=Buffer;yi.default=Rl;var js={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=mn;t.WASI_ESUCCESS=0,t.WASI_E2BIG=1,t.WASI_EACCES=2,t.WASI_EADDRINUSE=3,t.WASI_EADDRNOTAVAIL=4,t.WASI_EAFNOSUPPORT=5,t.WASI_EAGAIN=6,t.WASI_EALREADY=7,t.WASI_EBADF=8,t.WASI_EBADMSG=9,t.WASI_EBUSY=10,t.WASI_ECANCELED=11,t.WASI_ECHILD=12,t.WASI_ECONNABORTED=13,t.WASI_ECONNREFUSED=14,t.WASI_ECONNRESET=15,t.WASI_EDEADLK=16,t.WASI_EDESTADDRREQ=17,t.WASI_EDOM=18,t.WASI_EDQUOT=19,t.WASI_EEXIST=20,t.WASI_EFAULT=21,t.WASI_EFBIG=22,t.WASI_EHOSTUNREACH=23,t.WASI_EIDRM=24,t.WASI_EILSEQ=25,t.WASI_EINPROGRESS=26,t.WASI_EINTR=27,t.WASI_EINVAL=28,t.WASI_EIO=29,t.WASI_EISCONN=30,t.WASI_EISDIR=31,t.WASI_ELOOP=32,t.WASI_EMFILE=33,t.WASI_EMLINK=34,t.WASI_EMSGSIZE=35,t.WASI_EMULTIHOP=36,t.WASI_ENAMETOOLONG=37,t.WASI_ENETDOWN=38,t.WASI_ENETRESET=39,t.WASI_ENETUNREACH=40,t.WASI_ENFILE=41,t.WASI_ENOBUFS=42,t.WASI_ENODEV=43,t.WASI_ENOENT=44,t.WASI_ENOEXEC=45,t.WASI_ENOLCK=46,t.WASI_ENOLINK=47,t.WASI_ENOMEM=48,t.WASI_ENOMSG=49,t.WASI_ENOPROTOOPT=50,t.WASI_ENOSPC=51,t.WASI_ENOSYS=52,t.WASI_ENOTCONN=53,t.WASI_ENOTDIR=54,t.WASI_ENOTEMPTY=55,t.WASI_ENOTRECOVERABLE=56,t.WASI_ENOTSOCK=57,t.WASI_ENOTSUP=58,t.WASI_ENOTTY=59,t.WASI_ENXIO=60,t.WASI_EOVERFLOW=61,t.WASI_EOWNERDEAD=62,t.WASI_EPERM=63,t.WASI_EPIPE=64,t.WASI_EPROTO=65,t.WASI_EPROTONOSUPPORT=66,t.WASI_EPROTOTYPE=67,t.WASI_ERANGE=68,t.WASI_EROFS=69,t.WASI_ESPIPE=70,t.WASI_ESRCH=71,t.WASI_ESTALE=72,t.WASI_ETIMEDOUT=73,t.WASI_ETXTBSY=74,t.WASI_EXDEV=75,t.WASI_ENOTCAPABLE=76,t.WASI_SIGABRT=0,t.WASI_SIGALRM=1,t.WASI_SIGBUS=2,t.WASI_SIGCHLD=3,t.WASI_SIGCONT=4,t.WASI_SIGFPE=5,t.WASI_SIGHUP=6,t.WASI_SIGILL=7,t.WASI_SIGINT=8,t.WASI_SIGKILL=9,t.WASI_SIGPIPE=10,t.WASI_SIGQUIT=11,t.WASI_SIGSEGV=12,t.WASI_SIGSTOP=13,t.WASI_SIGTERM=14,t.WASI_SIGTRAP=15,t.WASI_SIGTSTP=16,t.WASI_SIGTTIN=17,t.WASI_SIGTTOU=18,t.WASI_SIGURG=19,t.WASI_SIGUSR1=20,t.WASI_SIGUSR2=21,t.WASI_SIGVTALRM=22,t.WASI_SIGXCPU=23,t.WASI_SIGXFSZ=24,t.WASI_FILETYPE_UNKNOWN=0,t.WASI_FILETYPE_BLOCK_DEVICE=1,t.WASI_FILETYPE_CHARACTER_DEVICE=2,t.WASI_FILETYPE_DIRECTORY=3,t.WASI_FILETYPE_REGULAR_FILE=4,t.WASI_FILETYPE_SOCKET_DGRAM=5,t.WASI_FILETYPE_SOCKET_STREAM=6,t.WASI_FILETYPE_SYMBOLIC_LINK=7,t.WASI_FDFLAG_APPEND=1,t.WASI_FDFLAG_DSYNC=2,t.WASI_FDFLAG_NONBLOCK=4,t.WASI_FDFLAG_RSYNC=8,t.WASI_FDFLAG_SYNC=16,t.WASI_RIGHT_FD_DATASYNC=e.BigIntPolyfill(1),t.WASI_RIGHT_FD_READ=e.BigIntPolyfill(2),t.WASI_RIGHT_FD_SEEK=e.BigIntPolyfill(4),t.WASI_RIGHT_FD_FDSTAT_SET_FLAGS=e.BigIntPolyfill(8),t.WASI_RIGHT_FD_SYNC=e.BigIntPolyfill(16),t.WASI_RIGHT_FD_TELL=e.BigIntPolyfill(32),t.WASI_RIGHT_FD_WRITE=e.BigIntPolyfill(64),t.WASI_RIGHT_FD_ADVISE=e.BigIntPolyfill(128),t.WASI_RIGHT_FD_ALLOCATE=e.BigIntPolyfill(256),t.WASI_RIGHT_PATH_CREATE_DIRECTORY=e.BigIntPolyfill(512),t.WASI_RIGHT_PATH_CREATE_FILE=e.BigIntPolyfill(1024),t.WASI_RIGHT_PATH_LINK_SOURCE=e.BigIntPolyfill(2048),t.WASI_RIGHT_PATH_LINK_TARGET=e.BigIntPolyfill(4096),t.WASI_RIGHT_PATH_OPEN=e.BigIntPolyfill(8192),t.WASI_RIGHT_FD_READDIR=e.BigIntPolyfill(16384),t.WASI_RIGHT_PATH_READLINK=e.BigIntPolyfill(32768),t.WASI_RIGHT_PATH_RENAME_SOURCE=e.BigIntPolyfill(65536),t.WASI_RIGHT_PATH_RENAME_TARGET=e.BigIntPolyfill(131072),t.WASI_RIGHT_PATH_FILESTAT_GET=e.BigIntPolyfill(262144),t.WASI_RIGHT_PATH_FILESTAT_SET_SIZE=e.BigIntPolyfill(524288),t.WASI_RIGHT_PATH_FILESTAT_SET_TIMES=e.BigIntPolyfill(1048576),t.WASI_RIGHT_FD_FILESTAT_GET=e.BigIntPolyfill(2097152),t.WASI_RIGHT_FD_FILESTAT_SET_SIZE=e.BigIntPolyfill(4194304),t.WASI_RIGHT_FD_FILESTAT_SET_TIMES=e.BigIntPolyfill(8388608),t.WASI_RIGHT_PATH_SYMLINK=e.BigIntPolyfill(16777216),t.WASI_RIGHT_PATH_REMOVE_DIRECTORY=e.BigIntPolyfill(33554432),t.WASI_RIGHT_PATH_UNLINK_FILE=e.BigIntPolyfill(67108864),t.WASI_RIGHT_POLL_FD_READWRITE=e.BigIntPolyfill(134217728),t.WASI_RIGHT_SOCK_SHUTDOWN=e.BigIntPolyfill(268435456),t.RIGHTS_ALL=t.WASI_RIGHT_FD_DATASYNC|t.WASI_RIGHT_FD_READ|t.WASI_RIGHT_FD_SEEK|t.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|t.WASI_RIGHT_FD_SYNC|t.WASI_RIGHT_FD_TELL|t.WASI_RIGHT_FD_WRITE|t.WASI_RIGHT_FD_ADVISE|t.WASI_RIGHT_FD_ALLOCATE|t.WASI_RIGHT_PATH_CREATE_DIRECTORY|t.WASI_RIGHT_PATH_CREATE_FILE|t.WASI_RIGHT_PATH_LINK_SOURCE|t.WASI_RIGHT_PATH_LINK_TARGET|t.WASI_RIGHT_PATH_OPEN|t.WASI_RIGHT_FD_READDIR|t.WASI_RIGHT_PATH_READLINK|t.WASI_RIGHT_PATH_RENAME_SOURCE|t.WASI_RIGHT_PATH_RENAME_TARGET|t.WASI_RIGHT_PATH_FILESTAT_GET|t.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|t.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|t.WASI_RIGHT_FD_FILESTAT_GET|t.WASI_RIGHT_FD_FILESTAT_SET_TIMES|t.WASI_RIGHT_FD_FILESTAT_SET_SIZE|t.WASI_RIGHT_PATH_SYMLINK|t.WASI_RIGHT_PATH_UNLINK_FILE|t.WASI_RIGHT_PATH_REMOVE_DIRECTORY|t.WASI_RIGHT_POLL_FD_READWRITE|t.WASI_RIGHT_SOCK_SHUTDOWN,t.RIGHTS_BLOCK_DEVICE_BASE=t.RIGHTS_ALL,t.RIGHTS_BLOCK_DEVICE_INHERITING=t.RIGHTS_ALL,t.RIGHTS_CHARACTER_DEVICE_BASE=t.RIGHTS_ALL,t.RIGHTS_CHARACTER_DEVICE_INHERITING=t.RIGHTS_ALL,t.RIGHTS_REGULAR_FILE_BASE=t.WASI_RIGHT_FD_DATASYNC|t.WASI_RIGHT_FD_READ|t.WASI_RIGHT_FD_SEEK|t.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|t.WASI_RIGHT_FD_SYNC|t.WASI_RIGHT_FD_TELL|t.WASI_RIGHT_FD_WRITE|t.WASI_RIGHT_FD_ADVISE|t.WASI_RIGHT_FD_ALLOCATE|t.WASI_RIGHT_FD_FILESTAT_GET|t.WASI_RIGHT_FD_FILESTAT_SET_SIZE|t.WASI_RIGHT_FD_FILESTAT_SET_TIMES|t.WASI_RIGHT_POLL_FD_READWRITE,t.RIGHTS_REGULAR_FILE_INHERITING=e.BigIntPolyfill(0),t.RIGHTS_DIRECTORY_BASE=t.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|t.WASI_RIGHT_FD_SYNC|t.WASI_RIGHT_FD_ADVISE|t.WASI_RIGHT_PATH_CREATE_DIRECTORY|t.WASI_RIGHT_PATH_CREATE_FILE|t.WASI_RIGHT_PATH_LINK_SOURCE|t.WASI_RIGHT_PATH_LINK_TARGET|t.WASI_RIGHT_PATH_OPEN|t.WASI_RIGHT_FD_READDIR|t.WASI_RIGHT_PATH_READLINK|t.WASI_RIGHT_PATH_RENAME_SOURCE|t.WASI_RIGHT_PATH_RENAME_TARGET|t.WASI_RIGHT_PATH_FILESTAT_GET|t.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|t.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|t.WASI_RIGHT_FD_FILESTAT_GET|t.WASI_RIGHT_FD_FILESTAT_SET_TIMES|t.WASI_RIGHT_PATH_SYMLINK|t.WASI_RIGHT_PATH_UNLINK_FILE|t.WASI_RIGHT_PATH_REMOVE_DIRECTORY|t.WASI_RIGHT_POLL_FD_READWRITE,t.RIGHTS_DIRECTORY_INHERITING=t.RIGHTS_DIRECTORY_BASE|t.RIGHTS_REGULAR_FILE_BASE,t.RIGHTS_SOCKET_BASE=t.WASI_RIGHT_FD_READ|t.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|t.WASI_RIGHT_FD_WRITE|t.WASI_RIGHT_FD_FILESTAT_GET|t.WASI_RIGHT_POLL_FD_READWRITE|t.WASI_RIGHT_SOCK_SHUTDOWN,t.RIGHTS_SOCKET_INHERITING=t.RIGHTS_ALL,t.RIGHTS_TTY_BASE=t.WASI_RIGHT_FD_READ|t.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|t.WASI_RIGHT_FD_WRITE|t.WASI_RIGHT_FD_FILESTAT_GET|t.WASI_RIGHT_POLL_FD_READWRITE,t.RIGHTS_TTY_INHERITING=e.BigIntPolyfill(0),t.WASI_CLOCK_REALTIME=0,t.WASI_CLOCK_MONOTONIC=1,t.WASI_CLOCK_PROCESS_CPUTIME_ID=2,t.WASI_CLOCK_THREAD_CPUTIME_ID=3,t.WASI_EVENTTYPE_CLOCK=0,t.WASI_EVENTTYPE_FD_READ=1,t.WASI_EVENTTYPE_FD_WRITE=2,t.WASI_FILESTAT_SET_ATIM=1<<0,t.WASI_FILESTAT_SET_ATIM_NOW=1<<1,t.WASI_FILESTAT_SET_MTIM=1<<2,t.WASI_FILESTAT_SET_MTIM_NOW=1<<3,t.WASI_O_CREAT=1<<0,t.WASI_O_DIRECTORY=1<<1,t.WASI_O_EXCL=1<<2,t.WASI_O_TRUNC=1<<3,t.WASI_PREOPENTYPE_DIR=0,t.WASI_DIRCOOKIE_START=0,t.WASI_STDIN_FILENO=0,t.WASI_STDOUT_FILENO=1,t.WASI_STDERR_FILENO=2,t.WASI_WHENCE_SET=0,t.WASI_WHENCE_CUR=1,t.WASI_WHENCE_END=2,t.ERROR_MAP={E2BIG:t.WASI_E2BIG,EACCES:t.WASI_EACCES,EADDRINUSE:t.WASI_EADDRINUSE,EADDRNOTAVAIL:t.WASI_EADDRNOTAVAIL,EAFNOSUPPORT:t.WASI_EAFNOSUPPORT,EALREADY:t.WASI_EALREADY,EAGAIN:t.WASI_EAGAIN,EBADF:t.WASI_EBADF,EBADMSG:t.WASI_EBADMSG,EBUSY:t.WASI_EBUSY,ECANCELED:t.WASI_ECANCELED,ECHILD:t.WASI_ECHILD,ECONNABORTED:t.WASI_ECONNABORTED,ECONNREFUSED:t.WASI_ECONNREFUSED,ECONNRESET:t.WASI_ECONNRESET,EDEADLOCK:t.WASI_EDEADLK,EDESTADDRREQ:t.WASI_EDESTADDRREQ,EDOM:t.WASI_EDOM,EDQUOT:t.WASI_EDQUOT,EEXIST:t.WASI_EEXIST,EFAULT:t.WASI_EFAULT,EFBIG:t.WASI_EFBIG,EHOSTDOWN:t.WASI_EHOSTUNREACH,EHOSTUNREACH:t.WASI_EHOSTUNREACH,EIDRM:t.WASI_EIDRM,EILSEQ:t.WASI_EILSEQ,EINPROGRESS:t.WASI_EINPROGRESS,EINTR:t.WASI_EINTR,EINVAL:t.WASI_EINVAL,EIO:t.WASI_EIO,EISCONN:t.WASI_EISCONN,EISDIR:t.WASI_EISDIR,ELOOP:t.WASI_ELOOP,EMFILE:t.WASI_EMFILE,EMLINK:t.WASI_EMLINK,EMSGSIZE:t.WASI_EMSGSIZE,EMULTIHOP:t.WASI_EMULTIHOP,ENAMETOOLONG:t.WASI_ENAMETOOLONG,ENETDOWN:t.WASI_ENETDOWN,ENETRESET:t.WASI_ENETRESET,ENETUNREACH:t.WASI_ENETUNREACH,ENFILE:t.WASI_ENFILE,ENOBUFS:t.WASI_ENOBUFS,ENODEV:t.WASI_ENODEV,ENOENT:t.WASI_ENOENT,ENOEXEC:t.WASI_ENOEXEC,ENOLCK:t.WASI_ENOLCK,ENOLINK:t.WASI_ENOLINK,ENOMEM:t.WASI_ENOMEM,ENOMSG:t.WASI_ENOMSG,ENOPROTOOPT:t.WASI_ENOPROTOOPT,ENOSPC:t.WASI_ENOSPC,ENOSYS:t.WASI_ENOSYS,ENOTCONN:t.WASI_ENOTCONN,ENOTDIR:t.WASI_ENOTDIR,ENOTEMPTY:t.WASI_ENOTEMPTY,ENOTRECOVERABLE:t.WASI_ENOTRECOVERABLE,ENOTSOCK:t.WASI_ENOTSOCK,ENOTTY:t.WASI_ENOTTY,ENXIO:t.WASI_ENXIO,EOVERFLOW:t.WASI_EOVERFLOW,EOWNERDEAD:t.WASI_EOWNERDEAD,EPERM:t.WASI_EPERM,EPIPE:t.WASI_EPIPE,EPROTO:t.WASI_EPROTO,EPROTONOSUPPORT:t.WASI_EPROTONOSUPPORT,EPROTOTYPE:t.WASI_EPROTOTYPE,ERANGE:t.WASI_ERANGE,EROFS:t.WASI_EROFS,ESPIPE:t.WASI_ESPIPE,ESRCH:t.WASI_ESRCH,ESTALE:t.WASI_ESTALE,ETIMEDOUT:t.WASI_ETIMEDOUT,ETXTBSY:t.WASI_ETXTBSY,EXDEV:t.WASI_EXDEV},t.SIGNAL_MAP={[t.WASI_SIGHUP]:"SIGHUP",[t.WASI_SIGINT]:"SIGINT",[t.WASI_SIGQUIT]:"SIGQUIT",[t.WASI_SIGILL]:"SIGILL",[t.WASI_SIGTRAP]:"SIGTRAP",[t.WASI_SIGABRT]:"SIGABRT",[t.WASI_SIGBUS]:"SIGBUS",[t.WASI_SIGFPE]:"SIGFPE",[t.WASI_SIGKILL]:"SIGKILL",[t.WASI_SIGUSR1]:"SIGUSR1",[t.WASI_SIGSEGV]:"SIGSEGV",[t.WASI_SIGUSR2]:"SIGUSR2",[t.WASI_SIGPIPE]:"SIGPIPE",[t.WASI_SIGALRM]:"SIGALRM",[t.WASI_SIGTERM]:"SIGTERM",[t.WASI_SIGCHLD]:"SIGCHLD",[t.WASI_SIGCONT]:"SIGCONT",[t.WASI_SIGSTOP]:"SIGSTOP",[t.WASI_SIGTSTP]:"SIGTSTP",[t.WASI_SIGTTIN]:"SIGTTIN",[t.WASI_SIGTTOU]:"SIGTTOU",[t.WASI_SIGURG]:"SIGURG",[t.WASI_SIGXCPU]:"SIGXCPU",[t.WASI_SIGXFSZ]:"SIGXFSZ",[t.WASI_SIGVTALRM]:"SIGVTALRM"}})(js),Object.defineProperty(Ne,"__esModule",{value:!0});const z=mn,Ol=di,ht=yi;let Vs;const m=js,Nl=m.WASI_RIGHT_FD_DATASYNC|m.WASI_RIGHT_FD_READ|m.WASI_RIGHT_FD_SYNC|m.WASI_RIGHT_FD_ADVISE|m.WASI_RIGHT_FD_FILESTAT_GET|m.WASI_RIGHT_POLL_FD_READWRITE,Ks=m.WASI_RIGHT_FD_DATASYNC|m.WASI_RIGHT_FD_WRITE|m.WASI_RIGHT_FD_SYNC|m.WASI_RIGHT_FD_ADVISE|m.WASI_RIGHT_FD_FILESTAT_GET|m.WASI_RIGHT_POLL_FD_READWRITE,Ll=Ks,Le=t=>{const e=Math.trunc(t),n=z.BigIntPolyfill(Math.round((t-e)*1e6));return z.BigIntPolyfill(e)*z.BigIntPolyfill(1e6)+n},Ze=t=>{typeof t=="number"&&(t=Math.trunc(t));const e=z.BigIntPolyfill(t);return Number(e/z.BigIntPolyfill(1e6))},tt=t=>(...e)=>{try{return t(...e)}catch(n){if(n&&n.code&&typeof n.code=="string")return m.ERROR_MAP[n.code]||m.WASI_EINVAL;if(n instanceof Qe)return n.errno;throw n}},$s=(t,e)=>{const n=t.FD_MAP.get(e);if(!n)throw new Qe(m.WASI_EBADF);if(n.filetype===void 0){const r=t.bindings.fs.fstatSync(n.real),{filetype:i,rightsBase:o,rightsInheriting:s}=zs(t,e,r);n.filetype=i,n.rights||(n.rights={base:o,inheriting:s})}return n},zs=(t,e,n)=>{switch(!0){case n.isBlockDevice():return{filetype:m.WASI_FILETYPE_BLOCK_DEVICE,rightsBase:m.RIGHTS_BLOCK_DEVICE_BASE,rightsInheriting:m.RIGHTS_BLOCK_DEVICE_INHERITING};case n.isCharacterDevice():{const r=m.WASI_FILETYPE_CHARACTER_DEVICE;return e!==void 0&&t.bindings.isTTY(e)?{filetype:r,rightsBase:m.RIGHTS_TTY_BASE,rightsInheriting:m.RIGHTS_TTY_INHERITING}:{filetype:r,rightsBase:m.RIGHTS_CHARACTER_DEVICE_BASE,rightsInheriting:m.RIGHTS_CHARACTER_DEVICE_INHERITING}}case n.isDirectory():return{filetype:m.WASI_FILETYPE_DIRECTORY,rightsBase:m.RIGHTS_DIRECTORY_BASE,rightsInheriting:m.RIGHTS_DIRECTORY_INHERITING};case n.isFIFO():return{filetype:m.WASI_FILETYPE_SOCKET_STREAM,rightsBase:m.RIGHTS_SOCKET_BASE,rightsInheriting:m.RIGHTS_SOCKET_INHERITING};case n.isFile():return{filetype:m.WASI_FILETYPE_REGULAR_FILE,rightsBase:m.RIGHTS_REGULAR_FILE_BASE,rightsInheriting:m.RIGHTS_REGULAR_FILE_INHERITING};case n.isSocket():return{filetype:m.WASI_FILETYPE_SOCKET_STREAM,rightsBase:m.RIGHTS_SOCKET_BASE,rightsInheriting:m.RIGHTS_SOCKET_INHERITING};case n.isSymbolicLink():return{filetype:m.WASI_FILETYPE_SYMBOLIC_LINK,rightsBase:z.BigIntPolyfill(0),rightsInheriting:z.BigIntPolyfill(0)};default:return{filetype:m.WASI_FILETYPE_UNKNOWN,rightsBase:z.BigIntPolyfill(0),rightsInheriting:z.BigIntPolyfill(0)}}};class Qe extends Error{constructor(e){super(),this.errno=e,Object.setPrototypeOf(this,Qe.prototype)}}Ne.WASIError=Qe;class Ei extends Error{constructor(e){super(`WASI Exit error: ${e}`),this.code=e,Object.setPrototypeOf(this,Ei.prototype)}}Ne.WASIExitError=Ei;class Si extends Error{constructor(e){super(`WASI Kill signal: ${e}`),this.signal=e,Object.setPrototypeOf(this,Si.prototype)}}Ne.WASIKillError=Si;class mi{constructor(e){let n={};e&&e.preopens?n=e.preopens:e&&e.preopenDirectories&&(n=e.preopenDirectories);let r={};e&&e.env&&(r=e.env);let i=[];e&&e.args&&(i=e.args);let o=Vs;e&&e.bindings&&(o=e.bindings),this.memory=void 0,this.view=void 0,this.bindings=o,this.FD_MAP=new Map([[m.WASI_STDIN_FILENO,{real:0,filetype:m.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:Nl,inheriting:z.BigIntPolyfill(0)},path:void 0}],[m.WASI_STDOUT_FILENO,{real:1,filetype:m.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:Ks,inheriting:z.BigIntPolyfill(0)},path:void 0}],[m.WASI_STDERR_FILENO,{real:2,filetype:m.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:Ll,inheriting:z.BigIntPolyfill(0)},path:void 0}]]);let s=this.bindings.fs,l=this.bindings.path;for(const[a,p]of Object.entries(n)){const I=s.openSync(p,s.constants.O_RDONLY),N=[...this.FD_MAP.keys()].reverse()[0]+1;this.FD_MAP.set(N,{real:I,filetype:m.WASI_FILETYPE_DIRECTORY,rights:{base:m.RIGHTS_DIRECTORY_BASE,inheriting:m.RIGHTS_DIRECTORY_INHERITING},fakePath:a,path:p})}const d=(a,p)=>(this.refreshMemory(),Array.from({length:p},(N,C)=>{const G=a+C*8,Y=this.view.getUint32(G,!0),F=this.view.getUint32(G+4,!0);return new Uint8Array(this.memory.buffer,Y,F)})),c=(a,p)=>{const I=$s(this,a);if(p!==z.BigIntPolyfill(0)&&(I.rights.base&p)===z.BigIntPolyfill(0))throw new Qe(m.WASI_EPERM);return I},g=o.hrtime(),y=a=>{switch(a){case m.WASI_CLOCK_MONOTONIC:return o.hrtime();case m.WASI_CLOCK_REALTIME:return Le(Date.now());case m.WASI_CLOCK_PROCESS_CPUTIME_ID:case m.WASI_CLOCK_THREAD_CPUTIME_ID:return o.hrtime()-g;default:return null}};this.wasiImport={args_get:(a,p)=>{this.refreshMemory();let I=a,N=p;return i.forEach(C=>{this.view.setUint32(I,N,!0),I+=4,N+=ht.default.from(this.memory.buffer).write(`${C}\0`,N)}),m.WASI_ESUCCESS},args_sizes_get:(a,p)=>{this.refreshMemory(),this.view.setUint32(a,i.length,!0);const I=i.reduce((N,C)=>N+ht.default.byteLength(C)+1,0);return this.view.setUint32(p,I,!0),m.WASI_ESUCCESS},environ_get:(a,p)=>{this.refreshMemory();let I=a,N=p;return Object.entries(r).forEach(([C,G])=>{this.view.setUint32(I,N,!0),I+=4,N+=ht.default.from(this.memory.buffer).write(`${C}=${G}\0`,N)}),m.WASI_ESUCCESS},environ_sizes_get:(a,p)=>{this.refreshMemory();const I=Object.entries(r).map(([C,G])=>`${C}=${G}\0`),N=I.reduce((C,G)=>C+ht.default.byteLength(G),0);return this.view.setUint32(a,I.length,!0),this.view.setUint32(p,N,!0),m.WASI_ESUCCESS},clock_res_get:(a,p)=>{let I;switch(a){case m.WASI_CLOCK_MONOTONIC:case m.WASI_CLOCK_PROCESS_CPUTIME_ID:case m.WASI_CLOCK_THREAD_CPUTIME_ID:{I=z.BigIntPolyfill(1);break}case m.WASI_CLOCK_REALTIME:{I=z.BigIntPolyfill(1e3);break}}return this.view.setBigUint64(p,I),m.WASI_ESUCCESS},clock_time_get:(a,p,I)=>{this.refreshMemory();const N=y(a);return N===null?m.WASI_EINVAL:(this.view.setBigUint64(I,z.BigIntPolyfill(N),!0),m.WASI_ESUCCESS)},fd_advise:tt((a,p,I,N)=>(c(a,m.WASI_RIGHT_FD_ADVISE),m.WASI_ENOSYS)),fd_allocate:tt((a,p,I)=>(c(a,m.WASI_RIGHT_FD_ALLOCATE),m.WASI_ENOSYS)),fd_close:tt(a=>{const p=c(a,z.BigIntPolyfill(0));return s.closeSync(p.real),this.FD_MAP.delete(a),m.WASI_ESUCCESS}),fd_datasync:tt(a=>{const p=c(a,m.WASI_RIGHT_FD_DATASYNC);return s.fdatasyncSync(p.real),m.WASI_ESUCCESS}),fd_fdstat_get:tt((a,p)=>{const I=c(a,z.BigIntPolyfill(0));return this.refreshMemory(),this.view.setUint8(p,I.filetype),this.view.setUint16(p+2,0,!0),this.view.setUint16(p+4,0,!0),this.view.setBigUint64(p+8,z.BigIntPolyfill(I.rights.base),!0),this.view.setBigUint64(p+8+8,z.BigIntPolyfill(I.rights.inheriting),!0),m.WASI_ESUCCESS}),fd_fdstat_set_flags:tt((a,p)=>(c(a,m.WASI_RIGHT_FD_FDSTAT_SET_FLAGS),m.WASI_ENOSYS)),fd_fdstat_set_rights:tt((a,p,I)=>{const N=c(a,z.BigIntPolyfill(0));return(N.rights.base|p)>N.rights.base||(N.rights.inheriting|I)>N.rights.inheriting?m.WASI_EPERM:(N.rights.base=p,N.rights.inheriting=I,m.WASI_ESUCCESS)}),fd_filestat_get:tt((a,p)=>{const I=c(a,m.WASI_RIGHT_FD_FILESTAT_GET),N=s.fstatSync(I.real);return this.refreshMemory(),this.view.setBigUint64(p,z.BigIntPolyfill(N.dev),!0),p+=8,this.view.setBigUint64(p,z.BigIntPolyfill(N.ino),!0),p+=8,this.view.setUint8(p,I.filetype),p+=8,this.view.setBigUint64(p,z.BigIntPolyfill(N.nlink),!0),p+=8,this.view.setBigUint64(p,z.BigIntPolyfill(N.size),!0),p+=8,this.view.setBigUint64(p,Le(N.atimeMs),!0),p+=8,this.view.setBigUint64(p,Le(N.mtimeMs),!0),p+=8,this.view.setBigUint64(p,Le(N.ctimeMs),!0),m.WASI_ESUCCESS}),fd_filestat_set_size:tt((a,p)=>{const I=c(a,m.WASI_RIGHT_FD_FILESTAT_SET_SIZE);return s.ftruncateSync(I.real,Number(p)),m.WASI_ESUCCESS}),fd_filestat_set_times:tt((a,p,I,N)=>{const C=c(a,m.WASI_RIGHT_FD_FILESTAT_SET_TIMES),G=s.fstatSync(C.real);let Y=G.atime,F=G.mtime;const j=Ze(y(m.WASI_CLOCK_REALTIME)),q=m.WASI_FILESTAT_SET_ATIM|m.WASI_FILESTAT_SET_ATIM_NOW;if((N&q)===q)return m.WASI_EINVAL;const E=m.WASI_FILESTAT_SET_MTIM|m.WASI_FILESTAT_SET_MTIM_NOW;return(N&E)===E?m.WASI_EINVAL:((N&m.WASI_FILESTAT_SET_ATIM)===m.WASI_FILESTAT_SET_ATIM?Y=Ze(p):(N&m.WASI_FILESTAT_SET_ATIM_NOW)===m.WASI_FILESTAT_SET_ATIM_NOW&&(Y=j),(N&m.WASI_FILESTAT_SET_MTIM)===m.WASI_FILESTAT_SET_MTIM?F=Ze(I):(N&m.WASI_FILESTAT_SET_MTIM_NOW)===m.WASI_FILESTAT_SET_MTIM_NOW&&(F=j),s.futimesSync(C.real,new Date(Y),new Date(F)),m.WASI_ESUCCESS)}),fd_prestat_get:tt((a,p)=>{const I=c(a,z.BigIntPolyfill(0));return I.path?(this.refreshMemory(),this.view.setUint8(p,m.WASI_PREOPENTYPE_DIR),this.view.setUint32(p+4,ht.default.byteLength(I.fakePath),!0),m.WASI_ESUCCESS):m.WASI_EINVAL}),fd_prestat_dir_name:tt((a,p,I)=>{const N=c(a,z.BigIntPolyfill(0));return N.path?(this.refreshMemory(),ht.default.from(this.memory.buffer).write(N.fakePath,p,I,"utf8"),m.WASI_ESUCCESS):m.WASI_EINVAL}),fd_pwrite:tt((a,p,I,N,C)=>{const G=c(a,m.WASI_RIGHT_FD_WRITE|m.WASI_RIGHT_FD_SEEK);let Y=0;return d(p,I).forEach(F=>{let j=0;for(;j<F.byteLength;)j+=s.writeSync(G.real,F,j,F.byteLength-j,Number(N)+Y+j);Y+=j}),this.view.setUint32(C,Y,!0),m.WASI_ESUCCESS}),fd_write:tt((a,p,I,N)=>{const C=c(a,m.WASI_RIGHT_FD_WRITE);let G=0;return d(p,I).forEach(Y=>{let F=0;for(;F<Y.byteLength;){const j=s.writeSync(C.real,Y,F,Y.byteLength-F,C.offset?Number(C.offset):null);C.offset&&(C.offset+=z.BigIntPolyfill(j)),F+=j}G+=F}),this.view.setUint32(N,G,!0),m.WASI_ESUCCESS}),fd_pread:tt((a,p,I,N,C)=>{const G=c(a,m.WASI_RIGHT_FD_READ|m.WASI_RIGHT_FD_SEEK);let Y=0;t:for(const F of d(p,I)){let j=0;for(;j<F.byteLength;){const q=F.byteLength-j,E=s.readSync(G.real,F,j,F.byteLength-j,Number(N)+Y+j);if(j+=E,Y+=E,E===0||E<q)break t}Y+=j}return this.view.setUint32(C,Y,!0),m.WASI_ESUCCESS}),fd_read:tt((a,p,I,N)=>{const C=c(a,m.WASI_RIGHT_FD_READ),G=C.real===0;let Y=0;t:for(const F of d(p,I)){let j=0;for(;j<F.byteLength;){let q=F.byteLength-j,E=G||C.offset===void 0?null:Number(C.offset),w=s.readSync(C.real,F,j,q,E);if(G||(C.offset=(C.offset?C.offset:z.BigIntPolyfill(0))+z.BigIntPolyfill(w)),j+=w,Y+=w,w===0||w<q)break t}}return this.view.setUint32(N,Y,!0),m.WASI_ESUCCESS}),fd_readdir:tt((a,p,I,N,C)=>{const G=c(a,m.WASI_RIGHT_FD_READDIR);this.refreshMemory();const Y=s.readdirSync(G.path,{withFileTypes:!0}),F=p;for(let q=Number(N);q<Y.length;q+=1){const E=Y[q];let w=ht.default.byteLength(E.name);if(p-F>I||(this.view.setBigUint64(p,z.BigIntPolyfill(q+1),!0),p+=8,p-F>I))break;const R=s.statSync(l.resolve(G.path,E.name));if(this.view.setBigUint64(p,z.BigIntPolyfill(R.ino),!0),p+=8,p-F>I||(this.view.setUint32(p,w,!0),p+=4,p-F>I))break;let D;switch(!0){case R.isBlockDevice():D=m.WASI_FILETYPE_BLOCK_DEVICE;break;case R.isCharacterDevice():D=m.WASI_FILETYPE_CHARACTER_DEVICE;break;case R.isDirectory():D=m.WASI_FILETYPE_DIRECTORY;break;case R.isFIFO():D=m.WASI_FILETYPE_SOCKET_STREAM;break;case R.isFile():D=m.WASI_FILETYPE_REGULAR_FILE;break;case R.isSocket():D=m.WASI_FILETYPE_SOCKET_STREAM;break;case R.isSymbolicLink():D=m.WASI_FILETYPE_SYMBOLIC_LINK;break;default:D=m.WASI_FILETYPE_UNKNOWN;break}if(this.view.setUint8(p,D),p+=1,p+=3,p+w>=F+I)break;ht.default.from(this.memory.buffer).write(E.name,p),p+=w}const j=p-F;return this.view.setUint32(C,Math.min(j,I),!0),m.WASI_ESUCCESS}),fd_renumber:tt((a,p)=>(c(a,z.BigIntPolyfill(0)),c(p,z.BigIntPolyfill(0)),s.closeSync(this.FD_MAP.get(a).real),this.FD_MAP.set(a,this.FD_MAP.get(p)),this.FD_MAP.delete(p),m.WASI_ESUCCESS)),fd_seek:tt((a,p,I,N)=>{const C=c(a,m.WASI_RIGHT_FD_SEEK);switch(this.refreshMemory(),I){case m.WASI_WHENCE_CUR:C.offset=(C.offset?C.offset:z.BigIntPolyfill(0))+z.BigIntPolyfill(p);break;case m.WASI_WHENCE_END:const{size:G}=s.fstatSync(C.real);C.offset=z.BigIntPolyfill(G)+z.BigIntPolyfill(p);break;case m.WASI_WHENCE_SET:C.offset=z.BigIntPolyfill(p);break}return this.view.setBigUint64(N,C.offset,!0),m.WASI_ESUCCESS}),fd_tell:tt((a,p)=>{const I=c(a,m.WASI_RIGHT_FD_TELL);return this.refreshMemory(),I.offset||(I.offset=z.BigIntPolyfill(0)),this.view.setBigUint64(p,I.offset,!0),m.WASI_ESUCCESS}),fd_sync:tt(a=>{const p=c(a,m.WASI_RIGHT_FD_SYNC);return s.fsyncSync(p.real),m.WASI_ESUCCESS}),path_create_directory:tt((a,p,I)=>{const N=c(a,m.WASI_RIGHT_PATH_CREATE_DIRECTORY);if(!N.path)return m.WASI_EINVAL;this.refreshMemory();const C=ht.default.from(this.memory.buffer,p,I).toString();return s.mkdirSync(l.resolve(N.path,C)),m.WASI_ESUCCESS}),path_filestat_get:tt((a,p,I,N,C)=>{const G=c(a,m.WASI_RIGHT_PATH_FILESTAT_GET);if(!G.path)return m.WASI_EINVAL;this.refreshMemory();const Y=ht.default.from(this.memory.buffer,I,N).toString(),F=s.statSync(l.resolve(G.path,Y));return this.view.setBigUint64(C,z.BigIntPolyfill(F.dev),!0),C+=8,this.view.setBigUint64(C,z.BigIntPolyfill(F.ino),!0),C+=8,this.view.setUint8(C,zs(this,void 0,F).filetype),C+=8,this.view.setBigUint64(C,z.BigIntPolyfill(F.nlink),!0),C+=8,this.view.setBigUint64(C,z.BigIntPolyfill(F.size),!0),C+=8,this.view.setBigUint64(C,Le(F.atimeMs),!0),C+=8,this.view.setBigUint64(C,Le(F.mtimeMs),!0),C+=8,this.view.setBigUint64(C,Le(F.ctimeMs),!0),m.WASI_ESUCCESS}),path_filestat_set_times:tt((a,p,I,N,C,G,Y)=>{const F=c(a,m.WASI_RIGHT_PATH_FILESTAT_SET_TIMES);if(!F.path)return m.WASI_EINVAL;this.refreshMemory();const j=s.fstatSync(F.real);let q=j.atime,E=j.mtime;const w=Ze(y(m.WASI_CLOCK_REALTIME)),R=m.WASI_FILESTAT_SET_ATIM|m.WASI_FILESTAT_SET_ATIM_NOW;if((Y&R)===R)return m.WASI_EINVAL;const D=m.WASI_FILESTAT_SET_MTIM|m.WASI_FILESTAT_SET_MTIM_NOW;if((Y&D)===D)return m.WASI_EINVAL;(Y&m.WASI_FILESTAT_SET_ATIM)===m.WASI_FILESTAT_SET_ATIM?q=Ze(C):(Y&m.WASI_FILESTAT_SET_ATIM_NOW)===m.WASI_FILESTAT_SET_ATIM_NOW&&(q=w),(Y&m.WASI_FILESTAT_SET_MTIM)===m.WASI_FILESTAT_SET_MTIM?E=Ze(G):(Y&m.WASI_FILESTAT_SET_MTIM_NOW)===m.WASI_FILESTAT_SET_MTIM_NOW&&(E=w);const P=ht.default.from(this.memory.buffer,I,N).toString();return s.utimesSync(l.resolve(F.path,P),new Date(q),new Date(E)),m.WASI_ESUCCESS}),path_link:tt((a,p,I,N,C,G,Y)=>{const F=c(a,m.WASI_RIGHT_PATH_LINK_SOURCE),j=c(C,m.WASI_RIGHT_PATH_LINK_TARGET);if(!F.path||!j.path)return m.WASI_EINVAL;this.refreshMemory();const q=ht.default.from(this.memory.buffer,I,N).toString(),E=ht.default.from(this.memory.buffer,G,Y).toString();return s.linkSync(l.resolve(F.path,q),l.resolve(j.path,E)),m.WASI_ESUCCESS}),path_open:tt((a,p,I,N,C,G,Y,F,j)=>{const q=c(a,m.WASI_RIGHT_PATH_OPEN);G=z.BigIntPolyfill(G),Y=z.BigIntPolyfill(Y);const E=(G&(m.WASI_RIGHT_FD_READ|m.WASI_RIGHT_FD_READDIR))!==z.BigIntPolyfill(0),w=(G&(m.WASI_RIGHT_FD_DATASYNC|m.WASI_RIGHT_FD_WRITE|m.WASI_RIGHT_FD_ALLOCATE|m.WASI_RIGHT_FD_FILESTAT_SET_SIZE))!==z.BigIntPolyfill(0);let R;w&&E?R=s.constants.O_RDWR:E?R=s.constants.O_RDONLY:w&&(R=s.constants.O_WRONLY);let D=G|m.WASI_RIGHT_PATH_OPEN,P=G|Y;C&m.WASI_O_CREAT&&(R|=s.constants.O_CREAT,D|=m.WASI_RIGHT_PATH_CREATE_FILE),C&m.WASI_O_DIRECTORY&&(R|=s.constants.O_DIRECTORY),C&m.WASI_O_EXCL&&(R|=s.constants.O_EXCL),C&m.WASI_O_TRUNC&&(R|=s.constants.O_TRUNC,D|=m.WASI_RIGHT_PATH_FILESTAT_SET_SIZE),F&m.WASI_FDFLAG_APPEND&&(R|=s.constants.O_APPEND),F&m.WASI_FDFLAG_DSYNC&&(s.constants.O_DSYNC?R|=s.constants.O_DSYNC:R|=s.constants.O_SYNC,P|=m.WASI_RIGHT_FD_DATASYNC),F&m.WASI_FDFLAG_NONBLOCK&&(R|=s.constants.O_NONBLOCK),F&m.WASI_FDFLAG_RSYNC&&(s.constants.O_RSYNC?R|=s.constants.O_RSYNC:R|=s.constants.O_SYNC,P|=m.WASI_RIGHT_FD_SYNC),F&m.WASI_FDFLAG_SYNC&&(R|=s.constants.O_SYNC,P|=m.WASI_RIGHT_FD_SYNC),w&&!(R&(s.constants.O_APPEND|s.constants.O_TRUNC))&&(P|=m.WASI_RIGHT_FD_SEEK),this.refreshMemory();const k=ht.default.from(this.memory.buffer,I,N).toString(),V=l.resolve(q.path,k);if(l.relative(q.path,V).startsWith(".."))return m.WASI_ENOTCAPABLE;let $;try{if($=s.realpathSync(V),l.relative(q.path,$).startsWith(".."))return m.WASI_ENOTCAPABLE}catch(x){if(x.code==="ENOENT")$=V;else throw x}let K;try{K=s.statSync($).isDirectory()}catch{}let X;!w&&K?X=s.openSync($,s.constants.O_RDONLY):X=s.openSync($,R);const J=[...this.FD_MAP.keys()].reverse()[0]+1;return this.FD_MAP.set(J,{real:X,filetype:void 0,rights:{base:D,inheriting:P},path:$}),$s(this,J),this.view.setUint32(j,J,!0),m.WASI_ESUCCESS}),path_readlink:tt((a,p,I,N,C,G)=>{const Y=c(a,m.WASI_RIGHT_PATH_READLINK);if(!Y.path)return m.WASI_EINVAL;this.refreshMemory();const F=ht.default.from(this.memory.buffer,p,I).toString(),j=l.resolve(Y.path,F),q=s.readlinkSync(j),E=ht.default.from(this.memory.buffer).write(q,N,C);return this.view.setUint32(G,E,!0),m.WASI_ESUCCESS}),path_remove_directory:tt((a,p,I)=>{const N=c(a,m.WASI_RIGHT_PATH_REMOVE_DIRECTORY);if(!N.path)return m.WASI_EINVAL;this.refreshMemory();const C=ht.default.from(this.memory.buffer,p,I).toString();return s.rmdirSync(l.resolve(N.path,C)),m.WASI_ESUCCESS}),path_rename:tt((a,p,I,N,C,G)=>{const Y=c(a,m.WASI_RIGHT_PATH_RENAME_SOURCE),F=c(N,m.WASI_RIGHT_PATH_RENAME_TARGET);if(!Y.path||!F.path)return m.WASI_EINVAL;this.refreshMemory();const j=ht.default.from(this.memory.buffer,p,I).toString(),q=ht.default.from(this.memory.buffer,C,G).toString();return s.renameSync(l.resolve(Y.path,j),l.resolve(F.path,q)),m.WASI_ESUCCESS}),path_symlink:tt((a,p,I,N,C)=>{const G=c(I,m.WASI_RIGHT_PATH_SYMLINK);if(!G.path)return m.WASI_EINVAL;this.refreshMemory();const Y=ht.default.from(this.memory.buffer,a,p).toString(),F=ht.default.from(this.memory.buffer,N,C).toString();return s.symlinkSync(Y,l.resolve(G.path,F)),m.WASI_ESUCCESS}),path_unlink_file:tt((a,p,I)=>{const N=c(a,m.WASI_RIGHT_PATH_UNLINK_FILE);if(!N.path)return m.WASI_EINVAL;this.refreshMemory();const C=ht.default.from(this.memory.buffer,p,I).toString();return s.unlinkSync(l.resolve(N.path,C)),m.WASI_ESUCCESS}),poll_oneoff:(a,p,I,N)=>{let C=0,G=0;this.refreshMemory();for(let Y=0;Y<I;Y+=1){const F=this.view.getBigUint64(a,!0);a+=8;const j=this.view.getUint8(a);switch(a+=1,j){case m.WASI_EVENTTYPE_CLOCK:{a+=7,this.view.getBigUint64(a,!0),a+=8;const q=this.view.getUint32(a,!0);a+=4,a+=4;const E=this.view.getBigUint64(a,!0);a+=8,this.view.getBigUint64(a,!0),a+=8;const w=this.view.getUint16(a,!0);a+=2,a+=6;const R=w===1;let D=m.WASI_ESUCCESS;const P=z.BigIntPolyfill(y(q));if(P===null)D=m.WASI_EINVAL;else{const k=R?E:P+E;G=k>G?k:G}this.view.setBigUint64(p,F,!0),p+=8,this.view.setUint16(p,D,!0),p+=2,this.view.setUint8(p,m.WASI_EVENTTYPE_CLOCK),p+=1,p+=5,C+=1;break}case m.WASI_EVENTTYPE_FD_READ:case m.WASI_EVENTTYPE_FD_WRITE:{a+=3,this.view.getUint32(a,!0),a+=4,this.view.setBigUint64(p,F,!0),p+=8,this.view.setUint16(p,m.WASI_ENOSYS,!0),p+=2,this.view.setUint8(p,j),p+=1,p+=5,C+=1;break}default:return m.WASI_EINVAL}}for(this.view.setUint32(N,C,!0);o.hrtime()<G;);return m.WASI_ESUCCESS},proc_exit:a=>(o.exit(a),m.WASI_ESUCCESS),proc_raise:a=>a in m.SIGNAL_MAP?(o.kill(m.SIGNAL_MAP[a]),m.WASI_ESUCCESS):m.WASI_EINVAL,random_get:(a,p)=>(this.refreshMemory(),o.randomFillSync(new Uint8Array(this.memory.buffer),a,p),m.WASI_ESUCCESS),sched_yield(){return m.WASI_ESUCCESS},sock_recv(){return m.WASI_ENOSYS},sock_send(){return m.WASI_ENOSYS},sock_shutdown(){return m.WASI_ENOSYS}},e.traceSyscalls&&Object.keys(this.wasiImport).forEach(a=>{const p=this.wasiImport[a];this.wasiImport[a]=function(...I){console.log(`WASI: wasiImport called: ${a} (${I})`);try{let N=p(...I);return console.log(`WASI:  => ${N}`),N}catch(N){throw console.log(`Catched error: ${N}`),N}}})}refreshMemory(){(!this.view||this.view.buffer.byteLength===0)&&(this.view=new Ol.DataViewPolyfill(this.memory.buffer))}setMemory(e){this.memory=e}start(e){const n=e.exports;if(n===null||typeof n!="object")throw new Error(`instance.exports must be an Object. Received ${n}.`);const{memory:r}=n;if(!(r instanceof WebAssembly.Memory))throw new Error(`instance.exports.memory must be a WebAssembly.Memory. Recceived ${r}.`);this.setMemory(r),n._start&&n._start()}getImportNamespace(e){let n=null;for(let r of WebAssembly.Module.imports(e))if(r.kind==="function"&&r.module.startsWith("wasi_")){if(!n)n=r.module;else if(n!==r.module)throw new Error("Multiple namespaces detected.")}return n}getImports(e){switch(this.getImportNamespace(e)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw new Error("Can't detect a WASI namespace for the WebAssembly Module")}}}Ne.default=mi,mi.defaultBindings=Vs,Ne.WASI=mi;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});const Cl=1e9,Wl=t=>e=>{const n=t(e);return n[0]*Cl+n[1]};Ii.default=Wl,Object.defineProperty(Us,"__esModule",{value:!0});const Pl=bn,Dl=gi,Fl=wl,qs=Ne,Ml={hrtime:Ii.default(Dl.default),exit:t=>{throw new qs.WASIExitError(t)},kill:t=>{throw new qs.WASIKillError(t)},randomFillSync:Pl.randomFillSync,isTTY:()=>!0,path:Fl,fs:null};var Bl=Us.default=Ml;const Ul=(t=>{if(typeof t!="object"||t===null)return t;const e=Symbol.toStringTag in t&&t[Symbol.toStringTag]==="Module"?t.default??t:t;return"__esModule"in e&&e.__esModule&&e.default!==void 0?e.default:e})(Bl);function kl(t){return new Zu({args:[],env:Object.fromEntries(t),bindings:{...Ul,fs:new pl().fs}})}function Gl(t,e){return Yl(t)?e.getImports(t):{}}function Hl(t,e){t.setMemory(e.exports.memory)}function Yl(t){return WebAssembly.Module.imports(t).find(r=>r.module==="wasi_snapshot_preview1"||r.module==="wasi_unstable")!==void 0}async function Xs(t){let e;const n=new Array(128).fill(void 0);n.push(void 0,null,!0,!1);let r=n.length;function i(T){r===n.length&&n.push(n.length+1);const A=r;if(r=n[A],typeof r!="number")throw new Error("corrupt heap");return n[A]=T,A}function o(T){return n[T]}function s(T){T<132||(n[T]=r,r=T)}function l(T){const A=o(T);return s(T),A}function d(T){const A=typeof T;if(A=="number"||A=="boolean"||T==null)return`${T}`;if(A=="string")return`"${T}"`;if(A=="symbol"){const H=T.description;return H==null?"Symbol":`Symbol(${H})`}if(A=="function"){const H=T.name;return typeof H=="string"&&H.length>0?`Function(${H})`:"Function"}if(Array.isArray(T)){const H=T.length;let rt="[";H>0&&(rt+=d(T[0]));for(let st=1;st<H;st++)rt+=", "+d(T[st]);return rt+="]",rt}const v=/\[object ([^\]]+)\]/.exec(toString.call(T));let M;if(v.length>1)M=v[1];else return toString.call(T);if(M=="Object")try{return"Object("+JSON.stringify(T)+")"}catch{return"Object"}return T instanceof Error?`${T.name}: ${T.message}
${T.stack}`:M}const c=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});c.decode();let g=null;function y(){return(g===null||g.byteLength===0)&&(g=new Float64Array(e.memory.buffer)),g}let a=null;function p(){return(a===null||a.byteLength===0)&&(a=new BigInt64Array(e.memory.buffer)),a}let I=new Uint8Array;function N(){return I.byteLength===0&&(I=new Uint8Array(e.memory.buffer)),I}function C(T,A){return T=T>>>0,c.decode(N().subarray(T,T+A))}let G=0;const Y=new TextEncoder("utf-8"),F=typeof Y.encodeInto=="function"?function(T,A){return Y.encodeInto(T,A)}:function(T,A){const v=Y.encode(T);return A.set(v),{read:T.length,written:v.length}};function j(T,A,v){if(v===void 0){const gt=Y.encode(T),Zt=A(gt.length,1)>>>0;return N().subarray(Zt,Zt+gt.length).set(gt),G=gt.length,Zt}let M=T.length,H=A(M,1)>>>0;const rt=N();let st=0;for(;st<M;st++){const gt=T.charCodeAt(st);if(gt>127)break;rt[H+st]=gt}if(st!==M){st!==0&&(T=T.slice(st)),H=v(H,M,M=st+T.length*3,1)>>>0;const gt=N().subarray(H+st,H+M),Zt=F(T,gt);st+=Zt.written}return G=st,H}let q=new Int32Array;function E(T,A,v,M){const H={a:T,b:A,cnt:1,dtor:v},rt=(...st)=>{H.cnt++;const gt=H.a;H.a=0;try{return M(gt,H.b,...st)}finally{--H.cnt===0?e.__wbindgen_export_2.get(H.dtor)(gt,H.b):H.a=gt}};return rt.original=H,rt}let w=128;function R(T){if(w==1)throw new Error("out of js stack");return n[--w]=T,w}function D(T,A,v){try{const M=e._dyn_core__ops__function__FnMut___A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h456d3b24afa0f1f3(T,A,R(v));return l(M)}finally{n[w++]=void 0}}function P(){return q.byteLength===0&&(q=new Int32Array(e.memory.buffer)),q}function k(T,A){try{return T.apply(this,A)}catch(v){e.__wbindgen_exn_store(i(v))}}function V(T){return T==null}function $(T,A,v){try{const rt=e.__wbindgen_add_to_stack_pointer(-16);e.register_module(rt,i(T),i(A),i(v));var M=P()[rt/4+0],H=P()[rt/4+1];if(H)throw l(M)}finally{e.__wbindgen_add_to_stack_pointer(16)}}function K(T,A,v,M){let H,rt;try{const Qt=e.__wbindgen_add_to_stack_pointer(-16),Dt=j(T,e.__wbindgen_malloc,e.__wbindgen_realloc),xt=G,en=j(A,e.__wbindgen_malloc,e.__wbindgen_realloc),ur=G,fr=j(v,e.__wbindgen_malloc,e.__wbindgen_realloc),lr=G;e.call_module(Qt,Dt,xt,en,ur,fr,lr,i(M));var st=P()[Qt/4+0],gt=P()[Qt/4+1],Zt=P()[Qt/4+2],Di=P()[Qt/4+3],mt=st,tn=gt;if(Di)throw mt=0,tn=0,l(Zt);return H=mt,rt=tn,C(mt,tn)}finally{e.__wbindgen_add_to_stack_pointer(16),e.__wbindgen_free(H,rt,1)}}function X(){const T={};return T.wbg={},T.wbg.__wbg_new_898a68150f225f2e=function(){const A=new Array;return i(A)},T.wbg.__wbg_apply_f9ecfcbfefaf7349=function(){return k(function(A,v,M){const H=Reflect.apply(o(A),o(v),o(M));return i(H)},arguments)},T.wbg.__wbindgen_string_new=function(A,v){const M=C(A,v);return i(M)},T.wbg.__wbg_log_576ca876af0d4a77=function(A,v){console.log(o(A),o(v))},T.wbg.__wbindgen_object_drop_ref=function(A){l(A)},T.wbg.__wbindgen_object_clone_ref=function(A){const v=o(A);return i(v)},T.wbg.__wbg_iterator_97f0c81209c6c35a=function(){return i(Symbol.iterator)},T.wbg.__wbg_get_97b561fb56f034b5=function(){return k(function(A,v){const M=Reflect.get(o(A),o(v));return i(M)},arguments)},T.wbg.__wbindgen_is_function=function(A){return typeof o(A)=="function"},T.wbg.__wbg_call_cb65541d95d71282=function(){return k(function(A,v){const M=o(A).call(o(v));return i(M)},arguments)},T.wbg.__wbindgen_is_object=function(A){const v=o(A);return typeof v=="object"&&v!==null},T.wbg.__wbg_next_526fc47e980da008=function(A){const v=o(A).next;return i(v)},T.wbg.__wbindgen_memory=function(){const A=e.memory;return i(A)},T.wbg.__wbg_buffer_085ec1f694018c4f=function(A){const v=o(A).buffer;return i(v)},T.wbg.__wbg_new_8125e318e6245eed=function(A){const v=new Uint8Array(o(A));return i(v)},T.wbg.__wbg_set_5cf90238115182c3=function(A,v,M){o(A).set(o(v),M>>>0)},T.wbg.__wbg_length_72e2208bbc0efc61=function(A){return o(A).length},T.wbg.__wbg_newwithbyteoffsetandlength_6da8e527659b86aa=function(A,v,M){const H=new Uint8Array(o(A),v>>>0,M>>>0);return i(H)},T.wbg.__wbg_getwithrefkey_5e6d9547403deab8=function(A,v){const M=o(A)[o(v)];return i(M)},T.wbg.__wbindgen_is_undefined=function(A){return o(A)===void 0},T.wbg.__wbindgen_in=function(A,v){return o(A)in o(v)},T.wbg.__wbg_setindex_24de8908d99d47eb=function(A,v,M){o(A)[v>>>0]=M},T.wbg.__wbg_newwithlength_e5d69174d6984cd7=function(A){const v=new Uint8Array(A>>>0);return i(v)},T.wbg.__wbg_new_553093d7f6eb5551=function(){return k(function(A){const v=new WebAssembly.Module(o(A));return i(v)},arguments)},T.wbg.__wbg_new_56693dbed0c32988=function(){return i(new Map)},T.wbg.__wbg_set_bedc3d02d0f05eb0=function(A,v,M){const H=o(A).set(o(v),o(M));return i(H)},T.wbg.__wbg_createwasi_4e512e33ff502e0b=function(A){const v=kl(l(A));return i(v)},T.wbg.__wbindgen_jsval_loose_eq=function(A,v){return o(A)==o(v)},T.wbg.__wbindgen_number_get=function(A,v){const M=o(v),H=typeof M=="number"?M:void 0;y()[A/8+1]=V(H)?0:H,P()[A/4+0]=!V(H)},T.wbg.__wbg_isSafeInteger_bb8e18dd21c97288=function(A){return Number.isSafeInteger(o(A))},T.wbg.__wbg_isArray_4c24b343cb13cfb1=function(A){return Array.isArray(o(A))},T.wbg.__wbg_length_fff51ee6522a1a18=function(A){return o(A).length},T.wbg.__wbg_get_44be0491f933a435=function(A,v){const M=o(A)[v>>>0];return i(M)},T.wbg.__wbg_next_ddb3312ca1c4e32a=function(){return k(function(A){const v=o(A).next();return i(v)},arguments)},T.wbg.__wbg_done_5c1f01fb660d73b5=function(A){return o(A).done},T.wbg.__wbg_value_1695675138684bd5=function(A){const v=o(A).value;return i(v)},T.wbg.__wbindgen_boolean_get=function(A){const v=o(A);return typeof v=="boolean"?v?1:0:2},T.wbg.__wbg_byteLength_0488a7a303dccf40=function(A){return o(A).byteLength},T.wbg.__wbg_getindex_961202524f8271d6=function(A,v){return o(A)[v>>>0]},T.wbg.__wbg_new_b51585de1b234aff=function(){const A=new Object;return i(A)},T.wbg.__wbg_set_841ac57cff3d672b=function(A,v,M){o(A)[l(v)]=l(M)},T.wbg.__wbg_push_ca1c26067ef907ac=function(A,v){return o(A).push(o(v))},T.wbg.__wbg_error_c9309504864e78b5=function(A,v){console.error(o(A),o(v))},T.wbg.__wbg_log_53ed96ea72ace5e9=function(A,v){console.log(C(A,v))},T.wbg.__wbg_error_93b671ae91baaee7=function(A,v){console.error(C(A,v))},T.wbg.__wbg_warn_52c5b3e773c3a056=function(A,v){console.warn(C(A,v))},T.wbg.__wbindgen_error_new=function(A,v){const M=new Error(C(A,v));return i(M)},T.wbg.__wbg_entries_e51f29c7bba0c054=function(A){const v=Object.entries(o(A));return i(v)},T.wbg.__wbg_keys_386d224d0262f361=function(A){const v=Object.keys(o(A));return i(v)},T.wbg.__wbindgen_is_string=function(A){return typeof o(A)=="string"},T.wbg.__wbindgen_string_get=function(A,v){const M=o(v),H=typeof M=="string"?M:void 0;var rt=V(H)?0:j(H,e.__wbindgen_malloc,e.__wbindgen_realloc),st=G;P()[A/4+1]=st,P()[A/4+0]=rt},T.wbg.__wbindgen_number_new=function(A){return i(A)},T.wbg.__wbindgen_bigint_from_i64=function(A){return i(A)},T.wbg.__wbindgen_bigint_get_as_i64=function(A,v){const M=o(v),H=typeof M=="bigint"?M:void 0;p()[A/8+1]=V(H)?BigInt(0):H,P()[A/4+0]=!V(H)},T.wbg.__wbindgen_jsval_eq=function(A,v){return o(A)===o(v)},T.wbg.__wbg_generatewasiimports_56d8e071d0378317=function(A,v){const M=Gl(o(A),o(v));return i(M)},T.wbg.__wbg_set_092e06b0f9d71865=function(){return k(function(A,v,M){return Reflect.set(o(A),o(v),o(M))},arguments)},T.wbg.__wbg_log_1d3ae0273d8f4f8a=function(A){console.log(o(A))},T.wbg.__wbg_new_c9e5fb776850b9aa=function(){return k(function(A,v){const M=new WebAssembly.Instance(o(A),o(v));return i(M)},arguments)},T.wbg.__wbg_bindtoinstance_72627d6cd6c160b6=function(A,v){Hl(o(A),o(v))},T.wbg.__wbg_exports_9484b00cdfd311fc=function(A){const v=o(A).exports;return i(v)},T.wbg.__wbg_subarray_13db269f57aa838d=function(A,v,M){const H=o(A).subarray(v>>>0,M>>>0);return i(H)},T.wbg.__wbg_newwithargs_a0432b7780c1dfa1=function(A,v,M,H){const rt=new Function(C(A,v),C(M,H));return i(rt)},T.wbg.__wbg_bind_f9d2c8ec337bbbe7=function(A,v,M){const H=o(A).bind(o(v),o(M));return i(H)},T.wbg.__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4=function(A){let v;try{v=o(A)instanceof Uint8Array}catch{v=!1}return v},T.wbg.__wbg_instanceof_ArrayBuffer_39ac22089b74fddb=function(A){let v;try{v=o(A)instanceof ArrayBuffer}catch{v=!1}return v},T.wbg.__wbg_String_88810dfeb4021902=function(A,v){const M=String(o(v)),H=j(M,e.__wbindgen_malloc,e.__wbindgen_realloc),rt=G;P()[A/4+1]=rt,P()[A/4+0]=H},T.wbg.__wbindgen_debug_string=function(A,v){const M=d(o(v)),H=j(M,e.__wbindgen_malloc,e.__wbindgen_realloc),rt=G;P()[A/4+1]=rt,P()[A/4+0]=H},T.wbg.__wbindgen_throw=function(A,v){throw new Error(C(A,v))},T.wbg.__wbindgen_closure_wrapper1408=function(A,v,M){const H=E(A,v,130,D);return i(H)},T}function J(T,A){return e=T.exports,Xs.__wbindgen_wasm_module=A,q=new Int32Array,I=new Uint8Array,e.__wbindgen_start(),e}async function x(T){const A=X(),v=await WebAssembly.instantiate(T,A);return J(v,t)}return await x(t),{wasm:e,register_module:$,call_module:K}}class jl{controlModule;serviceId;logFunction;serviceConfig;modules;env={};_controlModuleInstance="not-set";constructor(e,n,r,i,o,s){this.controlModule=e,this.serviceId=n,this.logFunction=r,this.serviceConfig=i,this.modules=o,this.serviceConfig.modules_config.forEach(l=>{l.config.wasi.envs={WASM_LOG:"off",...s,...l.config.wasi.envs}})}async init(){const e=await Xs(this.controlModule);e.register_module(this.serviceConfig,this.modules,this.logFunction),this._controlModuleInstance=e}terminate(){this._controlModuleInstance="not-set"}call(e,n,r){if(this._controlModuleInstance==="not-set")throw new Error("Not initialized");if(this._controlModuleInstance==="terminated")throw new Error("Terminated");const i=this.serviceConfig.modules_config[this.serviceConfig.modules_config.length-1].import_name,o=JSON.stringify(n),s=this._controlModuleInstance.call_module(i,e,o,r);return JSON.parse(s)}}const Js=()=>typeof Symbol=="function",Ai=t=>Js()&&Boolean(Symbol[t]),wi=t=>Ai(t)?Symbol[t]:"@@"+t;Ai("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const Vl=wi("iterator"),Ti=wi("observable"),Zs=wi("species");function er(t,e){const n=t[e];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function In(t){let e=t.constructor;return e!==void 0&&(e=e[Zs],e===null&&(e=void 0)),e!==void 0?e:Jt}function Kl(t){return t instanceof Jt}function xe(t){xe.log?xe.log(t):setTimeout(()=>{throw t},0)}function nr(t){Promise.resolve().then(()=>{try{t()}catch(e){xe(e)}})}function Qs(t){const e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{const n=er(e,"unsubscribe");n&&n.call(e)}}catch(n){xe(n)}}function vi(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function $l(t){const e=t._queue;if(e){t._queue=void 0,t._state="ready";for(const n of e)if(xs(t,n.type,n.value),t._state==="closed")break}}function xs(t,e,n){t._state="running";const r=t._observer;try{const i=r?er(r,e):void 0;switch(e){case"next":i&&i.call(r,n);break;case"error":if(vi(t),i)i.call(r,n);else throw n;break;case"complete":vi(t),i&&i.call(r);break}}catch(i){xe(i)}t._state==="closed"?Qs(t):t._state==="running"&&(t._state="ready")}function Ri(t,e,n){if(t._state!=="closed"){if(t._state==="buffering"){t._queue=t._queue||[],t._queue.push({type:e,value:n});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:n}],nr(()=>$l(t));return}xs(t,e,n)}}class zl{constructor(e,n){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";const r=new ql(this);try{this._cleanup=n.call(void 0,r)}catch(i){r.error(i)}this._state==="initializing"&&(this._state="ready")}get closed(){return this._state==="closed"}unsubscribe(){this._state!=="closed"&&(vi(this),Qs(this))}}class ql{constructor(e){this._subscription=e}get closed(){return this._subscription._state==="closed"}next(e){Ri(this._subscription,"next",e)}error(e){Ri(this._subscription,"error",e)}complete(){Ri(this._subscription,"complete")}}class Jt{constructor(e){if(!(this instanceof Jt))throw new TypeError("Observable cannot be called as a function");if(typeof e!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,n,r){return(typeof e!="object"||e===null)&&(e={next:e,error:n,complete:r}),new zl(e,this._subscriber)}pipe(e,...n){let r=this;for(const i of[e,...n])r=i(r);return r}tap(e,n,r){const i=typeof e!="object"||e===null?{next:e,error:n,complete:r}:e;return new Jt(o=>this.subscribe({next(s){i.next&&i.next(s),o.next(s)},error(s){i.error&&i.error(s),o.error(s)},complete(){i.complete&&i.complete(),o.complete()},start(s){i.start&&i.start(s)}}))}forEach(e){return new Promise((n,r)=>{if(typeof e!="function"){r(new TypeError(e+" is not a function"));return}function i(){o.unsubscribe(),n(void 0)}const o=this.subscribe({next(s){try{e(s,i)}catch(l){r(l),o.unsubscribe()}},error(s){r(s)},complete(){n(void 0)}})})}map(e){if(typeof e!="function")throw new TypeError(e+" is not a function");const n=In(this);return new n(r=>this.subscribe({next(i){let o=i;try{o=e(i)}catch(s){return r.error(s)}r.next(o)},error(i){r.error(i)},complete(){r.complete()}}))}filter(e){if(typeof e!="function")throw new TypeError(e+" is not a function");const n=In(this);return new n(r=>this.subscribe({next(i){try{if(!e(i))return}catch(o){return r.error(o)}r.next(i)},error(i){r.error(i)},complete(){r.complete()}}))}reduce(e,n){if(typeof e!="function")throw new TypeError(e+" is not a function");const r=In(this),i=arguments.length>1;let o=!1,s=n;return new r(l=>this.subscribe({next(d){const c=!o;if(o=!0,!c||i)try{s=e(s,d)}catch(g){return l.error(g)}else s=d},error(d){l.error(d)},complete(){if(!o&&!i)return l.error(new TypeError("Cannot reduce an empty sequence"));l.next(s),l.complete()}}))}concat(...e){const n=In(this);return new n(r=>{let i,o=0;function s(l){i=l.subscribe({next(d){r.next(d)},error(d){r.error(d)},complete(){o===e.length?(i=void 0,r.complete()):s(n.from(e[o++]))}})}return s(this),()=>{i&&(i.unsubscribe(),i=void 0)}})}flatMap(e){if(typeof e!="function")throw new TypeError(e+" is not a function");const n=In(this);return new n(r=>{const i=[],o=this.subscribe({next(l){let d;if(e)try{d=e(l)}catch(g){return r.error(g)}else d=l;const c=n.from(d).subscribe({next(g){r.next(g)},error(g){r.error(g)},complete(){const g=i.indexOf(c);g>=0&&i.splice(g,1),s()}});i.push(c)},error(l){r.error(l)},complete(){s()}});function s(){o.closed&&i.length===0&&r.complete()}return()=>{i.forEach(l=>l.unsubscribe()),o.unsubscribe()}})}[Ti](){return this}static from(e){const n=typeof this=="function"?this:Jt;if(e==null)throw new TypeError(e+" is not an object");const r=er(e,Ti);if(r){const i=r.call(e);if(Object(i)!==i)throw new TypeError(i+" is not an object");return Kl(i)&&i.constructor===n?i:new n(o=>i.subscribe(o))}if(Ai("iterator")){const i=er(e,Vl);if(i)return new n(o=>{nr(()=>{if(!o.closed){for(const s of i.call(e))if(o.next(s),o.closed)return;o.complete()}})})}if(Array.isArray(e))return new n(i=>{nr(()=>{if(!i.closed){for(const o of e)if(i.next(o),i.closed)return;i.complete()}})});throw new TypeError(e+" is not observable")}static of(...e){const n=typeof this=="function"?this:Jt;return new n(r=>{nr(()=>{if(!r.closed){for(const i of e)if(r.next(i),r.closed)return;r.complete()}})})}static get[Zs](){return this}}Js()&&Object.defineProperty(Jt,Symbol("extensions"),{value:{symbol:Ti,hostReportError:xe},configurable:!0});const bs=Jt;class Xl extends bs{constructor(){super(e=>(this._observers.add(e),()=>this._observers.delete(e))),this._observers=new Set}next(e){for(const n of this._observers)n.next(e)}error(e){for(const n of this._observers)n.error(e)}complete(){for(const e of this._observers)e.complete()}}const Jl=Xl,tu={deserialize(t){return Object.assign(Error(t.message),{name:t.name,stack:t.stack})},serialize(t){return{__error_marker:"$$error",message:t.message,name:t.name,stack:t.stack}}},Zl=t=>t&&typeof t=="object"&&"__error_marker"in t&&t.__error_marker==="$$error";let eu={deserialize(t){return Zl(t)?tu.deserialize(t):t},serialize(t){return t instanceof Error?tu.serialize(t):t}};function nu(t){return eu.deserialize(t)}function be(t){return eu.serialize(t)}const Ql=Symbol("thread.transferable");function xl(t){return t&&typeof t=="object"&&t[Ql]}var rr;(function(t){t.cancel="cancel",t.run="run"})(rr||(rr={}));var ae;(function(t){t.error="error",t.init="init",t.result="result",t.running="running",t.uncaughtError="uncaughtError"})(ae||(ae={}));var bl=t=>t?typeof Symbol.observable=="symbol"&&typeof t[Symbol.observable]=="function"?t===t[Symbol.observable]():typeof t["@@observable"]=="function"?t===t["@@observable"]():!1:!1;const th={isWorkerRuntime:function(){const e=typeof it<"u"&&typeof Window<"u"&&it instanceof Window;return!!(typeof it<"u"&&it.postMessage&&!e)},postMessageToMaster:function(e,n){it.postMessage(e,n)},subscribeToMasterMessages:function(e){const n=i=>{e(i.data)},r=()=>{it.removeEventListener("message",n)};return it.addEventListener("message",n),r}};typeof it>"u"&&(global.self=global);const eh=function(){return!!(typeof it<"u"&&it.postMessage)},nh=function(e){it.postMessage(e)};let ru=!1;const Oi=new Set,rh={isWorkerRuntime:eh,postMessageToMaster:nh,subscribeToMasterMessages:function(e){return ru||(it.addEventListener("message",r=>{Oi.forEach(i=>i(r.data))}),ru=!0),Oi.add(e),()=>Oi.delete(e)}};let Ni;function ih(){return typeof __non_webpack_require__=="function"?__non_webpack_require__("worker_threads"):Tu}function ir(){return Ni||(Ni=ih()),Ni}function Li(t){if(!t)throw Error("Invariant violation: MessagePort to parent is not available.");return t}const oh=function(){return!ir().isMainThread},sh=function(e,n){Li(ir().parentPort).postMessage(e,n)},uh=function(e){const n=ir().parentPort;if(!n)throw Error("Invariant violation: MessagePort to parent is not available.");const r=o=>{e(o)},i=()=>{Li(n).off("message",r)};return Li(n).on("message",r),i};function fh(){ir()}const iu={isWorkerRuntime:oh,postMessageToMaster:sh,subscribeToMasterMessages:uh,testImplementation:fh},lh=typeof process<"u"&&process.arch!=="browser"&&"pid"in process;function hh(){try{return iu.testImplementation(),iu}catch{return rh}}const Rt=lh?hh():th;var ch=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(g){try{c(r.next(g))}catch(y){s(y)}}function d(g){try{c(r.throw(g))}catch(y){s(y)}}function c(g){g.done?o(g.value):i(g.value).then(l,d)}c((r=r.apply(t,e||[])).next())})};Rt.isWorkerRuntime;let ou=!1;const An=new Map,ah=t=>t&&t.type===rr.cancel,su=t=>t&&t.type===rr.run,uu=t=>bl(t)||_h(t);function _h(t){return t&&typeof t=="object"&&typeof t.subscribe=="function"}function fu(t){return xl(t)?{payload:t.send,transferables:t.transferables}:{payload:t,transferables:void 0}}function ph(){const t={type:ae.init,exposed:{type:"function"}};Rt.postMessageToMaster(t)}function gh(t){const e={type:ae.init,exposed:{type:"module",methods:t}};Rt.postMessageToMaster(e)}function Ci(t,e){const{payload:n,transferables:r}=fu(e),i={type:ae.error,uid:t,error:be(n)};Rt.postMessageToMaster(i,r)}function Wi(t,e,n){const{payload:r,transferables:i}=fu(n),o={type:ae.result,uid:t,complete:e?!0:void 0,payload:r};Rt.postMessageToMaster(o,i)}function dh(t,e){const n={type:ae.running,uid:t,resultType:e};Rt.postMessageToMaster(n)}function or(t){try{const e={type:ae.uncaughtError,error:be(t)};Rt.postMessageToMaster(e)}catch(e){console.error(`Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.
Latest error:`,e,`
Original error:`,t)}}function lu(t,e,n){return ch(this,void 0,void 0,function*(){let r;try{r=e(...n)}catch(o){return Ci(t,o)}const i=uu(r)?"observable":"promise";if(dh(t,i),uu(r)){const o=r.subscribe(s=>Wi(t,!1,be(s)),s=>{Ci(t,be(s)),An.delete(t)},()=>{Wi(t,!0),An.delete(t)});An.set(t,o)}else try{const o=yield r;Wi(t,!0,be(o))}catch(o){Ci(t,be(o))}})}function yh(t){if(!Rt.isWorkerRuntime())throw Error("expose() called in the master thread.");if(ou)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(ou=!0,typeof t=="function")Rt.subscribeToMasterMessages(e=>{su(e)&&!e.method&&lu(e.uid,t,e.args.map(nu))}),ph();else if(typeof t=="object"&&t){Rt.subscribeToMasterMessages(n=>{su(n)&&n.method&&lu(n.uid,t[n.method],n.args.map(nu))});const e=Object.keys(t).filter(n=>typeof t[n]=="function");gh(e)}else throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${t}`);Rt.subscribeToMasterMessages(e=>{if(ah(e)){const n=e.uid,r=An.get(n);r&&(r.unsubscribe(),An.delete(n))}})}typeof it<"u"&&typeof it.addEventListener=="function"&&Rt.isWorkerRuntime()&&(it.addEventListener("error",t=>{setTimeout(()=>or(t.error||t),250)}),it.addEventListener("unhandledrejection",t=>{const e=t.reason;e&&typeof e.message=="string"&&setTimeout(()=>or(e),250)})),typeof process<"u"&&typeof process.on=="function"&&Rt.isWorkerRuntime()&&(process.on("uncaughtException",t=>{setTimeout(()=>or(t),250)}),process.on("unhandledRejection",t=>{t&&typeof t.message=="string"&&setTimeout(()=>or(t),250)}));const Eh=(t,e)=>({import_name:t,config:{logger_enabled:!0,logging_mask:0,wasi:{envs:{...e},preopened_files:new Set,mapped_dirs:new Map}}}),Sh=(t,e)=>({modules_config:[Eh(t,e)]});let _e=new Map,Pi;const sr=new Jl;yh({init:async t=>{Pi=new WebAssembly.Module(new Uint8Array(t))},createService:async(t,e,n)=>{if(!Pi)throw new Error("MarineJS is not initialized. To initialize call `init` function");if(_e.has(e))throw new Error(`Service with name ${e} already registered`);const r=Sh(e,n),i={[e]:new Uint8Array(t)},o=new jl(Pi,e,sr.next.bind(sr),r,i,n);await o.init(),_e.set(e,o)},hasService:async t=>_e.has(t),removeService:async t=>{if(t==="avm")throw new Error("Cannot remove 'avm' service");return _e.get(t)?.terminate(),_e.delete(t)},terminate:async()=>{_e.forEach((t,e)=>{t.terminate()}),_e.clear(),sr.complete()},callService:async(t,e,n,r)=>{const i=_e.get(t);if(!i)throw new Error(`service with id=${t} not found`);return i.call(e,n,r)},onLogMessage(){return bs.from(sr)}})});
